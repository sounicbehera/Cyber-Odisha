function aA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Q0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y0={exports:{}},Ku={},X0={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=Symbol.for("react.element"),lA=Symbol.for("react.portal"),cA=Symbol.for("react.fragment"),uA=Symbol.for("react.strict_mode"),dA=Symbol.for("react.profiler"),hA=Symbol.for("react.provider"),fA=Symbol.for("react.context"),pA=Symbol.for("react.forward_ref"),mA=Symbol.for("react.suspense"),gA=Symbol.for("react.memo"),vA=Symbol.for("react.lazy"),Vv=Symbol.iterator;function yA(t){return t===null||typeof t!="object"?null:(t=Vv&&t[Vv]||t["@@iterator"],typeof t=="function"?t:null)}var J0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z0=Object.assign,ew={};function so(t,e,n){this.props=t,this.context=e,this.refs=ew,this.updater=n||J0}so.prototype.isReactComponent={};so.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};so.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tw(){}tw.prototype=so.prototype;function kp(t,e,n){this.props=t,this.context=e,this.refs=ew,this.updater=n||J0}var Dp=kp.prototype=new tw;Dp.constructor=kp;Z0(Dp,so.prototype);Dp.isPureReactComponent=!0;var Fv=Array.isArray,nw=Object.prototype.hasOwnProperty,Op={current:null},rw={key:!0,ref:!0,__self:!0,__source:!0};function sw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)nw.call(e,r)&&!rw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Za,type:t,key:i,ref:o,props:s,_owner:Op.current}}function _A(t,e){return{$$typeof:Za,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Za}function wA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uv=/\/+/g;function rh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wA(""+t.key):e.toString(36)}function vc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Za:case lA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+rh(o,0):r,Fv(s)?(n="",t!=null&&(n=t.replace(Uv,"$&/")+"/"),vc(s,e,n,"",function(u){return u})):s!=null&&(Lp(s)&&(s=_A(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Uv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Fv(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+rh(i,a);o+=vc(i,e,n,c,s)}else if(c=yA(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+rh(i,a++),o+=vc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ul(t,e,n){if(t==null)return t;var r=[],s=0;return vc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function EA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},yc={transition:null},xA={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:yc,ReactCurrentOwner:Op};function iw(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Ul,forEach:function(t,e,n){Ul(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ul(t,function(){e++}),e},toArray:function(t){return Ul(t,function(e){return e})||[]},only:function(t){if(!Lp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=so;fe.Fragment=cA;fe.Profiler=dA;fe.PureComponent=kp;fe.StrictMode=uA;fe.Suspense=mA;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xA;fe.act=iw;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Z0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Op.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)nw.call(e,c)&&!rw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Za,type:t.type,key:s,ref:i,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:fA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hA,_context:t},t.Consumer=t};fe.createElement=sw;fe.createFactory=function(t){var e=sw.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:pA,render:t}};fe.isValidElement=Lp;fe.lazy=function(t){return{$$typeof:vA,_payload:{_status:-1,_result:t},_init:EA}};fe.memo=function(t,e){return{$$typeof:gA,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=yc.transition;yc.transition={};try{t()}finally{yc.transition=e}};fe.unstable_act=iw;fe.useCallback=function(t,e){return Mt.current.useCallback(t,e)};fe.useContext=function(t){return Mt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Mt.current.useEffect(t,e)};fe.useId=function(){return Mt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Mt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};fe.useRef=function(t){return Mt.current.useRef(t)};fe.useState=function(t){return Mt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Mt.current.useTransition()};fe.version="18.3.1";X0.exports=fe;var y=X0.exports;const Jn=Q0(y),jp=aA({__proto__:null,default:Jn},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA=y,IA=Symbol.for("react.element"),SA=Symbol.for("react.fragment"),CA=Object.prototype.hasOwnProperty,AA=TA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RA={key:!0,ref:!0,__self:!0,__source:!0};function ow(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CA.call(e,r)&&!RA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:IA,type:t,key:i,ref:o,props:s,_owner:AA.current}}Ku.Fragment=SA;Ku.jsx=ow;Ku.jsxs=ow;Y0.exports=Ku;var d=Y0.exports,Zh={},aw={exports:{}},en={},lw={exports:{}},cw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,H){var G=j.length;j.push(H);e:for(;0<G;){var de=G-1>>>1,ce=j[de];if(0<s(ce,H))j[de]=H,j[G]=ce,G=de;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var H=j[0],G=j.pop();if(G!==H){j[0]=G;e:for(var de=0,ce=j.length,se=ce>>>1;de<se;){var pe=2*(de+1)-1,Oe=j[pe],$e=pe+1,W=j[$e];if(0>s(Oe,G))$e<ce&&0>s(W,Oe)?(j[de]=W,j[$e]=G,de=$e):(j[de]=Oe,j[pe]=G,de=pe);else if($e<ce&&0>s(W,G))j[de]=W,j[$e]=G,de=$e;else break e}}return H}function s(j,H){var G=j.sortIndex-H.sortIndex;return G!==0?G:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,p=null,g=3,x=!1,w=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=j)r(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(u)}}function P(j){if(E=!1,S(j),!w)if(n(c)!==null)w=!0,J(L);else{var H=n(u);H!==null&&te(P,H.startTime-j)}}function L(j,H){w=!1,E&&(E=!1,T(v),v=-1),x=!0;var G=g;try{for(S(H),p=n(c);p!==null&&(!(p.expirationTime>H)||j&&!k());){var de=p.callback;if(typeof de=="function"){p.callback=null,g=p.priorityLevel;var ce=de(p.expirationTime<=H);H=t.unstable_now(),typeof ce=="function"?p.callback=ce:p===n(c)&&r(c),S(H)}else r(c);p=n(c)}if(p!==null)var se=!0;else{var pe=n(u);pe!==null&&te(P,pe.startTime-H),se=!1}return se}finally{p=null,g=G,x=!1}}var D=!1,I=null,v=-1,A=5,N=-1;function k(){return!(t.unstable_now()-N<A)}function O(){if(I!==null){var j=t.unstable_now();N=j;var H=!0;try{H=I(!0,j)}finally{H?b():(D=!1,I=null)}}else D=!1}var b;if(typeof _=="function")b=function(){_(O)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,oe=ee.port2;ee.port1.onmessage=O,b=function(){oe.postMessage(null)}}else b=function(){R(O,0)};function J(j){I=j,D||(D=!0,b())}function te(j,H){v=R(function(){j(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){w||x||(w=!0,J(L))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var G=g;g=H;try{return j()}finally{g=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var G=g;g=j;try{return H()}finally{g=G}},t.unstable_scheduleCallback=function(j,H,G){var de=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?de+G:de):G=de,j){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=G+ce,j={id:h++,callback:H,priorityLevel:j,startTime:G,expirationTime:ce,sortIndex:-1},G>de?(j.sortIndex=G,e(u,j),n(c)===null&&j===n(u)&&(E?(T(v),v=-1):E=!0,te(P,G-de))):(j.sortIndex=ce,e(c,j),w||x||(w=!0,J(L))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var H=g;return function(){var G=g;g=H;try{return j.apply(this,arguments)}finally{g=G}}}})(cw);lw.exports=cw;var NA=lw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA=y,Zt=NA;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uw=new Set,_a={};function Js(t,e){Bi(t,e),Bi(t+"Capture",e)}function Bi(t,e){for(_a[t]=e,t=0;t<e.length;t++)uw.add(e[t])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ef=Object.prototype.hasOwnProperty,PA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zv={},Bv={};function kA(t){return ef.call(Bv,t)?!0:ef.call(zv,t)?!1:PA.test(t)?Bv[t]=!0:(zv[t]=!0,!1)}function DA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OA(t,e,n,r){if(e===null||typeof e>"u"||DA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mp=/[\-:]([a-z])/g;function Vp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mp,Vp);yt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mp,Vp);yt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mp,Vp);yt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fp(t,e,n,r){var s=yt.hasOwnProperty(e)?yt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OA(e,n,s,r)&&(n=null),r||s===null?kA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Er=bA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),mi=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),tf=Symbol.for("react.profiler"),dw=Symbol.for("react.provider"),hw=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),nf=Symbol.for("react.suspense"),rf=Symbol.for("react.suspense_list"),Bp=Symbol.for("react.memo"),kr=Symbol.for("react.lazy"),fw=Symbol.for("react.offscreen"),$v=Symbol.iterator;function Mo(t){return t===null||typeof t!="object"?null:(t=$v&&t[$v]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,sh;function Ko(t){if(sh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sh=e&&e[1]||""}return`
`+sh+t}var ih=!1;function oh(t,e){if(!t||ih)return"";ih=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{ih=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ko(t):""}function LA(t){switch(t.tag){case 5:return Ko(t.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return t=oh(t.type,!1),t;case 11:return t=oh(t.type.render,!1),t;case 1:return t=oh(t.type,!0),t;default:return""}}function sf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gi:return"Fragment";case mi:return"Portal";case tf:return"Profiler";case Up:return"StrictMode";case nf:return"Suspense";case rf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hw:return(t.displayName||"Context")+".Consumer";case dw:return(t._context.displayName||"Context")+".Provider";case zp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bp:return e=t.displayName||null,e!==null?e:sf(t.type)||"Memo";case kr:e=t._payload,t=t._init;try{return sf(t(e))}catch{}}return null}function jA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sf(e);case 8:return e===Up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MA(t){var e=pw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bl(t){t._valueTracker||(t._valueTracker=MA(t))}function mw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function of(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Wv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gw(t,e){e=e.checked,e!=null&&Fp(t,"checked",e,!1)}function af(t,e){gw(t,e);var n=ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lf(t,e.type,n):e.hasOwnProperty("defaultValue")&&lf(t,e.type,ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lf(t,e,n){(e!=="number"||Yc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Go=Array.isArray;function Ri(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ns(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function cf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Go(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ns(n)}}function vw(t,e){var n=ns(e.value),r=ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Kv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $l,_w=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($l=$l||document.createElement("div"),$l.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$l.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VA=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(t){VA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sa[e]=sa[t]})});function ww(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sa.hasOwnProperty(t)&&sa[t]?(""+e).trim():e+"px"}function Ew(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ww(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var FA=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function df(t,e){if(e){if(FA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function hf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=null;function $p(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pf=null,Ni=null,bi=null;function Gv(t){if(t=nl(t)){if(typeof pf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Ju(e),pf(t.stateNode,t.type,e))}}function xw(t){Ni?bi?bi.push(t):bi=[t]:Ni=t}function Tw(){if(Ni){var t=Ni,e=bi;if(bi=Ni=null,Gv(t),e)for(t=0;t<e.length;t++)Gv(e[t])}}function Iw(t,e){return t(e)}function Sw(){}var ah=!1;function Cw(t,e,n){if(ah)return t(e,n);ah=!0;try{return Iw(t,e,n)}finally{ah=!1,(Ni!==null||bi!==null)&&(Sw(),Tw())}}function Ea(t,e){var n=t.stateNode;if(n===null)return null;var r=Ju(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var mf=!1;if(dr)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){mf=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{mf=!1}function UA(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var ia=!1,Xc=null,Jc=!1,gf=null,zA={onError:function(t){ia=!0,Xc=t}};function BA(t,e,n,r,s,i,o,a,c){ia=!1,Xc=null,UA.apply(zA,arguments)}function $A(t,e,n,r,s,i,o,a,c){if(BA.apply(this,arguments),ia){if(ia){var u=Xc;ia=!1,Xc=null}else throw Error(z(198));Jc||(Jc=!0,gf=u)}}function Zs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Aw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qv(t){if(Zs(t)!==t)throw Error(z(188))}function WA(t){var e=t.alternate;if(!e){if(e=Zs(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Qv(s),t;if(i===r)return Qv(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Rw(t){return t=WA(t),t!==null?Nw(t):null}function Nw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nw(t);if(e!==null)return e;t=t.sibling}return null}var bw=Zt.unstable_scheduleCallback,Yv=Zt.unstable_cancelCallback,HA=Zt.unstable_shouldYield,qA=Zt.unstable_requestPaint,Ze=Zt.unstable_now,KA=Zt.unstable_getCurrentPriorityLevel,Wp=Zt.unstable_ImmediatePriority,Pw=Zt.unstable_UserBlockingPriority,Zc=Zt.unstable_NormalPriority,GA=Zt.unstable_LowPriority,kw=Zt.unstable_IdlePriority,Gu=null,Mn=null;function QA(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Gu,t,void 0,(t.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:JA,YA=Math.log,XA=Math.LN2;function JA(t){return t>>>=0,t===0?32:31-(YA(t)/XA|0)|0}var Wl=64,Hl=4194304;function Qo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Qo(a):(i&=o,i!==0&&(r=Qo(i)))}else o=n&~s,o!==0?r=Qo(o):i!==0&&(r=Qo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wn(e),s=1<<n,r|=t[n],e&=~s;return r}function ZA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-wn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=ZA(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function vf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dw(){var t=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),t}function lh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function el(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wn(e),t[e]=n}function tR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-wn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Hp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ne=0;function Ow(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lw,qp,jw,Mw,Vw,yf=!1,ql=[],$r=null,Wr=null,Hr=null,xa=new Map,Ta=new Map,Or=[],nR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xv(t,e){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":xa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(e.pointerId)}}function Fo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=nl(e),e!==null&&qp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function rR(t,e,n,r,s){switch(e){case"focusin":return $r=Fo($r,t,e,n,r,s),!0;case"dragenter":return Wr=Fo(Wr,t,e,n,r,s),!0;case"mouseover":return Hr=Fo(Hr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xa.set(i,Fo(xa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ta.set(i,Fo(Ta.get(i)||null,t,e,n,r,s)),!0}return!1}function Fw(t){var e=bs(t.target);if(e!==null){var n=Zs(e);if(n!==null){if(e=n.tag,e===13){if(e=Aw(n),e!==null){t.blockedOn=e,Vw(t.priority,function(){jw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_f(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ff=r,n.target.dispatchEvent(r),ff=null}else return e=nl(n),e!==null&&qp(e),t.blockedOn=n,!1;e.shift()}return!0}function Jv(t,e,n){_c(t)&&n.delete(e)}function sR(){yf=!1,$r!==null&&_c($r)&&($r=null),Wr!==null&&_c(Wr)&&(Wr=null),Hr!==null&&_c(Hr)&&(Hr=null),xa.forEach(Jv),Ta.forEach(Jv)}function Uo(t,e){t.blockedOn===e&&(t.blockedOn=null,yf||(yf=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,sR)))}function Ia(t){function e(s){return Uo(s,t)}if(0<ql.length){Uo(ql[0],t);for(var n=1;n<ql.length;n++){var r=ql[n];r.blockedOn===t&&(r.blockedOn=null)}}for($r!==null&&Uo($r,t),Wr!==null&&Uo(Wr,t),Hr!==null&&Uo(Hr,t),xa.forEach(e),Ta.forEach(e),n=0;n<Or.length;n++)r=Or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)Fw(n),n.blockedOn===null&&Or.shift()}var Pi=Er.ReactCurrentBatchConfig,tu=!0;function iR(t,e,n,r){var s=Ne,i=Pi.transition;Pi.transition=null;try{Ne=1,Kp(t,e,n,r)}finally{Ne=s,Pi.transition=i}}function oR(t,e,n,r){var s=Ne,i=Pi.transition;Pi.transition=null;try{Ne=4,Kp(t,e,n,r)}finally{Ne=s,Pi.transition=i}}function Kp(t,e,n,r){if(tu){var s=_f(t,e,n,r);if(s===null)yh(t,e,r,nu,n),Xv(t,r);else if(rR(s,t,e,n,r))r.stopPropagation();else if(Xv(t,r),e&4&&-1<nR.indexOf(t)){for(;s!==null;){var i=nl(s);if(i!==null&&Lw(i),i=_f(t,e,n,r),i===null&&yh(t,e,r,nu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yh(t,e,r,null,n)}}var nu=null;function _f(t,e,n,r){if(nu=null,t=$p(r),t=bs(t),t!==null)if(e=Zs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Aw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nu=t,null}function Uw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KA()){case Wp:return 1;case Pw:return 4;case Zc:case GA:return 16;case kw:return 536870912;default:return 16}default:return 16}}var Ur=null,Gp=null,wc=null;function zw(){if(wc)return wc;var t,e=Gp,n=e.length,r,s="value"in Ur?Ur.value:Ur.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return wc=s.slice(t,1<r?1-r:void 0)}function Ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function Zv(){return!1}function tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kl:Zv,this.isPropagationStopped=Zv,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qp=tn(io),tl=qe({},io,{view:0,detail:0}),aR=tn(tl),ch,uh,zo,Qu=qe({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(ch=t.screenX-zo.screenX,uh=t.screenY-zo.screenY):uh=ch=0,zo=t),ch)},movementY:function(t){return"movementY"in t?t.movementY:uh}}),ey=tn(Qu),lR=qe({},Qu,{dataTransfer:0}),cR=tn(lR),uR=qe({},tl,{relatedTarget:0}),dh=tn(uR),dR=qe({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),hR=tn(dR),fR=qe({},io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pR=tn(fR),mR=qe({},io,{data:0}),ty=tn(mR),gR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _R(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yR[t])?!!e[t]:!1}function Yp(){return _R}var wR=qe({},tl,{key:function(t){if(t.key){var e=gR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yp,charCode:function(t){return t.type==="keypress"?Ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ER=tn(wR),xR=qe({},Qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ny=tn(xR),TR=qe({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yp}),IR=tn(TR),SR=qe({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),CR=tn(SR),AR=qe({},Qu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RR=tn(AR),NR=[9,13,27,32],Xp=dr&&"CompositionEvent"in window,oa=null;dr&&"documentMode"in document&&(oa=document.documentMode);var bR=dr&&"TextEvent"in window&&!oa,Bw=dr&&(!Xp||oa&&8<oa&&11>=oa),ry=" ",sy=!1;function $w(t,e){switch(t){case"keyup":return NR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ww(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vi=!1;function PR(t,e){switch(t){case"compositionend":return Ww(e);case"keypress":return e.which!==32?null:(sy=!0,ry);case"textInput":return t=e.data,t===ry&&sy?null:t;default:return null}}function kR(t,e){if(vi)return t==="compositionend"||!Xp&&$w(t,e)?(t=zw(),wc=Gp=Ur=null,vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bw&&e.locale!=="ko"?null:e.data;default:return null}}var DR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DR[t.type]:e==="textarea"}function Hw(t,e,n,r){xw(r),e=ru(e,"onChange"),0<e.length&&(n=new Qp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var aa=null,Sa=null;function OR(t){nE(t,0)}function Yu(t){var e=wi(t);if(mw(e))return t}function LR(t,e){if(t==="change")return e}var qw=!1;if(dr){var hh;if(dr){var fh="oninput"in document;if(!fh){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),fh=typeof oy.oninput=="function"}hh=fh}else hh=!1;qw=hh&&(!document.documentMode||9<document.documentMode)}function ay(){aa&&(aa.detachEvent("onpropertychange",Kw),Sa=aa=null)}function Kw(t){if(t.propertyName==="value"&&Yu(Sa)){var e=[];Hw(e,Sa,t,$p(t)),Cw(OR,e)}}function jR(t,e,n){t==="focusin"?(ay(),aa=e,Sa=n,aa.attachEvent("onpropertychange",Kw)):t==="focusout"&&ay()}function MR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(Sa)}function VR(t,e){if(t==="click")return Yu(e)}function FR(t,e){if(t==="input"||t==="change")return Yu(e)}function UR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:UR;function Ca(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ef.call(e,s)||!Tn(t[s],e[s]))return!1}return!0}function ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cy(t,e){var n=ly(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ly(n)}}function Gw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qw(){for(var t=window,e=Yc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yc(t.document)}return e}function Jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zR(t){var e=Qw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Gw(n.ownerDocument.documentElement,n)){if(r!==null&&Jp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=cy(n,i);var o=cy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BR=dr&&"documentMode"in document&&11>=document.documentMode,yi=null,wf=null,la=null,Ef=!1;function uy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ef||yi==null||yi!==Yc(r)||(r=yi,"selectionStart"in r&&Jp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),la&&Ca(la,r)||(la=r,r=ru(wf,"onSelect"),0<r.length&&(e=new Qp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yi)))}function Gl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _i={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},ph={},Yw={};dr&&(Yw=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Xu(t){if(ph[t])return ph[t];if(!_i[t])return t;var e=_i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Yw)return ph[t]=e[n];return t}var Xw=Xu("animationend"),Jw=Xu("animationiteration"),Zw=Xu("animationstart"),eE=Xu("transitionend"),tE=new Map,dy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(t,e){tE.set(t,e),Js(e,[t])}for(var mh=0;mh<dy.length;mh++){var gh=dy[mh],$R=gh.toLowerCase(),WR=gh[0].toUpperCase()+gh.slice(1);ds($R,"on"+WR)}ds(Xw,"onAnimationEnd");ds(Jw,"onAnimationIteration");ds(Zw,"onAnimationStart");ds("dblclick","onDoubleClick");ds("focusin","onFocus");ds("focusout","onBlur");ds(eE,"onTransitionEnd");Bi("onMouseEnter",["mouseout","mouseover"]);Bi("onMouseLeave",["mouseout","mouseover"]);Bi("onPointerEnter",["pointerout","pointerover"]);Bi("onPointerLeave",["pointerout","pointerover"]);Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Js("onBeforeInput",["compositionend","keypress","textInput","paste"]);Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function hy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$A(r,e,void 0,t),t.currentTarget=null}function nE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;hy(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;hy(s,a,u),i=c}}}if(Jc)throw t=gf,Jc=!1,gf=null,t}function je(t,e){var n=e[Cf];n===void 0&&(n=e[Cf]=new Set);var r=t+"__bubble";n.has(r)||(rE(e,t,2,!1),n.add(r))}function vh(t,e,n){var r=0;e&&(r|=4),rE(n,t,r,e)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Aa(t){if(!t[Ql]){t[Ql]=!0,uw.forEach(function(n){n!=="selectionchange"&&(HR.has(n)||vh(n,!1,t),vh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ql]||(e[Ql]=!0,vh("selectionchange",!1,e))}}function rE(t,e,n,r){switch(Uw(e)){case 1:var s=iR;break;case 4:s=oR;break;default:s=Kp}n=s.bind(null,e,n,t),s=void 0,!mf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function yh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=bs(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Cw(function(){var u=i,h=$p(n),p=[];e:{var g=tE.get(t);if(g!==void 0){var x=Qp,w=t;switch(t){case"keypress":if(Ec(n)===0)break e;case"keydown":case"keyup":x=ER;break;case"focusin":w="focus",x=dh;break;case"focusout":w="blur",x=dh;break;case"beforeblur":case"afterblur":x=dh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=cR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=IR;break;case Xw:case Jw:case Zw:x=hR;break;case eE:x=CR;break;case"scroll":x=aR;break;case"wheel":x=RR;break;case"copy":case"cut":case"paste":x=pR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ny}var E=(e&4)!==0,R=!E&&t==="scroll",T=E?g!==null?g+"Capture":null:g;E=[];for(var _=u,S;_!==null;){S=_;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,T!==null&&(P=Ea(_,T),P!=null&&E.push(Ra(_,P,S)))),R)break;_=_.return}0<E.length&&(g=new x(g,w,null,n,h),p.push({event:g,listeners:E}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==ff&&(w=n.relatedTarget||n.fromElement)&&(bs(w)||w[hr]))break e;if((x||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,x?(w=n.relatedTarget||n.toElement,x=u,w=w?bs(w):null,w!==null&&(R=Zs(w),w!==R||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=u),x!==w)){if(E=ey,P="onMouseLeave",T="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(E=ny,P="onPointerLeave",T="onPointerEnter",_="pointer"),R=x==null?g:wi(x),S=w==null?g:wi(w),g=new E(P,_+"leave",x,n,h),g.target=R,g.relatedTarget=S,P=null,bs(h)===u&&(E=new E(T,_+"enter",w,n,h),E.target=S,E.relatedTarget=R,P=E),R=P,x&&w)t:{for(E=x,T=w,_=0,S=E;S;S=ai(S))_++;for(S=0,P=T;P;P=ai(P))S++;for(;0<_-S;)E=ai(E),_--;for(;0<S-_;)T=ai(T),S--;for(;_--;){if(E===T||T!==null&&E===T.alternate)break t;E=ai(E),T=ai(T)}E=null}else E=null;x!==null&&fy(p,g,x,E,!1),w!==null&&R!==null&&fy(p,R,w,E,!0)}}e:{if(g=u?wi(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var L=LR;else if(iy(g))if(qw)L=FR;else{L=MR;var D=jR}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=VR);if(L&&(L=L(t,u))){Hw(p,L,n,h);break e}D&&D(t,g,u),t==="focusout"&&(D=g._wrapperState)&&D.controlled&&g.type==="number"&&lf(g,"number",g.value)}switch(D=u?wi(u):window,t){case"focusin":(iy(D)||D.contentEditable==="true")&&(yi=D,wf=u,la=null);break;case"focusout":la=wf=yi=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,uy(p,n,h);break;case"selectionchange":if(BR)break;case"keydown":case"keyup":uy(p,n,h)}var I;if(Xp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else vi?$w(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Bw&&n.locale!=="ko"&&(vi||v!=="onCompositionStart"?v==="onCompositionEnd"&&vi&&(I=zw()):(Ur=h,Gp="value"in Ur?Ur.value:Ur.textContent,vi=!0)),D=ru(u,v),0<D.length&&(v=new ty(v,t,null,n,h),p.push({event:v,listeners:D}),I?v.data=I:(I=Ww(n),I!==null&&(v.data=I)))),(I=bR?PR(t,n):kR(t,n))&&(u=ru(u,"onBeforeInput"),0<u.length&&(h=new ty("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=I))}nE(p,e)})}function Ra(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ru(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ea(t,n),i!=null&&r.unshift(Ra(t,i,s)),i=Ea(t,e),i!=null&&r.push(Ra(t,i,s))),t=t.return}return r}function ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ea(n,i),c!=null&&o.unshift(Ra(n,c,a))):s||(c=Ea(n,i),c!=null&&o.push(Ra(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qR=/\r\n?/g,KR=/\u0000|\uFFFD/g;function py(t){return(typeof t=="string"?t:""+t).replace(qR,`
`).replace(KR,"")}function Yl(t,e,n){if(e=py(e),py(t)!==e&&n)throw Error(z(425))}function su(){}var xf=null,Tf=null;function If(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sf=typeof setTimeout=="function"?setTimeout:void 0,GR=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(t){return my.resolve(null).then(t).catch(YR)}:Sf;function YR(t){setTimeout(function(){throw t})}function _h(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ia(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ia(e)}function qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oo=Math.random().toString(36).slice(2),Dn="__reactFiber$"+oo,Na="__reactProps$"+oo,hr="__reactContainer$"+oo,Cf="__reactEvents$"+oo,XR="__reactListeners$"+oo,JR="__reactHandles$"+oo;function bs(t){var e=t[Dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hr]||n[Dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gy(t);t!==null;){if(n=t[Dn])return n;t=gy(t)}return e}t=n,n=t.parentNode}return null}function nl(t){return t=t[Dn]||t[hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Ju(t){return t[Na]||null}var Af=[],Ei=-1;function hs(t){return{current:t}}function Fe(t){0>Ei||(t.current=Af[Ei],Af[Ei]=null,Ei--)}function De(t,e){Ei++,Af[Ei]=t.current,t.current=e}var rs={},Nt=hs(rs),Bt=hs(!1),Ms=rs;function $i(t,e){var n=t.type.contextTypes;if(!n)return rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $t(t){return t=t.childContextTypes,t!=null}function iu(){Fe(Bt),Fe(Nt)}function vy(t,e,n){if(Nt.current!==rs)throw Error(z(168));De(Nt,e),De(Bt,n)}function sE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,jA(t)||"Unknown",s));return qe({},n,r)}function ou(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rs,Ms=Nt.current,De(Nt,t),De(Bt,Bt.current),!0}function yy(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=sE(t,e,Ms),r.__reactInternalMemoizedMergedChildContext=t,Fe(Bt),Fe(Nt),De(Nt,t)):Fe(Bt),De(Bt,n)}var er=null,Zu=!1,wh=!1;function iE(t){er===null?er=[t]:er.push(t)}function ZR(t){Zu=!0,iE(t)}function fs(){if(!wh&&er!==null){wh=!0;var t=0,e=Ne;try{var n=er;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}er=null,Zu=!1}catch(s){throw er!==null&&(er=er.slice(t+1)),bw(Wp,fs),s}finally{Ne=e,wh=!1}}return null}var xi=[],Ti=0,au=null,lu=0,rn=[],sn=0,Vs=null,nr=1,rr="";function Cs(t,e){xi[Ti++]=lu,xi[Ti++]=au,au=t,lu=e}function oE(t,e,n){rn[sn++]=nr,rn[sn++]=rr,rn[sn++]=Vs,Vs=t;var r=nr;t=rr;var s=32-wn(r)-1;r&=~(1<<s),n+=1;var i=32-wn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,nr=1<<32-wn(e)+s|n<<s|r,rr=i+t}else nr=1<<i|n<<s|r,rr=t}function Zp(t){t.return!==null&&(Cs(t,1),oE(t,1,0))}function em(t){for(;t===au;)au=xi[--Ti],xi[Ti]=null,lu=xi[--Ti],xi[Ti]=null;for(;t===Vs;)Vs=rn[--sn],rn[sn]=null,rr=rn[--sn],rn[sn]=null,nr=rn[--sn],rn[sn]=null}var Yt=null,Gt=null,ze=!1,mn=null;function aE(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _y(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Gt=qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vs!==null?{id:nr,overflow:rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Gt=null,!0):!1;default:return!1}}function Rf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nf(t){if(ze){var e=Gt;if(e){var n=e;if(!_y(t,e)){if(Rf(t))throw Error(z(418));e=qr(n.nextSibling);var r=Yt;e&&_y(t,e)?aE(r,n):(t.flags=t.flags&-4097|2,ze=!1,Yt=t)}}else{if(Rf(t))throw Error(z(418));t.flags=t.flags&-4097|2,ze=!1,Yt=t}}}function wy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function Xl(t){if(t!==Yt)return!1;if(!ze)return wy(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!If(t.type,t.memoizedProps)),e&&(e=Gt)){if(Rf(t))throw lE(),Error(z(418));for(;e;)aE(t,e),e=qr(e.nextSibling)}if(wy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Yt?qr(t.stateNode.nextSibling):null;return!0}function lE(){for(var t=Gt;t;)t=qr(t.nextSibling)}function Wi(){Gt=Yt=null,ze=!1}function tm(t){mn===null?mn=[t]:mn.push(t)}var eN=Er.ReactCurrentBatchConfig;function Bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Jl(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ey(t){var e=t._init;return e(t._payload)}function cE(t){function e(T,_){if(t){var S=T.deletions;S===null?(T.deletions=[_],T.flags|=16):S.push(_)}}function n(T,_){if(!t)return null;for(;_!==null;)e(T,_),_=_.sibling;return null}function r(T,_){for(T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function s(T,_){return T=Yr(T,_),T.index=0,T.sibling=null,T}function i(T,_,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<_?(T.flags|=2,_):S):(T.flags|=2,_)):(T.flags|=1048576,_)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,_,S,P){return _===null||_.tag!==6?(_=Ah(S,T.mode,P),_.return=T,_):(_=s(_,S),_.return=T,_)}function c(T,_,S,P){var L=S.type;return L===gi?h(T,_,S.props.children,P,S.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===kr&&Ey(L)===_.type)?(P=s(_,S.props),P.ref=Bo(T,_,S),P.return=T,P):(P=Rc(S.type,S.key,S.props,null,T.mode,P),P.ref=Bo(T,_,S),P.return=T,P)}function u(T,_,S,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Rh(S,T.mode,P),_.return=T,_):(_=s(_,S.children||[]),_.return=T,_)}function h(T,_,S,P,L){return _===null||_.tag!==7?(_=Ls(S,T.mode,P,L),_.return=T,_):(_=s(_,S),_.return=T,_)}function p(T,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ah(""+_,T.mode,S),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zl:return S=Rc(_.type,_.key,_.props,null,T.mode,S),S.ref=Bo(T,null,_),S.return=T,S;case mi:return _=Rh(_,T.mode,S),_.return=T,_;case kr:var P=_._init;return p(T,P(_._payload),S)}if(Go(_)||Mo(_))return _=Ls(_,T.mode,S,null),_.return=T,_;Jl(T,_)}return null}function g(T,_,S,P){var L=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return L!==null?null:a(T,_,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zl:return S.key===L?c(T,_,S,P):null;case mi:return S.key===L?u(T,_,S,P):null;case kr:return L=S._init,g(T,_,L(S._payload),P)}if(Go(S)||Mo(S))return L!==null?null:h(T,_,S,P,null);Jl(T,S)}return null}function x(T,_,S,P,L){if(typeof P=="string"&&P!==""||typeof P=="number")return T=T.get(S)||null,a(_,T,""+P,L);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case zl:return T=T.get(P.key===null?S:P.key)||null,c(_,T,P,L);case mi:return T=T.get(P.key===null?S:P.key)||null,u(_,T,P,L);case kr:var D=P._init;return x(T,_,S,D(P._payload),L)}if(Go(P)||Mo(P))return T=T.get(S)||null,h(_,T,P,L,null);Jl(_,P)}return null}function w(T,_,S,P){for(var L=null,D=null,I=_,v=_=0,A=null;I!==null&&v<S.length;v++){I.index>v?(A=I,I=null):A=I.sibling;var N=g(T,I,S[v],P);if(N===null){I===null&&(I=A);break}t&&I&&N.alternate===null&&e(T,I),_=i(N,_,v),D===null?L=N:D.sibling=N,D=N,I=A}if(v===S.length)return n(T,I),ze&&Cs(T,v),L;if(I===null){for(;v<S.length;v++)I=p(T,S[v],P),I!==null&&(_=i(I,_,v),D===null?L=I:D.sibling=I,D=I);return ze&&Cs(T,v),L}for(I=r(T,I);v<S.length;v++)A=x(I,T,v,S[v],P),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?v:A.key),_=i(A,_,v),D===null?L=A:D.sibling=A,D=A);return t&&I.forEach(function(k){return e(T,k)}),ze&&Cs(T,v),L}function E(T,_,S,P){var L=Mo(S);if(typeof L!="function")throw Error(z(150));if(S=L.call(S),S==null)throw Error(z(151));for(var D=L=null,I=_,v=_=0,A=null,N=S.next();I!==null&&!N.done;v++,N=S.next()){I.index>v?(A=I,I=null):A=I.sibling;var k=g(T,I,N.value,P);if(k===null){I===null&&(I=A);break}t&&I&&k.alternate===null&&e(T,I),_=i(k,_,v),D===null?L=k:D.sibling=k,D=k,I=A}if(N.done)return n(T,I),ze&&Cs(T,v),L;if(I===null){for(;!N.done;v++,N=S.next())N=p(T,N.value,P),N!==null&&(_=i(N,_,v),D===null?L=N:D.sibling=N,D=N);return ze&&Cs(T,v),L}for(I=r(T,I);!N.done;v++,N=S.next())N=x(I,T,v,N.value,P),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?v:N.key),_=i(N,_,v),D===null?L=N:D.sibling=N,D=N);return t&&I.forEach(function(O){return e(T,O)}),ze&&Cs(T,v),L}function R(T,_,S,P){if(typeof S=="object"&&S!==null&&S.type===gi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case zl:e:{for(var L=S.key,D=_;D!==null;){if(D.key===L){if(L=S.type,L===gi){if(D.tag===7){n(T,D.sibling),_=s(D,S.props.children),_.return=T,T=_;break e}}else if(D.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===kr&&Ey(L)===D.type){n(T,D.sibling),_=s(D,S.props),_.ref=Bo(T,D,S),_.return=T,T=_;break e}n(T,D);break}else e(T,D);D=D.sibling}S.type===gi?(_=Ls(S.props.children,T.mode,P,S.key),_.return=T,T=_):(P=Rc(S.type,S.key,S.props,null,T.mode,P),P.ref=Bo(T,_,S),P.return=T,T=P)}return o(T);case mi:e:{for(D=S.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(T,_.sibling),_=s(_,S.children||[]),_.return=T,T=_;break e}else{n(T,_);break}else e(T,_);_=_.sibling}_=Rh(S,T.mode,P),_.return=T,T=_}return o(T);case kr:return D=S._init,R(T,_,D(S._payload),P)}if(Go(S))return w(T,_,S,P);if(Mo(S))return E(T,_,S,P);Jl(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(T,_.sibling),_=s(_,S),_.return=T,T=_):(n(T,_),_=Ah(S,T.mode,P),_.return=T,T=_),o(T)):n(T,_)}return R}var Hi=cE(!0),uE=cE(!1),cu=hs(null),uu=null,Ii=null,nm=null;function rm(){nm=Ii=uu=null}function sm(t){var e=cu.current;Fe(cu),t._currentValue=e}function bf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ki(t,e){uu=t,nm=Ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function ln(t){var e=t._currentValue;if(nm!==t)if(t={context:t,memoizedValue:e,next:null},Ii===null){if(uu===null)throw Error(z(308));Ii=t,uu.dependencies={lanes:0,firstContext:t}}else Ii=Ii.next=t;return e}var Ps=null;function im(t){Ps===null?Ps=[t]:Ps.push(t)}function dE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,im(e)):(n.next=s.next,s.next=n),e.interleaved=n,fr(t,r)}function fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dr=!1;function om(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,fr(t,n)}return s=r.interleaved,s===null?(e.next=e,im(r)):(e.next=s.next,s.next=e),r.interleaved=e,fr(t,n)}function xc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hp(t,n)}}function xy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function du(t,e,n,r){var s=t.updateQueue;Dr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,h=u=c=null,a=i;do{var g=a.lane,x=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,E=a;switch(g=e,x=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){p=w.call(x,p,g);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,g=typeof w=="function"?w.call(x,p,g):w,g==null)break e;p=qe({},p,g);break e;case 2:Dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else x={eventTime:x,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=x,c=p):h=h.next=x,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Us|=o,t.lanes=o,t.memoizedState=p}}function Ty(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var rl={},Vn=hs(rl),ba=hs(rl),Pa=hs(rl);function ks(t){if(t===rl)throw Error(z(174));return t}function am(t,e){switch(De(Pa,e),De(ba,t),De(Vn,rl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uf(e,t)}Fe(Vn),De(Vn,e)}function qi(){Fe(Vn),Fe(ba),Fe(Pa)}function fE(t){ks(Pa.current);var e=ks(Vn.current),n=uf(e,t.type);e!==n&&(De(ba,t),De(Vn,n))}function lm(t){ba.current===t&&(Fe(Vn),Fe(ba))}var We=hs(0);function hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eh=[];function cm(){for(var t=0;t<Eh.length;t++)Eh[t]._workInProgressVersionPrimary=null;Eh.length=0}var Tc=Er.ReactCurrentDispatcher,xh=Er.ReactCurrentBatchConfig,Fs=0,He=null,st=null,ut=null,fu=!1,ca=!1,ka=0,tN=0;function xt(){throw Error(z(321))}function um(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function dm(t,e,n,r,s,i){if(Fs=i,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?iN:oN,t=n(r,s),ca){i=0;do{if(ca=!1,ka=0,25<=i)throw Error(z(301));i+=1,ut=st=null,e.updateQueue=null,Tc.current=aN,t=n(r,s)}while(ca)}if(Tc.current=pu,e=st!==null&&st.next!==null,Fs=0,ut=st=He=null,fu=!1,e)throw Error(z(300));return t}function hm(){var t=ka!==0;return ka=0,t}function Pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?He.memoizedState=ut=t:ut=ut.next=t,ut}function cn(){if(st===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ut===null?He.memoizedState:ut.next;if(e!==null)ut=e,st=t;else{if(t===null)throw Error(z(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ut===null?He.memoizedState=ut=t:ut=ut.next=t}return ut}function Da(t,e){return typeof e=="function"?e(t):e}function Th(t){var e=cn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=st,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((Fs&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,He.lanes|=h,Us|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Tn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,He.lanes|=i,Us|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ih(t){var e=cn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Tn(i,e.memoizedState)||(zt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function pE(){}function mE(t,e){var n=He,r=cn(),s=e(),i=!Tn(r.memoizedState,s);if(i&&(r.memoizedState=s,zt=!0),r=r.queue,fm(yE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Oa(9,vE.bind(null,n,r,s,e),void 0,null),dt===null)throw Error(z(349));Fs&30||gE(n,e,s)}return s}function gE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vE(t,e,n,r){e.value=n,e.getSnapshot=r,_E(e)&&wE(t)}function yE(t,e,n){return n(function(){_E(e)&&wE(t)})}function _E(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function wE(t){var e=fr(t,1);e!==null&&En(e,t,1,-1)}function Iy(t){var e=Pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},e.queue=t,t=t.dispatch=sN.bind(null,He,t),[e.memoizedState,t]}function Oa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function EE(){return cn().memoizedState}function Ic(t,e,n,r){var s=Pn();He.flags|=t,s.memoizedState=Oa(1|e,n,void 0,r===void 0?null:r)}function ed(t,e,n,r){var s=cn();r=r===void 0?null:r;var i=void 0;if(st!==null){var o=st.memoizedState;if(i=o.destroy,r!==null&&um(r,o.deps)){s.memoizedState=Oa(e,n,i,r);return}}He.flags|=t,s.memoizedState=Oa(1|e,n,i,r)}function Sy(t,e){return Ic(8390656,8,t,e)}function fm(t,e){return ed(2048,8,t,e)}function xE(t,e){return ed(4,2,t,e)}function TE(t,e){return ed(4,4,t,e)}function IE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SE(t,e,n){return n=n!=null?n.concat([t]):null,ed(4,4,IE.bind(null,e,t),n)}function pm(){}function CE(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&um(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AE(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&um(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RE(t,e,n){return Fs&21?(Tn(n,e)||(n=Dw(),He.lanes|=n,Us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function nN(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=xh.transition;xh.transition={};try{t(!1),e()}finally{Ne=n,xh.transition=r}}function NE(){return cn().memoizedState}function rN(t,e,n){var r=Qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bE(t))PE(e,n);else if(n=dE(t,e,n,r),n!==null){var s=jt();En(n,t,r,s),kE(n,e,r)}}function sN(t,e,n){var r=Qr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bE(t))PE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Tn(a,o)){var c=e.interleaved;c===null?(s.next=s,im(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=dE(t,e,s,r),n!==null&&(s=jt(),En(n,t,r,s),kE(n,e,r))}}function bE(t){var e=t.alternate;return t===He||e!==null&&e===He}function PE(t,e){ca=fu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hp(t,n)}}var pu={readContext:ln,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},iN={readContext:ln,useCallback:function(t,e){return Pn().memoizedState=[t,e===void 0?null:e],t},useContext:ln,useEffect:Sy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4194308,4,IE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ic(4,2,t,e)},useMemo:function(t,e){var n=Pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rN.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=Pn();return t={current:t},e.memoizedState=t},useState:Iy,useDebugValue:pm,useDeferredValue:function(t){return Pn().memoizedState=t},useTransition:function(){var t=Iy(!1),e=t[0];return t=nN.bind(null,t[1]),Pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,s=Pn();if(ze){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),dt===null)throw Error(z(349));Fs&30||gE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Sy(yE.bind(null,r,i,t),[t]),r.flags|=2048,Oa(9,vE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Pn(),e=dt.identifierPrefix;if(ze){var n=rr,r=nr;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ka++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oN={readContext:ln,useCallback:CE,useContext:ln,useEffect:fm,useImperativeHandle:SE,useInsertionEffect:xE,useLayoutEffect:TE,useMemo:AE,useReducer:Th,useRef:EE,useState:function(){return Th(Da)},useDebugValue:pm,useDeferredValue:function(t){var e=cn();return RE(e,st.memoizedState,t)},useTransition:function(){var t=Th(Da)[0],e=cn().memoizedState;return[t,e]},useMutableSource:pE,useSyncExternalStore:mE,useId:NE,unstable_isNewReconciler:!1},aN={readContext:ln,useCallback:CE,useContext:ln,useEffect:fm,useImperativeHandle:SE,useInsertionEffect:xE,useLayoutEffect:TE,useMemo:AE,useReducer:Ih,useRef:EE,useState:function(){return Ih(Da)},useDebugValue:pm,useDeferredValue:function(t){var e=cn();return st===null?e.memoizedState=t:RE(e,st.memoizedState,t)},useTransition:function(){var t=Ih(Da)[0],e=cn().memoizedState;return[t,e]},useMutableSource:pE,useSyncExternalStore:mE,useId:NE,unstable_isNewReconciler:!1};function fn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var td={isMounted:function(t){return(t=t._reactInternals)?Zs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jt(),s=Qr(t),i=lr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Kr(t,i,s),e!==null&&(En(e,t,s,r),xc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jt(),s=Qr(t),i=lr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Kr(t,i,s),e!==null&&(En(e,t,s,r),xc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),r=Qr(t),s=lr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Kr(t,s,r),e!==null&&(En(e,t,r,n),xc(e,t,r))}};function Cy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ca(n,r)||!Ca(s,i):!0}function DE(t,e,n){var r=!1,s=rs,i=e.contextType;return typeof i=="object"&&i!==null?i=ln(i):(s=$t(e)?Ms:Nt.current,r=e.contextTypes,i=(r=r!=null)?$i(t,s):rs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ay(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&td.enqueueReplaceState(e,e.state,null)}function kf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},om(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ln(i):(i=$t(e)?Ms:Nt.current,s.context=$i(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Pf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&td.enqueueReplaceState(s,s.state,null),du(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ki(t,e){try{var n="",r=e;do n+=LA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Sh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Df(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lN=typeof WeakMap=="function"?WeakMap:Map;function OE(t,e,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gu||(gu=!0,$f=r),Df(t,e)},n}function LE(t,e,n){n=lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Df(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Df(t,e),typeof r!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ry(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=xN.bind(null,t,e,n),e.then(t,t))}function Ny(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function by(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lr(-1,1),e.tag=2,Kr(n,e,1))),n.lanes|=1),t)}var cN=Er.ReactCurrentOwner,zt=!1;function Ot(t,e,n,r){e.child=t===null?uE(e,null,n,r):Hi(e,t.child,n,r)}function Py(t,e,n,r,s){n=n.render;var i=e.ref;return ki(e,s),r=dm(t,e,n,r,i,s),n=hm(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pr(t,e,s)):(ze&&n&&Zp(e),e.flags|=1,Ot(t,e,r,s),e.child)}function ky(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!xm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,jE(t,e,i,r,s)):(t=Rc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ca,n(o,r)&&t.ref===e.ref)return pr(t,e,s)}return e.flags|=1,t=Yr(i,r),t.ref=e.ref,t.return=e,e.child=t}function jE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ca(i,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,pr(t,e,s)}return Of(t,e,n,r,s)}function ME(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Ci,qt),qt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Ci,qt),qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,De(Ci,qt),qt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,De(Ci,qt),qt|=r;return Ot(t,e,s,n),e.child}function VE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Of(t,e,n,r,s){var i=$t(n)?Ms:Nt.current;return i=$i(e,i),ki(e,s),n=dm(t,e,n,r,i,s),r=hm(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pr(t,e,s)):(ze&&r&&Zp(e),e.flags|=1,Ot(t,e,n,s),e.child)}function Dy(t,e,n,r,s){if($t(n)){var i=!0;ou(e)}else i=!1;if(ki(e,s),e.stateNode===null)Sc(t,e),DE(e,n,r),kf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ln(u):(u=$t(n)?Ms:Nt.current,u=$i(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Ay(e,o,r,u),Dr=!1;var g=e.memoizedState;o.state=g,du(e,r,o,s),c=e.memoizedState,a!==r||g!==c||Bt.current||Dr?(typeof h=="function"&&(Pf(e,n,h,r),c=e.memoizedState),(a=Dr||Cy(e,n,a,r,g,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:fn(e.type,a),o.props=u,p=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ln(c):(c=$t(n)?Ms:Nt.current,c=$i(e,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==c)&&Ay(e,o,r,c),Dr=!1,g=e.memoizedState,o.state=g,du(e,r,o,s);var w=e.memoizedState;a!==p||g!==w||Bt.current||Dr?(typeof x=="function"&&(Pf(e,n,x,r),w=e.memoizedState),(u=Dr||Cy(e,n,u,r,g,w,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Lf(t,e,n,r,i,s)}function Lf(t,e,n,r,s,i){VE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&yy(e,n,!1),pr(t,e,i);r=e.stateNode,cN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hi(e,t.child,null,i),e.child=Hi(e,null,a,i)):Ot(t,e,a,i),e.memoizedState=r.state,s&&yy(e,n,!0),e.child}function FE(t){var e=t.stateNode;e.pendingContext?vy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vy(t,e.context,!1),am(t,e.containerInfo)}function Oy(t,e,n,r,s){return Wi(),tm(s),e.flags|=256,Ot(t,e,n,r),e.child}var jf={dehydrated:null,treeContext:null,retryLane:0};function Mf(t){return{baseLanes:t,cachePool:null,transitions:null}}function UE(t,e,n){var r=e.pendingProps,s=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),De(We,s&1),t===null)return Nf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sd(o,r,0,null),t=Ls(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Mf(n),e.memoizedState=jf,t):mm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return uN(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Yr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Yr(a,i):(i=Ls(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Mf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=jf,r}return i=t.child,t=i.sibling,r=Yr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mm(t,e){return e=sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zl(t,e,n,r){return r!==null&&tm(r),Hi(e,t.child,null,n),t=mm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uN(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Sh(Error(z(422))),Zl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=sd({mode:"visible",children:r.children},s,0,null),i=Ls(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Hi(e,t.child,null,o),e.child.memoizedState=Mf(o),e.memoizedState=jf,i);if(!(e.mode&1))return Zl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Sh(i,r,void 0),Zl(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=dt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fr(t,s),En(r,t,s,-1))}return Em(),r=Sh(Error(z(421))),Zl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=TN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Gt=qr(s.nextSibling),Yt=e,ze=!0,mn=null,t!==null&&(rn[sn++]=nr,rn[sn++]=rr,rn[sn++]=Vs,nr=t.id,rr=t.overflow,Vs=e),e=mm(e,r.children),e.flags|=4096,e)}function Ly(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bf(t.return,e,n)}function Ch(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ot(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ly(t,n,e);else if(t.tag===19)Ly(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&hu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ch(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&hu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ch(e,!0,n,null,i);break;case"together":Ch(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dN(t,e,n){switch(e.tag){case 3:FE(e),Wi();break;case 5:fE(e);break;case 1:$t(e.type)&&ou(e);break;case 4:am(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;De(cu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?UE(t,e,n):(De(We,We.current&1),t=pr(t,e,n),t!==null?t.sibling:null);De(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,ME(t,e,n)}return pr(t,e,n)}var BE,Vf,$E,WE;BE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vf=function(){};$E=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ks(Vn.current);var i=null;switch(n){case"input":s=of(t,s),r=of(t,r),i=[];break;case"select":s=qe({},s,{value:void 0}),r=qe({},r,{value:void 0}),i=[];break;case"textarea":s=cf(t,s),r=cf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=su)}df(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_a.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s?.[u],r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_a.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};WE=function(t,e,n,r){n!==r&&(e.flags|=4)};function $o(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hN(t,e,n){var r=e.pendingProps;switch(em(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return $t(e.type)&&iu(),Tt(e),null;case 3:return r=e.stateNode,qi(),Fe(Bt),Fe(Nt),cm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mn!==null&&(qf(mn),mn=null))),Vf(t,e),Tt(e),null;case 5:lm(e);var s=ks(Pa.current);if(n=e.type,t!==null&&e.stateNode!=null)$E(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Tt(e),null}if(t=ks(Vn.current),Xl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Dn]=e,r[Na]=i,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<Yo.length;s++)je(Yo[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Wv(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":qv(r,i),je("invalid",r)}df(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yl(r.textContent,a,t),s=["children",""+a]):_a.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":Bl(r),Hv(r,i,!0);break;case"textarea":Bl(r),Kv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=su)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Dn]=e,t[Na]=r,BE(t,e,!1,!1),e.stateNode=t;e:{switch(o=hf(n,r),n){case"dialog":je("cancel",t),je("close",t),s=r;break;case"iframe":case"object":case"embed":je("load",t),s=r;break;case"video":case"audio":for(s=0;s<Yo.length;s++)je(Yo[s],t);s=r;break;case"source":je("error",t),s=r;break;case"img":case"image":case"link":je("error",t),je("load",t),s=r;break;case"details":je("toggle",t),s=r;break;case"input":Wv(t,r),s=of(t,r),je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=qe({},r,{value:void 0}),je("invalid",t);break;case"textarea":qv(t,r),s=cf(t,r),je("invalid",t);break;default:s=r}df(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Ew(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_w(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wa(t,c):typeof c=="number"&&wa(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_a.hasOwnProperty(i)?c!=null&&i==="onScroll"&&je("scroll",t):c!=null&&Fp(t,i,c,o))}switch(n){case"input":Bl(t),Hv(t,r,!1);break;case"textarea":Bl(t),Kv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ns(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ri(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ri(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)WE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ks(Pa.current),ks(Vn.current),Xl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dn]=e,(i=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:Yl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=e,e.stateNode=r}return Tt(e),null;case 13:if(Fe(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&Gt!==null&&e.mode&1&&!(e.flags&128))lE(),Wi(),e.flags|=98560,i=!1;else if(i=Xl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Dn]=e}else Wi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),i=!1}else mn!==null&&(qf(mn),mn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?it===0&&(it=3):Em())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return qi(),Vf(t,e),t===null&&Aa(e.stateNode.containerInfo),Tt(e),null;case 10:return sm(e.type._context),Tt(e),null;case 17:return $t(e.type)&&iu(),Tt(e),null;case 19:if(Fe(We),i=e.memoizedState,i===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)$o(i,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hu(t),o!==null){for(e.flags|=128,$o(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ze()>Gi&&(e.flags|=128,r=!0,$o(i,!1),e.lanes=4194304)}else{if(!r)if(t=hu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$o(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return Tt(e),null}else 2*Ze()-i.renderingStartTime>Gi&&n!==1073741824&&(e.flags|=128,r=!0,$o(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ze(),e.sibling=null,n=We.current,De(We,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return wm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function fN(t,e){switch(em(e),e.tag){case 1:return $t(e.type)&&iu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qi(),Fe(Bt),Fe(Nt),cm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lm(e),null;case 13:if(Fe(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Wi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(We),null;case 4:return qi(),null;case 10:return sm(e.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var ec=!1,Ct=!1,pN=typeof WeakSet=="function"?WeakSet:Set,K=null;function Si(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function Ff(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var jy=!1;function mN(t,e){if(xf=tu,t=Qw(),Jp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,p=t,g=null;t:for(;;){for(var x;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)g=p,p=x;for(;;){if(p===t)break t;if(g===n&&++u===s&&(a=o),g===i&&++h===r&&(c=o),(x=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tf={focusedElem:t,selectionRange:n},tu=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,R=w.memoizedState,T=e.stateNode,_=T.getSnapshotBeforeUpdate(e.elementType===e.type?E:fn(e.type,E),R);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(P){Ye(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return w=jy,jy=!1,w}function ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ff(e,n,i)}s=s.next}while(s!==r)}}function nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Uf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HE(t){var e=t.alternate;e!==null&&(t.alternate=null,HE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[Na],delete e[Cf],delete e[XR],delete e[JR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qE(t){return t.tag===5||t.tag===3||t.tag===4}function My(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=su));else if(r!==4&&(t=t.child,t!==null))for(zf(t,e,n),t=t.sibling;t!==null;)zf(t,e,n),t=t.sibling}function Bf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bf(t,e,n),t=t.sibling;t!==null;)Bf(t,e,n),t=t.sibling}var ft=null,pn=!1;function Rr(t,e,n){for(n=n.child;n!==null;)KE(t,e,n),n=n.sibling}function KE(t,e,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Gu,n)}catch{}switch(n.tag){case 5:Ct||Si(n,e);case 6:var r=ft,s=pn;ft=null,Rr(t,e,n),ft=r,pn=s,ft!==null&&(pn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(pn?(t=ft,n=n.stateNode,t.nodeType===8?_h(t.parentNode,n):t.nodeType===1&&_h(t,n),Ia(t)):_h(ft,n.stateNode));break;case 4:r=ft,s=pn,ft=n.stateNode.containerInfo,pn=!0,Rr(t,e,n),ft=r,pn=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ff(n,e,o),s=s.next}while(s!==r)}Rr(t,e,n);break;case 1:if(!Ct&&(Si(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,e,a)}Rr(t,e,n);break;case 21:Rr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Rr(t,e,n),Ct=r):Rr(t,e,n);break;default:Rr(t,e,n)}}function Vy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pN),e.forEach(function(r){var s=IN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,pn=!1;break e;case 3:ft=a.stateNode.containerInfo,pn=!0;break e;case 4:ft=a.stateNode.containerInfo,pn=!0;break e}a=a.return}if(ft===null)throw Error(z(160));KE(i,o,s),ft=null,pn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ye(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GE(e,t),e=e.sibling}function GE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(e,t),bn(t),r&4){try{ua(3,t,t.return),nd(3,t)}catch(E){Ye(t,t.return,E)}try{ua(5,t,t.return)}catch(E){Ye(t,t.return,E)}}break;case 1:dn(e,t),bn(t),r&512&&n!==null&&Si(n,n.return);break;case 5:if(dn(e,t),bn(t),r&512&&n!==null&&Si(n,n.return),t.flags&32){var s=t.stateNode;try{wa(s,"")}catch(E){Ye(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&gw(s,i),hf(a,o);var u=hf(a,i);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?Ew(s,p):h==="dangerouslySetInnerHTML"?_w(s,p):h==="children"?wa(s,p):Fp(s,h,p,u)}switch(a){case"input":af(s,i);break;case"textarea":vw(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Ri(s,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ri(s,!!i.multiple,i.defaultValue,!0):Ri(s,!!i.multiple,i.multiple?[]:"",!1))}s[Na]=i}catch(E){Ye(t,t.return,E)}}break;case 6:if(dn(e,t),bn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){Ye(t,t.return,E)}}break;case 3:if(dn(e,t),bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ia(e.containerInfo)}catch(E){Ye(t,t.return,E)}break;case 4:dn(e,t),bn(t);break;case 13:dn(e,t),bn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ym=Ze())),r&4&&Vy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(u=Ct)||h,dn(e,t),Ct=u):dn(e,t),bn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(p=K=h;K!==null;){switch(g=K,x=g.child,g.tag){case 0:case 11:case 14:case 15:ua(4,g,g.return);break;case 1:Si(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(E){Ye(r,n,E)}}break;case 5:Si(g,g.return);break;case 22:if(g.memoizedState!==null){Uy(p);continue}}x!==null?(x.return=g,K=x):Uy(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=ww("display",o))}catch(E){Ye(t,t.return,E)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(E){Ye(t,t.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:dn(e,t),bn(t),r&4&&Vy(t);break;case 21:break;default:dn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qE(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wa(s,""),r.flags&=-33);var i=My(t);Bf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=My(t);zf(t,a,o);break;default:throw Error(z(161))}}catch(c){Ye(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gN(t,e,n){K=t,QE(t)}function QE(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ec;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ct;a=ec;var u=Ct;if(ec=o,(Ct=c)&&!u)for(K=s;K!==null;)o=K,c=o.child,o.tag===22&&o.memoizedState!==null?zy(s):c!==null?(c.return=o,K=c):zy(s);for(;i!==null;)K=i,QE(i),i=i.sibling;K=s,ec=a,Ct=u}Fy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):Fy(t)}}function Fy(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:fn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ty(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ty(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Ia(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ct||e.flags&512&&Uf(e)}catch(g){Ye(e,e.return,g)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function Uy(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function zy(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nd(4,e)}catch(c){Ye(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ye(e,s,c)}}var i=e.return;try{Uf(e)}catch(c){Ye(e,i,c)}break;case 5:var o=e.return;try{Uf(e)}catch(c){Ye(e,o,c)}}}catch(c){Ye(e,e.return,c)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var vN=Math.ceil,mu=Er.ReactCurrentDispatcher,gm=Er.ReactCurrentOwner,an=Er.ReactCurrentBatchConfig,Ee=0,dt=null,tt=null,gt=0,qt=0,Ci=hs(0),it=0,La=null,Us=0,rd=0,vm=0,da=null,Ft=null,ym=0,Gi=1/0,Zn=null,gu=!1,$f=null,Gr=null,tc=!1,zr=null,vu=0,ha=0,Wf=null,Cc=-1,Ac=0;function jt(){return Ee&6?Ze():Cc!==-1?Cc:Cc=Ze()}function Qr(t){return t.mode&1?Ee&2&&gt!==0?gt&-gt:eN.transition!==null?(Ac===0&&(Ac=Dw()),Ac):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:Uw(t.type)),t):1}function En(t,e,n,r){if(50<ha)throw ha=0,Wf=null,Error(z(185));el(t,n,r),(!(Ee&2)||t!==dt)&&(t===dt&&(!(Ee&2)&&(rd|=n),it===4&&Lr(t,gt)),Wt(t,r),n===1&&Ee===0&&!(e.mode&1)&&(Gi=Ze()+500,Zu&&fs()))}function Wt(t,e){var n=t.callbackNode;eR(t,e);var r=eu(t,t===dt?gt:0);if(r===0)n!==null&&Yv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yv(n),e===1)t.tag===0?ZR(By.bind(null,t)):iE(By.bind(null,t)),QR(function(){!(Ee&6)&&fs()}),n=null;else{switch(Ow(r)){case 1:n=Wp;break;case 4:n=Pw;break;case 16:n=Zc;break;case 536870912:n=kw;break;default:n=Zc}n=rx(n,YE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YE(t,e){if(Cc=-1,Ac=0,Ee&6)throw Error(z(327));var n=t.callbackNode;if(Di()&&t.callbackNode!==n)return null;var r=eu(t,t===dt?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yu(t,r);else{e=r;var s=Ee;Ee|=2;var i=JE();(dt!==t||gt!==e)&&(Zn=null,Gi=Ze()+500,Os(t,e));do try{wN();break}catch(a){XE(t,a)}while(!0);rm(),mu.current=i,Ee=s,tt!==null?e=0:(dt=null,gt=0,e=it)}if(e!==0){if(e===2&&(s=vf(t),s!==0&&(r=s,e=Hf(t,s))),e===1)throw n=La,Os(t,0),Lr(t,r),Wt(t,Ze()),n;if(e===6)Lr(t,r);else{if(s=t.current.alternate,!(r&30)&&!yN(s)&&(e=yu(t,r),e===2&&(i=vf(t),i!==0&&(r=i,e=Hf(t,i))),e===1))throw n=La,Os(t,0),Lr(t,r),Wt(t,Ze()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:As(t,Ft,Zn);break;case 3:if(Lr(t,r),(r&130023424)===r&&(e=ym+500-Ze(),10<e)){if(eu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sf(As.bind(null,t,Ft,Zn),e);break}As(t,Ft,Zn);break;case 4:if(Lr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-wn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vN(r/1960))-r,10<r){t.timeoutHandle=Sf(As.bind(null,t,Ft,Zn),r);break}As(t,Ft,Zn);break;case 5:As(t,Ft,Zn);break;default:throw Error(z(329))}}}return Wt(t,Ze()),t.callbackNode===n?YE.bind(null,t):null}function Hf(t,e){var n=da;return t.current.memoizedState.isDehydrated&&(Os(t,e).flags|=256),t=yu(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&qf(e)),t}function qf(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function yN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Tn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lr(t,e){for(e&=~vm,e&=~rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wn(e),r=1<<n;t[n]=-1,e&=~r}}function By(t){if(Ee&6)throw Error(z(327));Di();var e=eu(t,0);if(!(e&1))return Wt(t,Ze()),null;var n=yu(t,e);if(t.tag!==0&&n===2){var r=vf(t);r!==0&&(e=r,n=Hf(t,r))}if(n===1)throw n=La,Os(t,0),Lr(t,e),Wt(t,Ze()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,As(t,Ft,Zn),Wt(t,Ze()),null}function _m(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(Gi=Ze()+500,Zu&&fs())}}function zs(t){zr!==null&&zr.tag===0&&!(Ee&6)&&Di();var e=Ee;Ee|=1;var n=an.transition,r=Ne;try{if(an.transition=null,Ne=1,t)return t()}finally{Ne=r,an.transition=n,Ee=e,!(Ee&6)&&fs()}}function wm(){qt=Ci.current,Fe(Ci)}function Os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GR(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(em(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&iu();break;case 3:qi(),Fe(Bt),Fe(Nt),cm();break;case 5:lm(r);break;case 4:qi();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:sm(r.type._context);break;case 22:case 23:wm()}n=n.return}if(dt=t,tt=t=Yr(t.current,null),gt=qt=e,it=0,La=null,vm=rd=Us=0,Ft=da=null,Ps!==null){for(e=0;e<Ps.length;e++)if(n=Ps[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ps=null}return t}function XE(t,e){do{var n=tt;try{if(rm(),Tc.current=pu,fu){for(var r=He.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fu=!1}if(Fs=0,ut=st=He=null,ca=!1,ka=0,gm.current=null,n===null||n.return===null){it=1,La=e,tt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=gt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Ny(o);if(x!==null){x.flags&=-257,by(x,o,a,i,e),x.mode&1&&Ry(i,u,e),e=x,c=u;var w=e.updateQueue;if(w===null){var E=new Set;E.add(c),e.updateQueue=E}else w.add(c);break e}else{if(!(e&1)){Ry(i,u,e),Em();break e}c=Error(z(426))}}else if(ze&&a.mode&1){var R=Ny(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),by(R,o,a,i,e),tm(Ki(c,a));break e}}i=c=Ki(c,a),it!==4&&(it=2),da===null?da=[i]:da.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=OE(i,c,e);xy(i,T);break e;case 1:a=c;var _=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Gr===null||!Gr.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=LE(i,a,e);xy(i,P);break e}}i=i.return}while(i!==null)}ex(n)}catch(L){e=L,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function JE(){var t=mu.current;return mu.current=pu,t===null?pu:t}function Em(){(it===0||it===3||it===2)&&(it=4),dt===null||!(Us&268435455)&&!(rd&268435455)||Lr(dt,gt)}function yu(t,e){var n=Ee;Ee|=2;var r=JE();(dt!==t||gt!==e)&&(Zn=null,Os(t,e));do try{_N();break}catch(s){XE(t,s)}while(!0);if(rm(),Ee=n,mu.current=r,tt!==null)throw Error(z(261));return dt=null,gt=0,it}function _N(){for(;tt!==null;)ZE(tt)}function wN(){for(;tt!==null&&!HA();)ZE(tt)}function ZE(t){var e=nx(t.alternate,t,qt);t.memoizedProps=t.pendingProps,e===null?ex(t):tt=e,gm.current=null}function ex(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fN(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,tt=null;return}}else if(n=hN(n,e,qt),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);it===0&&(it=5)}function As(t,e,n){var r=Ne,s=an.transition;try{an.transition=null,Ne=1,EN(t,e,n,r)}finally{an.transition=s,Ne=r}return null}function EN(t,e,n,r){do Di();while(zr!==null);if(Ee&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(tR(t,i),t===dt&&(tt=dt=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tc||(tc=!0,rx(Zc,function(){return Di(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=an.transition,an.transition=null;var o=Ne;Ne=1;var a=Ee;Ee|=4,gm.current=null,mN(t,n),GE(n,t),zR(Tf),tu=!!xf,Tf=xf=null,t.current=n,gN(n),qA(),Ee=a,Ne=o,an.transition=i}else t.current=n;if(tc&&(tc=!1,zr=t,vu=s),i=t.pendingLanes,i===0&&(Gr=null),QA(n.stateNode),Wt(t,Ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gu)throw gu=!1,t=$f,$f=null,t;return vu&1&&t.tag!==0&&Di(),i=t.pendingLanes,i&1?t===Wf?ha++:(ha=0,Wf=t):ha=0,fs(),null}function Di(){if(zr!==null){var t=Ow(vu),e=an.transition,n=Ne;try{if(an.transition=null,Ne=16>t?16:t,zr===null)var r=!1;else{if(t=zr,zr=null,vu=0,Ee&6)throw Error(z(331));var s=Ee;for(Ee|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(K=u;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:ua(8,h,i)}var p=h.child;if(p!==null)p.return=h,K=p;else for(;K!==null;){h=K;var g=h.sibling,x=h.return;if(HE(h),h===u){K=null;break}if(g!==null){g.return=x,K=g;break}K=x}}}var w=i.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var R=E.sibling;E.sibling=null,E=R}while(E!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ua(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,K=T;break e}K=i.return}}var _=t.current;for(K=_;K!==null;){o=K;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,K=S;else e:for(o=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nd(9,a)}}catch(L){Ye(a,a.return,L)}if(a===o){K=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,K=P;break e}K=a.return}}if(Ee=s,fs(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Gu,t)}catch{}r=!0}return r}finally{Ne=n,an.transition=e}}return!1}function $y(t,e,n){e=Ki(n,e),e=OE(t,e,1),t=Kr(t,e,1),e=jt(),t!==null&&(el(t,1,e),Wt(t,e))}function Ye(t,e,n){if(t.tag===3)$y(t,t,n);else for(;e!==null;){if(e.tag===3){$y(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gr===null||!Gr.has(r))){t=Ki(n,t),t=LE(e,t,1),e=Kr(e,t,1),t=jt(),e!==null&&(el(e,1,t),Wt(e,t));break}}e=e.return}}function xN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(gt&n)===n&&(it===4||it===3&&(gt&130023424)===gt&&500>Ze()-ym?Os(t,0):vm|=n),Wt(t,e)}function tx(t,e){e===0&&(t.mode&1?(e=Hl,Hl<<=1,!(Hl&130023424)&&(Hl=4194304)):e=1);var n=jt();t=fr(t,e),t!==null&&(el(t,e,n),Wt(t,n))}function TN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tx(t,n)}function IN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),tx(t,n)}var nx;nx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,dN(t,e,n);zt=!!(t.flags&131072)}else zt=!1,ze&&e.flags&1048576&&oE(e,lu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sc(t,e),t=e.pendingProps;var s=$i(e,Nt.current);ki(e,n),s=dm(null,e,r,t,s,n);var i=hm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(i=!0,ou(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,om(e),s.updater=td,e.stateNode=s,s._reactInternals=e,kf(e,r,t,n),e=Lf(null,e,r,!0,i,n)):(e.tag=0,ze&&i&&Zp(e),Ot(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=CN(r),t=fn(r,t),s){case 0:e=Of(null,e,r,t,n);break e;case 1:e=Dy(null,e,r,t,n);break e;case 11:e=Py(null,e,r,t,n);break e;case 14:e=ky(null,e,r,fn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fn(r,s),Of(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fn(r,s),Dy(t,e,r,s,n);case 3:e:{if(FE(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,hE(t,e),du(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ki(Error(z(423)),e),e=Oy(t,e,r,n,s);break e}else if(r!==s){s=Ki(Error(z(424)),e),e=Oy(t,e,r,n,s);break e}else for(Gt=qr(e.stateNode.containerInfo.firstChild),Yt=e,ze=!0,mn=null,n=uE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wi(),r===s){e=pr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return fE(e),t===null&&Nf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,If(r,s)?o=null:i!==null&&If(r,i)&&(e.flags|=32),VE(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&Nf(e),null;case 13:return UE(t,e,n);case 4:return am(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hi(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fn(r,s),Py(t,e,r,s,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,De(cu,r._currentValue),r._currentValue=o,i!==null)if(Tn(i.value,o)){if(i.children===s.children&&!Bt.current){e=pr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=lr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),bf(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ot(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ki(e,n),s=ln(s),r=r(s),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,s=fn(r,e.pendingProps),s=fn(r.type,s),ky(t,e,r,s,n);case 15:return jE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fn(r,s),Sc(t,e),e.tag=1,$t(r)?(t=!0,ou(e)):t=!1,ki(e,n),DE(e,r,s),kf(e,r,s,n),Lf(null,e,r,!0,t,n);case 19:return zE(t,e,n);case 22:return ME(t,e,n)}throw Error(z(156,e.tag))};function rx(t,e){return bw(t,e)}function SN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new SN(t,e,n,r)}function xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CN(t){if(typeof t=="function")return xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zp)return 11;if(t===Bp)return 14}return 2}function Yr(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")xm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gi:return Ls(n.children,s,i,e);case Up:o=8,s|=8;break;case tf:return t=on(12,n,e,s|2),t.elementType=tf,t.lanes=i,t;case nf:return t=on(13,n,e,s),t.elementType=nf,t.lanes=i,t;case rf:return t=on(19,n,e,s),t.elementType=rf,t.lanes=i,t;case fw:return sd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dw:o=10;break e;case hw:o=9;break e;case zp:o=11;break e;case Bp:o=14;break e;case kr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=on(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ls(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function sd(t,e,n,r){return t=on(22,t,r,e),t.elementType=fw,t.lanes=n,t.stateNode={isHidden:!1},t}function Ah(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function Rh(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lh(0),this.expirationTimes=lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Tm(t,e,n,r,s,i,o,a,c){return t=new AN(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=on(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(i),t}function RN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sx(t){if(!t)return rs;t=t._reactInternals;e:{if(Zs(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if($t(n))return sE(t,n,e)}return e}function ix(t,e,n,r,s,i,o,a,c){return t=Tm(n,r,!0,t,s,i,o,a,c),t.context=sx(null),n=t.current,r=jt(),s=Qr(n),i=lr(r,s),i.callback=e??null,Kr(n,i,s),t.current.lanes=s,el(t,s,r),Wt(t,r),t}function id(t,e,n,r){var s=e.current,i=jt(),o=Qr(s);return n=sx(n),e.context===null?e.context=n:e.pendingContext=n,e=lr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kr(s,e,o),t!==null&&(En(t,s,o,i),xc(t,s,o)),o}function _u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Im(t,e){Wy(t,e),(t=t.alternate)&&Wy(t,e)}function NN(){return null}var ox=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sm(t){this._internalRoot=t}od.prototype.render=Sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));id(t,e,null,null)};od.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){id(null,t,null,null)}),e[hr]=null}};function od(t){this._internalRoot=t}od.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Or.length&&e!==0&&e<Or[n].priority;n++);Or.splice(n,0,t),n===0&&Fw(t)}};function Cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hy(){}function bN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=_u(o);i.call(u)}}var o=ix(e,r,t,0,null,!1,!1,"",Hy);return t._reactRootContainer=o,t[hr]=o.current,Aa(t.nodeType===8?t.parentNode:t),zs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=_u(c);a.call(u)}}var c=Tm(t,0,!1,null,null,!1,!1,"",Hy);return t._reactRootContainer=c,t[hr]=c.current,Aa(t.nodeType===8?t.parentNode:t),zs(function(){id(e,c,n,r)}),c}function ld(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=_u(o);a.call(c)}}id(e,o,t,s)}else o=bN(n,e,t,s,r);return _u(o)}Lw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qo(e.pendingLanes);n!==0&&(Hp(e,n|1),Wt(e,Ze()),!(Ee&6)&&(Gi=Ze()+500,fs()))}break;case 13:zs(function(){var r=fr(t,1);if(r!==null){var s=jt();En(r,t,1,s)}}),Im(t,1)}};qp=function(t){if(t.tag===13){var e=fr(t,134217728);if(e!==null){var n=jt();En(e,t,134217728,n)}Im(t,134217728)}};jw=function(t){if(t.tag===13){var e=Qr(t),n=fr(t,e);if(n!==null){var r=jt();En(n,t,e,r)}Im(t,e)}};Mw=function(){return Ne};Vw=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};pf=function(t,e,n){switch(e){case"input":if(af(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ju(r);if(!s)throw Error(z(90));mw(r),af(r,s)}}}break;case"textarea":vw(t,n);break;case"select":e=n.value,e!=null&&Ri(t,!!n.multiple,e,!1)}};Iw=_m;Sw=zs;var PN={usingClientEntryPoint:!1,Events:[nl,wi,Ju,xw,Tw,_m]},Wo={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kN={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rw(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||NN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Gu=nc.inject(kN),Mn=nc}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PN;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cm(e))throw Error(z(200));return RN(t,e,null,n)};en.createRoot=function(t,e){if(!Cm(t))throw Error(z(299));var n=!1,r="",s=ox;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Tm(t,1,!1,null,null,n,!1,r,s),t[hr]=e.current,Aa(t.nodeType===8?t.parentNode:t),new Sm(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Rw(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return zs(t)};en.hydrate=function(t,e,n){if(!ad(e))throw Error(z(200));return ld(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!Cm(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ox;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ix(e,null,t,1,n??null,s,!1,i,o),t[hr]=e.current,Aa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new od(e)};en.render=function(t,e,n){if(!ad(e))throw Error(z(200));return ld(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!ad(t))throw Error(z(40));return t._reactRootContainer?(zs(function(){ld(null,null,t,!1,function(){t._reactRootContainer=null,t[hr]=null})}),!0):!1};en.unstable_batchedUpdates=_m;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ad(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return ld(t,e,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function ax(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ax)}catch(t){console.error(t)}}ax(),aw.exports=en;var ao=aw.exports;const DN=Q0(ao);var qy=ao;Zh.createRoot=qy.createRoot,Zh.hydrateRoot=qy.hydrateRoot;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ky=t=>{const e=LN(t);return e.charAt(0).toUpperCase()+e.slice(1)},lx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>y.createElement("svg",{ref:c,...jN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lx("lucide",s),...a},[...o.map(([u,h])=>y.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(MN,{ref:i,iconNode:e,className:lx(`lucide-${ON(Ky(t))}`,`lucide-${t}`,r),...s}));return n.displayName=Ky(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gy=Be("calendar",VN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],UN=Be("chart-column",FN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],BN=Be("check",zN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cx=Be("chevron-down",$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HN=Be("chevron-up",WN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ux=Be("eye",qN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fa=Be("file-text",KN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],QN=Be("fingerprint",GN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Qy=Be("funnel",YN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]],JN=Be("gavel",XN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],dx=Be("image",ZN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],tb=Be("log-in",eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],rb=Be("log-out",nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ib=Be("map-pin",sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ab=Be("plus",ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cb=Be("save",lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Am=Be("search",ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hb=Be("shield-check",db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Kf=Be("shield",fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],mb=Be("square-pen",pb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Nh=Be("user-plus",gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hx=Be("user",vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],_b=Be("users",yb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oi=Be("x",wb);function Yy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lo(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Yy(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Yy(t[s],null)}}}}function Xe(...t){return y.useCallback(lo(...t),t)}var Eb=Symbol.for("react.lazy"),wu=jp[" use ".trim().toString()];function xb(t){return typeof t=="object"&&t!==null&&"then"in t}function fx(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Eb&&"_payload"in t&&xb(t._payload)}function Rm(t){const e=Tb(t),n=y.forwardRef((r,s)=>{let{children:i,...o}=r;fx(i)&&typeof wu=="function"&&(i=wu(i._payload));const a=y.Children.toArray(i),c=a.find(Sb);if(c){const u=c.props.children,h=a.map(p=>p===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:p);return d.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var px=Rm("Slot");function Tb(t){const e=y.forwardRef((n,r)=>{let{children:s,...i}=n;if(fx(s)&&typeof wu=="function"&&(s=wu(s._payload)),y.isValidElement(s)){const o=Ab(s),a=Cb(i,s.props);return s.type!==y.Fragment&&(a.ref=r?lo(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ib=Symbol("radix.slottable");function Sb(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ib}function Cb(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Ab(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function mx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=mx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=mx(t))&&(r&&(r+=" "),r+=e);return r}const Xy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Jy=gx,vx=(t,e)=>n=>{var r;if(e?.variants==null)return Jy(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n?.[u],p=i?.[u];if(h===null)return null;const g=Xy(h)||Xy(p);return s[u][g]}),a=n&&Object.entries(n).reduce((u,h)=>{let[p,g]=h;return g===void 0||(u[p]=g),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:g,...x}=h;return Object.entries(x).every(w=>{let[E,R]=w;return Array.isArray(R)?R.includes({...i,...a}[E]):{...i,...a}[E]===R})?[...u,p,g]:u},[]);return Jy(t,o,c,n?.class,n?.className)},Rb=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Nb=(t,e)=>({classGroupId:t,validator:e}),yx=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Eu="-",Zy=[],bb="arbitrary..",Pb=t=>{const e=Db(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return kb(o);const a=o.split(Eu),c=a[0]===""&&a.length>1?1:0;return _x(a,c,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const c=r[o],u=n[o];return c?u?Rb(u,c):c:u||Zy}return n[o]||Zy}}},_x=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],i=n.nextPart.get(s);if(i){const u=_x(t,e+1,i);if(u)return u}const o=n.validators;if(o===null)return;const a=e===0?t.join(Eu):t.slice(e).join(Eu),c=o.length;for(let u=0;u<c;u++){const h=o[u];if(h.validator(a))return h.classGroupId}},kb=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?bb+r:void 0})(),Db=t=>{const{theme:e,classGroups:n}=t;return Ob(n,e)},Ob=(t,e)=>{const n=yx();for(const r in t){const s=t[r];Nm(s,n,r,e)}return n},Nm=(t,e,n,r)=>{const s=t.length;for(let i=0;i<s;i++){const o=t[i];Lb(o,e,n,r)}},Lb=(t,e,n,r)=>{if(typeof t=="string"){jb(t,e,n);return}if(typeof t=="function"){Mb(t,e,n,r);return}Vb(t,e,n,r)},jb=(t,e,n)=>{const r=t===""?e:wx(e,t);r.classGroupId=n},Mb=(t,e,n,r)=>{if(Fb(t)){Nm(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Nb(n,t))},Vb=(t,e,n,r)=>{const s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];Nm(c,wx(e,a),n,r)}},wx=(t,e)=>{let n=t;const r=e.split(Eu),s=r.length;for(let i=0;i<s;i++){const o=r[i];let a=n.nextPart.get(o);a||(a=yx(),n.nextPart.set(o,a)),n=a}return n},Fb=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Ub=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(i,o)=>{n[i]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=r[i])!==void 0)return s(i,o),o},set(i,o){i in n?n[i]=o:s(i,o)}}},Gf="!",e_=":",zb=[],t_=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),Bb=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,c=0,u;const h=s.length;for(let E=0;E<h;E++){const R=s[E];if(o===0&&a===0){if(R===e_){i.push(s.slice(c,E)),c=E+1;continue}if(R==="/"){u=E;continue}}R==="["?o++:R==="]"?o--:R==="("?a++:R===")"&&a--}const p=i.length===0?s:s.slice(c);let g=p,x=!1;p.endsWith(Gf)?(g=p.slice(0,-1),x=!0):p.startsWith(Gf)&&(g=p.slice(1),x=!0);const w=u&&u>c?u-c:void 0;return t_(i,x,g,w)};if(e){const s=e+e_,i=r;r=o=>o.startsWith(s)?i(o.slice(s.length)):t_(zb,!1,o,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},$b=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const o=n[i],a=o[0]==="[",c=e.has(o);a||c?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(o)):s.push(o)}return s.length>0&&(s.sort(),r.push(...s)),r}},Wb=t=>({cache:Ub(t.cacheSize),parseClassName:Bb(t),sortModifiers:$b(t),...Pb(t)}),Hb=/\s+/,qb=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(Hb);let c="";for(let u=a.length-1;u>=0;u-=1){const h=a[u],{isExternal:p,modifiers:g,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:E}=n(h);if(p){c=h+(c.length>0?" "+c:c);continue}let R=!!E,T=r(R?w.substring(0,E):w);if(!T){if(!R){c=h+(c.length>0?" "+c:c);continue}if(T=r(w),!T){c=h+(c.length>0?" "+c:c);continue}R=!1}const _=g.length===0?"":g.length===1?g[0]:i(g).join(":"),S=x?_+Gf:_,P=S+T;if(o.indexOf(P)>-1)continue;o.push(P);const L=s(T,R);for(let D=0;D<L.length;++D){const I=L[D];o.push(S+I)}c=h+(c.length>0?" "+c:c)}return c},Kb=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=Ex(n))&&(s&&(s+=" "),s+=r);return s},Ex=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ex(t[r]))&&(n&&(n+=" "),n+=e);return n},Gb=(t,...e)=>{let n,r,s,i;const o=c=>{const u=e.reduce((h,p)=>p(h),t());return n=Wb(u),r=n.cache.get,s=n.cache.set,i=a,a(c)},a=c=>{const u=r(c);if(u)return u;const h=qb(c,n);return s(c,h),h};return i=o,(...c)=>i(Kb(...c))},Qb=[],rt=t=>{const e=n=>n[t]||Qb;return e.isThemeGetter=!0,e},xx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Tx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Yb=/^\d+\/\d+$/,Xb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,e1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,t1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,li=t=>Yb.test(t),ue=t=>!!t&&!Number.isNaN(Number(t)),Nr=t=>!!t&&Number.isInteger(Number(t)),bh=t=>t.endsWith("%")&&ue(t.slice(0,-1)),Xn=t=>Xb.test(t),n1=()=>!0,r1=t=>Jb.test(t)&&!Zb.test(t),Ix=()=>!1,s1=t=>e1.test(t),i1=t=>t1.test(t),o1=t=>!Q(t)&&!Y(t),a1=t=>co(t,Ax,Ix),Q=t=>xx.test(t),Ss=t=>co(t,Rx,r1),Ph=t=>co(t,h1,ue),n_=t=>co(t,Sx,Ix),l1=t=>co(t,Cx,i1),rc=t=>co(t,Nx,s1),Y=t=>Tx.test(t),Ho=t=>uo(t,Rx),c1=t=>uo(t,f1),r_=t=>uo(t,Sx),u1=t=>uo(t,Ax),d1=t=>uo(t,Cx),sc=t=>uo(t,Nx,!0),co=(t,e,n)=>{const r=xx.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},uo=(t,e,n=!1)=>{const r=Tx.exec(t);return r?r[1]?e(r[1]):n:!1},Sx=t=>t==="position"||t==="percentage",Cx=t=>t==="image"||t==="url",Ax=t=>t==="length"||t==="size"||t==="bg-size",Rx=t=>t==="length",h1=t=>t==="number",f1=t=>t==="family-name",Nx=t=>t==="shadow",p1=()=>{const t=rt("color"),e=rt("font"),n=rt("text"),r=rt("font-weight"),s=rt("tracking"),i=rt("leading"),o=rt("breakpoint"),a=rt("container"),c=rt("spacing"),u=rt("radius"),h=rt("shadow"),p=rt("inset-shadow"),g=rt("text-shadow"),x=rt("drop-shadow"),w=rt("blur"),E=rt("perspective"),R=rt("aspect"),T=rt("ease"),_=rt("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...P(),Y,Q],D=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],v=()=>[Y,Q,c],A=()=>[li,"full","auto",...v()],N=()=>[Nr,"none","subgrid",Y,Q],k=()=>["auto",{span:["full",Nr,Y,Q]},Nr,Y,Q],O=()=>[Nr,"auto",Y,Q],b=()=>["auto","min","max","fr",Y,Q],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...v()],te=()=>[li,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],j=()=>[t,Y,Q],H=()=>[...P(),r_,n_,{position:[Y,Q]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],de=()=>["auto","cover","contain",u1,a1,{size:[Y,Q]}],ce=()=>[bh,Ho,Ss],se=()=>["","none","full",u,Y,Q],pe=()=>["",ue,Ho,Ss],Oe=()=>["solid","dashed","dotted","double"],$e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[ue,bh,r_,n_],Re=()=>["","none",w,Y,Q],Pe=()=>["none",ue,Y,Q],he=()=>["none",ue,Y,Q],me=()=>[ue,Y,Q],xe=()=>[li,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xn],breakpoint:[Xn],color:[n1],container:[Xn],"drop-shadow":[Xn],ease:["in","out","in-out"],font:[o1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xn],shadow:[Xn],spacing:["px",ue],text:[Xn],"text-shadow":[Xn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",li,Q,Y,R]}],container:["container"],columns:[{columns:[ue,Q,Y,a]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Nr,"auto",Y,Q]}],basis:[{basis:[li,"full","auto",a,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ue,li,"auto","initial","none",Q]}],grow:[{grow:["",ue,Y,Q]}],shrink:[{shrink:["",ue,Y,Q]}],order:[{order:[Nr,"first","last","none",Y,Q]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":b()}],"auto-rows":[{"auto-rows":b()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[a,"screen",...te()]}],"min-w":[{"min-w":[a,"screen","none",...te()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,Ho,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Y,Ph]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bh,Q]}],"font-family":[{font:[c1,Q,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Y,Q]}],"line-clamp":[{"line-clamp":[ue,"none",Y,Ph]}],leading:[{leading:[i,...v()]}],"list-image":[{"list-image":["none",Y,Q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Y,Q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ue,"from-font","auto",Y,Ss]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[ue,"auto",Y,Q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y,Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y,Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:de()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Nr,Y,Q],radial:["",Y,Q],conic:[Nr,Y,Q]},d1,l1]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:ce()}],"gradient-via-pos":[{via:ce()}],"gradient-to-pos":[{to:ce()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ue,Y,Q]}],"outline-w":[{outline:["",ue,Ho,Ss]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",h,sc,rc]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",p,sc,rc]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[ue,Ss]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",g,sc,rc]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[ue,Y,Q]}],"mix-blend":[{"mix-blend":[...$e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[Y,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:de()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Y,Q]}],filter:[{filter:["","none",Y,Q]}],blur:[{blur:Re()}],brightness:[{brightness:[ue,Y,Q]}],contrast:[{contrast:[ue,Y,Q]}],"drop-shadow":[{"drop-shadow":["","none",x,sc,rc]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",ue,Y,Q]}],"hue-rotate":[{"hue-rotate":[ue,Y,Q]}],invert:[{invert:["",ue,Y,Q]}],saturate:[{saturate:[ue,Y,Q]}],sepia:[{sepia:["",ue,Y,Q]}],"backdrop-filter":[{"backdrop-filter":["","none",Y,Q]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[ue,Y,Q]}],"backdrop-contrast":[{"backdrop-contrast":[ue,Y,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ue,Y,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ue,Y,Q]}],"backdrop-invert":[{"backdrop-invert":["",ue,Y,Q]}],"backdrop-opacity":[{"backdrop-opacity":[ue,Y,Q]}],"backdrop-saturate":[{"backdrop-saturate":[ue,Y,Q]}],"backdrop-sepia":[{"backdrop-sepia":["",ue,Y,Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Y,Q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ue,"initial",Y,Q]}],ease:[{ease:["linear","initial",T,Y,Q]}],delay:[{delay:[ue,Y,Q]}],animate:[{animate:["none",_,Y,Q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Y,Q]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[Y,Q,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y,Q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y,Q]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[ue,Ho,Ss,Ph]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},m1=Gb(p1);function Ce(...t){return m1(gx(t))}const g1=vx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Lt({className:t,variant:e,size:n,asChild:r=!1,...s}){const i=r?px:"button";return d.jsx(i,{"data-slot":"button",className:Ce(g1({variant:e,size:n,className:t})),...s})}function Qe({className:t,type:e,...n}){return d.jsx("input",{type:e,"data-slot":"input",className:Ce("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var v1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],y1=v1.reduce((t,e)=>{const n=Rm(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),_1="Label",bx=y.forwardRef((t,e)=>d.jsx(y1.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bx.displayName=_1;var w1=bx;function ne({className:t,...e}){return d.jsx(w1,{"data-slot":"label",className:Ce("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function gn({className:t,...e}){return d.jsx("div",{"data-slot":"card",className:Ce("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function vn({className:t,...e}){return d.jsx("div",{"data-slot":"card-header",className:Ce("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function yn({className:t,...e}){return d.jsx("h4",{"data-slot":"card-title",className:Ce("leading-none",t),...e})}function kn({className:t,...e}){return d.jsx("p",{"data-slot":"card-description",className:Ce("text-muted-foreground",t),...e})}function _n({className:t,...e}){return d.jsx("div",{"data-slot":"card-content",className:Ce("px-6 [&:last-child]:pb-6",t),...e})}var s_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},E1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},kx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let g=(a&15)<<2|u>>6,x=u&63;c||(x=64,o||(g=64)),r.push(n[h],n[p],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Px(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new x1;const g=i<<2|a>>4;if(r.push(g),u!==64){const x=a<<4&240|u>>2;if(r.push(x),p!==64){const w=u<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T1=function(t){const e=Px(t);return kx.encodeByteArray(e,!0)},xu=function(t){return T1(t).replace(/\./g,"")},Dx=function(t){try{return kx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=()=>I1().__FIREBASE_DEFAULTS__,C1=()=>{if(typeof process>"u"||typeof s_>"u")return;const t=s_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dx(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return S1()||C1()||A1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ox=t=>{var e,n;return(n=(e=cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},R1=t=>{const e=Ox(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lx=()=>{var t;return(t=cd())===null||t===void 0?void 0:t.config},jx=t=>{var e;return(e=cd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xu(JSON.stringify(n)),xu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function k1(){var t;const e=(t=cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function L1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j1(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M1(){return!k1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V1(){try{return typeof indexedDB=="object"}catch{return!1}}function F1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="FirebaseError";class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=U1,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sl.prototype.create)}}class sl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?z1(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xr(s,a,r)}}function z1(t,e){return t.replace(B1,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const B1=/\{\$([^}]+)}/g;function $1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(i_(i)&&i_(o)){if(!Tu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function i_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Jo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function W1(t,e){const n=new H1(t,e);return n.subscribe.bind(n)}class H1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q1(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=kh),s.error===void 0&&(s.error=kh),s.complete===void 0&&(s.complete=kh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new N1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q1(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G1(t){return t===Rs?void 0:t}function Q1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const X1={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},J1=ye.INFO,Z1={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},eP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Z1[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bm{constructor(e){this.name=e,this._logLevel=J1,this._logHandler=eP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const tP=(t,e)=>e.some(n=>t instanceof n);let o_,a_;function nP(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rP(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mx=new WeakMap,Qf=new WeakMap,Vx=new WeakMap,Dh=new WeakMap,Pm=new WeakMap;function sP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Xr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Mx.set(n,t)}).catch(()=>{}),Pm.set(e,t),e}function iP(t){if(Qf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Qf.set(t,e)}let Yf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Vx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oP(t){Yf=t(Yf)}function aP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Oh(this),e,...n);return Vx.set(r,e.sort?e.sort():[e]),Xr(r)}:rP().includes(t)?function(...e){return t.apply(Oh(this),e),Xr(Mx.get(this))}:function(...e){return Xr(t.apply(Oh(this),e))}}function lP(t){return typeof t=="function"?aP(t):(t instanceof IDBTransaction&&iP(t),tP(t,nP())?new Proxy(t,Yf):t)}function Xr(t){if(t instanceof IDBRequest)return sP(t);if(Dh.has(t))return Dh.get(t);const e=lP(t);return e!==t&&(Dh.set(t,e),Pm.set(e,t)),e}const Oh=t=>Pm.get(t);function cP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Xr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Xr(o.result),c.oldVersion,c.newVersion,Xr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const uP=["get","getKey","getAll","getAllKeys","count"],dP=["put","add","delete","clear"],Lh=new Map;function l_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lh.get(e))return Lh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=dP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uP.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return Lh.set(e,i),i}oP(t=>({...t,get:(e,n,r)=>l_(e,n)||t.get(e,n,r),has:(e,n)=>!!l_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fP(t){const e=t.getComponent();return e?.type==="VERSION"}const Xf="@firebase/app",c_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new bm("@firebase/app"),pP="@firebase/app-compat",mP="@firebase/analytics-compat",gP="@firebase/analytics",vP="@firebase/app-check-compat",yP="@firebase/app-check",_P="@firebase/auth",wP="@firebase/auth-compat",EP="@firebase/database",xP="@firebase/data-connect",TP="@firebase/database-compat",IP="@firebase/functions",SP="@firebase/functions-compat",CP="@firebase/installations",AP="@firebase/installations-compat",RP="@firebase/messaging",NP="@firebase/messaging-compat",bP="@firebase/performance",PP="@firebase/performance-compat",kP="@firebase/remote-config",DP="@firebase/remote-config-compat",OP="@firebase/storage",LP="@firebase/storage-compat",jP="@firebase/firestore",MP="@firebase/vertexai-preview",VP="@firebase/firestore-compat",FP="firebase",UP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",zP={[Xf]:"fire-core",[pP]:"fire-core-compat",[gP]:"fire-analytics",[mP]:"fire-analytics-compat",[yP]:"fire-app-check",[vP]:"fire-app-check-compat",[_P]:"fire-auth",[wP]:"fire-auth-compat",[EP]:"fire-rtdb",[xP]:"fire-data-connect",[TP]:"fire-rtdb-compat",[IP]:"fire-fn",[SP]:"fire-fn-compat",[CP]:"fire-iid",[AP]:"fire-iid-compat",[RP]:"fire-fcm",[NP]:"fire-fcm-compat",[bP]:"fire-perf",[PP]:"fire-perf-compat",[kP]:"fire-rc",[DP]:"fire-rc-compat",[OP]:"fire-gcs",[LP]:"fire-gcs-compat",[jP]:"fire-fst",[VP]:"fire-fst-compat",[MP]:"fire-vertex","fire-js":"fire-js",[FP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new Map,BP=new Map,Zf=new Map;function u_(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qi(t){const e=t.name;if(Zf.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,t);for(const n of Iu.values())u_(n,t);for(const n of BP.values())u_(n,t);return!0}function km(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new sl("app","Firebase",$P);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=UP;function Fx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Jr.create("bad-app-name",{appName:String(s)});if(n||(n=Lx()),!n)throw Jr.create("no-options");const i=Iu.get(s);if(i){if(Tu(n,i.options)&&Tu(r,i.config))return i;throw Jr.create("duplicate-app",{appName:s})}const o=new Y1(s);for(const c of Zf.values())o.addComponent(c);const a=new WP(n,r,o);return Iu.set(s,a),a}function Ux(t=Jf){const e=Iu.get(t);if(!e&&t===Jf&&Lx())return Fx();if(!e)throw Jr.create("no-app",{appName:t});return e}function Zr(t,e,n){var r;let s=(r=zP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(a.join(" "));return}Qi(new Bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebase-heartbeat-database",qP=1,ja="firebase-heartbeat-store";let jh=null;function zx(){return jh||(jh=cP(HP,qP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),jh}async function KP(t){try{const n=(await zx()).transaction(ja),r=await n.objectStore(ja).get(Bx(t));return await n.done,r}catch(e){if(e instanceof xr)mr.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function d_(t,e){try{const r=(await zx()).transaction(ja,"readwrite");await r.objectStore(ja).put(e,Bx(t)),await r.done}catch(n){if(n instanceof xr)mr.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n?.message});mr.warn(r.message)}}}function Bx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=1024,QP=30*24*60*60*1e3;class YP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=h_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=QP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h_(),{heartbeatsToSend:r,unsentEntries:s}=XP(this._heartbeatsCache.heartbeats),i=xu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return mr.warn(n),""}}}function h_(){return new Date().toISOString().substring(0,10)}function XP(t,e=GP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),f_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),f_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V1()?F1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return d_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return d_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function f_(t){return xu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t){Qi(new Bs("platform-logger",e=>new hP(e),"PRIVATE")),Qi(new Bs("heartbeat",e=>new YP(e),"PRIVATE")),Zr(Xf,c_,t),Zr(Xf,c_,"esm2017"),Zr("fire-js","")}ZP("");var ek="firebase",tk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(ek,tk,"app");var On=function(){return On=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},On.apply(this,arguments)};function ol(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function nk(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function $x(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rk=$x,Wx=new sl("auth","Firebase",$x());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new bm("@firebase/auth");function sk(t,...e){Su.logLevel<=ye.WARN&&Su.warn(`Auth (${ho}): ${t}`,...e)}function Nc(t,...e){Su.logLevel<=ye.ERROR&&Su.error(`Auth (${ho}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw Dm(t,...e)}function Fn(t,...e){return Dm(t,...e)}function Hx(t,e,n){const r=Object.assign(Object.assign({},rk()),{[e]:n});return new sl("auth","Firebase",r).create(e,{appName:t.name})}function cr(t){return Hx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Wx.create(t,...e)}function re(t,e,...n){if(!t)throw Dm(e,...n)}function sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nc(e),new Error(e)}function gr(t,e){t||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ik(){return p_()==="http:"||p_()==="https:"}function p_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ik()||O1()||"connection"in navigator)?navigator.onLine:!0}function ak(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=P1()||L1()}get(){return ok()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new al(3e4,6e4);function ps(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ms(t,e,n,r,s={}){return Kx(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=il(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return D1()||(u.referrerPolicy="no-referrer"),qx.fetch()(Gx(t,t.config.apiHost,n,a),u)})}async function Kx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lk),e);try{const s=new dk(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ic(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ic(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ic(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Hx(t,h,u);In(t,h)}}catch(s){if(s instanceof xr)throw s;In(t,"network-request-failed",{message:String(s)})}}async function ll(t,e,n,r,s={}){const i=await ms(t,e,n,r,s);return"mfaPendingCredential"in i&&In(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Gx(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Om(t.config,s):`${t.config.apiScheme}://${s}`}function uk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fn(this.auth,"network-request-failed")),ck.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Fn(t,e,r);return s.customData._tokenResponse=n,s}function m_(t){return t!==void 0&&t.enterprise!==void 0}class hk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function fk(t,e){return ms(t,"GET","/v2/recaptchaConfig",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(t,e){return ms(t,"POST","/v1/accounts:delete",e)}async function Qx(t,e){return ms(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mk(t,e=!1){const n=at(t),r=await n.getIdToken(e),s=Lm(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:pa(Mh(s.auth_time)),issuedAtTime:pa(Mh(s.iat)),expirationTime:pa(Mh(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Mh(t){return Number(t)*1e3}function Lm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const s=Dx(n);return s?JSON.parse(s):(Nc("Failed to decode base64 JWT payload"),null)}catch(s){return Nc("Caught error parsing JWT payload as JSON",s?.toString()),null}}function g_(t){const e=Lm(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xr&&gk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ma(t,Qx(n,{idToken:r}));re(s?.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Yx(i.providerUserInfo):[],a=_k(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!a?.length,h=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new tp(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function yk(t){const e=at(t);await Cu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _k(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Yx(t){return t.map(e=>{var{providerId:n}=e,r=ol(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(t,e){const n=await Kx(t,{},async()=>{const r=il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Gx(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ek(t,e){return ms(t,"POST","/v2/accounts:revokeToken",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=g_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await wk(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Li;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Li,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=ol(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ma(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mk(this,e)}reload(){return yk(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await Ma(this,pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,u,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:P,isAnonymous:L,providerData:D,stsTokenManager:I}=n;re(S&&I,e,"internal-error");const v=Li.fromJSON(this.name,I);re(typeof S=="string",e,"internal-error"),br(p,e.name),br(g,e.name),re(typeof P=="boolean",e,"internal-error"),re(typeof L=="boolean",e,"internal-error"),br(x,e.name),br(w,e.name),br(E,e.name),br(R,e.name),br(T,e.name),br(_,e.name);const A=new ir({uid:S,auth:e,email:g,emailVerified:P,displayName:p,isAnonymous:L,photoURL:w,phoneNumber:x,tenantId:E,stsTokenManager:v,createdAt:T,lastLoginAt:_});return D&&Array.isArray(D)&&(A.providerData=D.map(N=>Object.assign({},N))),R&&(A._redirectEventId=R),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new Li;s.updateFromServerResponse(n);const i=new ir({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Yx(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new Li;a.updateFromIdToken(r);const c=new ir({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new tp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;function or(t){gr(t instanceof Function,"Expected a class definition");let e=v_.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xx.type="NONE";const y_=Xx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t,e,n){return`firebase:${t}:${e}:${n}`}class ji{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=bc(this.userKey,s.apiKey,i),this.fullPersistenceKey=bc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ji(or(y_),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||or(y_);const o=bc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const p=ir._fromJSON(e,h);u!==i&&(a=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ji(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ji(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rT(e))return"Blackberry";if(sT(e))return"Webos";if(Zx(e))return"Safari";if((e.includes("chrome/")||eT(e))&&!e.includes("edge/"))return"Chrome";if(nT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Jx(t=bt()){return/firefox\//i.test(t)}function Zx(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eT(t=bt()){return/crios\//i.test(t)}function tT(t=bt()){return/iemobile/i.test(t)}function nT(t=bt()){return/android/i.test(t)}function rT(t=bt()){return/blackberry/i.test(t)}function sT(t=bt()){return/webos/i.test(t)}function jm(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xk(t=bt()){var e;return jm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tk(){return j1()&&document.documentMode===10}function iT(t=bt()){return jm(t)||nT(t)||sT(t)||rT(t)||/windows phone/i.test(t)||tT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t,e=[]){let n;switch(t){case"Browser":n=__(bt());break;case"Worker":n=`${__(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t,e={}){return ms(t,"GET","/v2/passwordPolicy",ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=6;class Ak{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ck,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.beforeStateQueue=new Ik(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ji.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qx(this,{idToken:e}),r=await ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ln(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ak()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(cr(this));const n=e?at(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Sk(this),n=new Ak(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ek(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await ji.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&sk(`Error while retrieving App Check token: ${n.error}`),n?.token}}function ei(t){return at(t)}class w_{constructor(e){this.auth=e,this.observer=null,this.addObserver=W1(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nk(t){ud=t}function aT(t){return ud.loadJS(t)}function bk(){return ud.recaptchaEnterpriseScript}function Pk(){return ud.gapiScript}function kk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Dk="recaptcha-enterprise",Ok="NO_RECAPTCHA";class Lk{constructor(e){this.type=Dk,this.auth=ei(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{fk(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new hk(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;m_(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Ok)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&m_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=bk();c.length!==0&&(c+=a),aT(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function E_(t,e,n,r=!1){const s=new Lk(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function np(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await E_(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await E_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t,e){const n=km(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Tu(i,e??{}))return s;In(s,"already-initialized")}return n.initialize({options:e})}function Mk(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Vk(t,e,n){const r=ei(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=lT(e),{host:o,port:a}=Fk(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Uk()}function lT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Fk(t){const e=lT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:x_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:x_(o)}}}function x_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Uk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function zk(t,e){return ms(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(t,e){return ll(t,"POST","/v1/accounts:signInWithPassword",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(t,e){return ll(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}async function Wk(t,e){return ll(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Mm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Va(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Va(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,n,"signInWithPassword",Bk);case"emailLink":return $k(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,r,"signUpPassword",zk);case"emailLink":return Wk(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mi(t,e){return ll(t,"POST","/v1/accounts:signInWithIdp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="http://localhost";class $s extends Mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=ol(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new $s(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mi(e,n)}buildRequest(){const e={requestUri:Hk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kk(t){const e=Xo(Jo(t)).link,n=e?Xo(Jo(e)).deep_link_id:null,r=Xo(Jo(t)).deep_link_id;return(r?Xo(Jo(r)).link:null)||r||n||e||t}class Vm{constructor(e){var n,r,s,i,o,a;const c=Xo(Jo(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=qk((s=c.mode)!==null&&s!==void 0?s:null);re(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Kk(e);try{return new Vm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,n){return Va._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Vm.parseLink(n);return re(r,"argument-error"),Va._fromEmailAndCode(e,r.code,r.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends cT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends cl{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mr.credential(n,r)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends cl{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends cl{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e){return ll(t,"POST","/v1/accounts:signUp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ir._fromIdTokenResponse(e,r,s),o=T_(r);return new Ws({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=T_(r);return new Ws({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function T_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends xr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Au.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Au(e,n,r,s)}}function uT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Au._fromErrorAndOperation(t,i,e,r):i})}async function Qk(t,e,n=!1){const r=await Ma(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ws._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e,n=!1){const{auth:r}=t;if(Ln(r.app))return Promise.reject(cr(r));const s="reauthenticate";try{const i=await Ma(t,uT(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=Lm(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Ws._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&In(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dT(t,e,n=!1){if(Ln(t.app))return Promise.reject(cr(t));const r="signIn",s=await uT(t,r,e),i=await Ws._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Xk(t,e){return dT(ei(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(t){const e=ei(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jk(t,e,n){if(Ln(t.app))return Promise.reject(cr(t));const r=ei(t),o=await np(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gk).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&hT(t),c}),a=await Ws._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Zk(t,e,n){return Ln(t.app)?Promise.reject(cr(t)):Xk(at(t),fo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hT(t),r})}function e2(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function t2(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function n2(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function r2(t){return at(t).signOut()}const Ru="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=1e3,i2=10;class pT extends fT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Tk()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,i2):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pT.type="LOCAL";const o2=pT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends fT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mT.type="SESSION";const gT=mT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new dd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await a2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Fm("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function c2(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function u2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function h2(){return vT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebaseLocalStorageDb",f2=1,Nu="firebaseLocalStorage",_T="fbase_key";class ul{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hd(t,e){return t.transaction([Nu],e?"readwrite":"readonly").objectStore(Nu)}function p2(){const t=indexedDB.deleteDatabase(yT);return new ul(t).toPromise()}function rp(){const t=indexedDB.open(yT,f2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nu,{keyPath:_T})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nu)?e(r):(r.close(),await p2(),e(await rp()))})})}async function I_(t,e,n){const r=hd(t,!0).put({[_T]:e,value:n});return new ul(r).toPromise()}async function m2(t,e){const n=hd(t,!1).get(e),r=await new ul(n).toPromise();return r===void 0?null:r.value}function S_(t,e){const n=hd(t,!0).delete(e);return new ul(n).toPromise()}const g2=800,v2=3;class wT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>v2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(h2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await u2(),!this.activeServiceWorker)return;this.sender=new l2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await I_(e,Ru,"1"),await S_(e,Ru),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>I_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hd(s,!1).getAll();return new ul(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wT.type="LOCAL";const y2=wT;new al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t,e){return e?or(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Mm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w2(t){return dT(t.auth,new Um(t),t.bypassAuthState)}function E2(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),Yk(n,new Um(t),t.bypassAuthState)}async function x2(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),Qk(n,new Um(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w2;case"linkViaPopup":case"linkViaRedirect":return x2;case"reauthViaPopup":case"reauthViaRedirect":return E2;default:In(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new al(2e3,1e4);class Ai extends ET{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ai.currentPopupAction&&Ai.currentPopupAction.cancel(),Ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T2.get())};e()}}Ai.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="pendingRedirect",Pc=new Map;class S2 extends ET{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const r=await C2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C2(t,e){const n=N2(e),r=R2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function A2(t,e){Pc.set(t._key(),e)}function R2(t){return or(t._redirectPersistence)}function N2(t){return bc(I2,t.config.apiKey,t.name)}async function b2(t,e,n=!1){if(Ln(t.app))return Promise.reject(cr(t));const r=ei(t),s=_2(r,e),o=await new S2(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=10*60*1e3;class k2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=P2&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function D2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t,e={}){return ms(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j2=/^https?/;async function M2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await O2(t);for(const n of e)try{if(V2(n))return}catch{}In(t,"unauthorized-domain")}function V2(t){const e=ep(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!j2.test(n))return!1;if(L2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new al(3e4,6e4);function A_(){const t=Un().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U2(t){return new Promise((e,n)=>{var r,s,i;function o(){A_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A_(),n(Fn(t,"network-request-failed"))},timeout:F2.get()})}if(!((s=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Un().gapi)===null||i===void 0)&&i.load)o();else{const a=kk("iframefcb");return Un()[a]=()=>{gapi.load?o():n(Fn(t,"network-request-failed"))},aT(`${Pk()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw kc=null,e})}let kc=null;function z2(t){return kc=kc||U2(t),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new al(5e3,15e3),$2="__/auth/iframe",W2="emulator/auth/iframe",H2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K2(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Om(e,W2):`https://${t.config.authDomain}/${$2}`,r={apiKey:e.apiKey,appName:t.name,v:ho},s=q2.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${il(r).slice(1)}`}async function G2(t){const e=await z2(t),n=Un().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:K2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H2,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Fn(t,"network-request-failed"),a=Un().setTimeout(()=>{i(o)},B2.get());function c(){Un().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y2=500,X2=600,J2="_blank",Z2="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eD(t,e,n,r=Y2,s=X2){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Q2),{width:r.toString(),height:s.toString(),top:i,left:o}),u=bt().toLowerCase();n&&(a=eT(u)?J2:n),Jx(u)&&(e=e||Z2,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[x,w])=>`${g}${x}=${w},`,"");if(xk(u)&&a!=="_self")return tD(e||"",a),new R_(null);const p=window.open(e||"",a,h);re(p,t,"popup-blocked");try{p.focus()}catch{}return new R_(p)}function tD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="__/auth/handler",rD="emulator/auth/handler",sD=encodeURIComponent("fac");async function N_(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ho,eventId:s};if(e instanceof cT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof cl){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${sD}=${encodeURIComponent(c)}`:"";return`${iD(t)}?${il(a).slice(1)}${u}`}function iD({config:t}){return t.emulator?Om(t,rD):`https://${t.authDomain}/${nD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="webStorageSupport";class oD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gT,this._completeRedirectFn=b2,this._overrideRedirectResult=A2}async _openPopup(e,n,r,s){var i;gr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await N_(e,n,r,ep(),s);return eD(e,o,Fm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await N_(e,n,r,ep(),s);return c2(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(gr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await G2(e),r=new k2(e);return n.register("authEvent",s=>(re(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vh,{type:Vh},s=>{var i;const o=(i=s?.[0])===null||i===void 0?void 0:i[Vh];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iT()||Zx()||jm()}}const aD=oD;var b_="@firebase/auth",P_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uD(t){Qi(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oT(t)},u=new Rk(r,s,i,c);return Mk(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qi(new Bs("auth-internal",e=>{const n=ei(e.getProvider("auth").getImmediate());return(r=>new lD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(b_,P_,cD(t)),Zr(b_,P_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=5*60,hD=jx("authIdTokenMaxAge")||dD;let k_=null;const fD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hD)return;const s=n?.token;k_!==s&&(k_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pD(t=Ux()){const e=km(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jk(t,{popupRedirectResolver:aD,persistence:[y2,o2,gT]}),r=jx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=fD(i.toString());t2(n,o,()=>o(n.currentUser)),e2(n,a=>o(a))}}const s=Ox("auth");return s&&Vk(n,`http://${s}`),n}function mD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Nk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Fn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",mD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uD("Browser");var D_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,TT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function A(){}A.prototype=v.prototype,I.D=v.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(N,k,O){for(var b=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)b[ee-2]=arguments[ee];return v.prototype[k].apply(N,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,v,A){A||(A=0);var N=Array(16);if(typeof v=="string")for(var k=0;16>k;++k)N[k]=v.charCodeAt(A++)|v.charCodeAt(A++)<<8|v.charCodeAt(A++)<<16|v.charCodeAt(A++)<<24;else for(k=0;16>k;++k)N[k]=v[A++]|v[A++]<<8|v[A++]<<16|v[A++]<<24;v=I.g[0],A=I.g[1],k=I.g[2];var O=I.g[3],b=v+(O^A&(k^O))+N[0]+3614090360&4294967295;v=A+(b<<7&4294967295|b>>>25),b=O+(k^v&(A^k))+N[1]+3905402710&4294967295,O=v+(b<<12&4294967295|b>>>20),b=k+(A^O&(v^A))+N[2]+606105819&4294967295,k=O+(b<<17&4294967295|b>>>15),b=A+(v^k&(O^v))+N[3]+3250441966&4294967295,A=k+(b<<22&4294967295|b>>>10),b=v+(O^A&(k^O))+N[4]+4118548399&4294967295,v=A+(b<<7&4294967295|b>>>25),b=O+(k^v&(A^k))+N[5]+1200080426&4294967295,O=v+(b<<12&4294967295|b>>>20),b=k+(A^O&(v^A))+N[6]+2821735955&4294967295,k=O+(b<<17&4294967295|b>>>15),b=A+(v^k&(O^v))+N[7]+4249261313&4294967295,A=k+(b<<22&4294967295|b>>>10),b=v+(O^A&(k^O))+N[8]+1770035416&4294967295,v=A+(b<<7&4294967295|b>>>25),b=O+(k^v&(A^k))+N[9]+2336552879&4294967295,O=v+(b<<12&4294967295|b>>>20),b=k+(A^O&(v^A))+N[10]+4294925233&4294967295,k=O+(b<<17&4294967295|b>>>15),b=A+(v^k&(O^v))+N[11]+2304563134&4294967295,A=k+(b<<22&4294967295|b>>>10),b=v+(O^A&(k^O))+N[12]+1804603682&4294967295,v=A+(b<<7&4294967295|b>>>25),b=O+(k^v&(A^k))+N[13]+4254626195&4294967295,O=v+(b<<12&4294967295|b>>>20),b=k+(A^O&(v^A))+N[14]+2792965006&4294967295,k=O+(b<<17&4294967295|b>>>15),b=A+(v^k&(O^v))+N[15]+1236535329&4294967295,A=k+(b<<22&4294967295|b>>>10),b=v+(k^O&(A^k))+N[1]+4129170786&4294967295,v=A+(b<<5&4294967295|b>>>27),b=O+(A^k&(v^A))+N[6]+3225465664&4294967295,O=v+(b<<9&4294967295|b>>>23),b=k+(v^A&(O^v))+N[11]+643717713&4294967295,k=O+(b<<14&4294967295|b>>>18),b=A+(O^v&(k^O))+N[0]+3921069994&4294967295,A=k+(b<<20&4294967295|b>>>12),b=v+(k^O&(A^k))+N[5]+3593408605&4294967295,v=A+(b<<5&4294967295|b>>>27),b=O+(A^k&(v^A))+N[10]+38016083&4294967295,O=v+(b<<9&4294967295|b>>>23),b=k+(v^A&(O^v))+N[15]+3634488961&4294967295,k=O+(b<<14&4294967295|b>>>18),b=A+(O^v&(k^O))+N[4]+3889429448&4294967295,A=k+(b<<20&4294967295|b>>>12),b=v+(k^O&(A^k))+N[9]+568446438&4294967295,v=A+(b<<5&4294967295|b>>>27),b=O+(A^k&(v^A))+N[14]+3275163606&4294967295,O=v+(b<<9&4294967295|b>>>23),b=k+(v^A&(O^v))+N[3]+4107603335&4294967295,k=O+(b<<14&4294967295|b>>>18),b=A+(O^v&(k^O))+N[8]+1163531501&4294967295,A=k+(b<<20&4294967295|b>>>12),b=v+(k^O&(A^k))+N[13]+2850285829&4294967295,v=A+(b<<5&4294967295|b>>>27),b=O+(A^k&(v^A))+N[2]+4243563512&4294967295,O=v+(b<<9&4294967295|b>>>23),b=k+(v^A&(O^v))+N[7]+1735328473&4294967295,k=O+(b<<14&4294967295|b>>>18),b=A+(O^v&(k^O))+N[12]+2368359562&4294967295,A=k+(b<<20&4294967295|b>>>12),b=v+(A^k^O)+N[5]+4294588738&4294967295,v=A+(b<<4&4294967295|b>>>28),b=O+(v^A^k)+N[8]+2272392833&4294967295,O=v+(b<<11&4294967295|b>>>21),b=k+(O^v^A)+N[11]+1839030562&4294967295,k=O+(b<<16&4294967295|b>>>16),b=A+(k^O^v)+N[14]+4259657740&4294967295,A=k+(b<<23&4294967295|b>>>9),b=v+(A^k^O)+N[1]+2763975236&4294967295,v=A+(b<<4&4294967295|b>>>28),b=O+(v^A^k)+N[4]+1272893353&4294967295,O=v+(b<<11&4294967295|b>>>21),b=k+(O^v^A)+N[7]+4139469664&4294967295,k=O+(b<<16&4294967295|b>>>16),b=A+(k^O^v)+N[10]+3200236656&4294967295,A=k+(b<<23&4294967295|b>>>9),b=v+(A^k^O)+N[13]+681279174&4294967295,v=A+(b<<4&4294967295|b>>>28),b=O+(v^A^k)+N[0]+3936430074&4294967295,O=v+(b<<11&4294967295|b>>>21),b=k+(O^v^A)+N[3]+3572445317&4294967295,k=O+(b<<16&4294967295|b>>>16),b=A+(k^O^v)+N[6]+76029189&4294967295,A=k+(b<<23&4294967295|b>>>9),b=v+(A^k^O)+N[9]+3654602809&4294967295,v=A+(b<<4&4294967295|b>>>28),b=O+(v^A^k)+N[12]+3873151461&4294967295,O=v+(b<<11&4294967295|b>>>21),b=k+(O^v^A)+N[15]+530742520&4294967295,k=O+(b<<16&4294967295|b>>>16),b=A+(k^O^v)+N[2]+3299628645&4294967295,A=k+(b<<23&4294967295|b>>>9),b=v+(k^(A|~O))+N[0]+4096336452&4294967295,v=A+(b<<6&4294967295|b>>>26),b=O+(A^(v|~k))+N[7]+1126891415&4294967295,O=v+(b<<10&4294967295|b>>>22),b=k+(v^(O|~A))+N[14]+2878612391&4294967295,k=O+(b<<15&4294967295|b>>>17),b=A+(O^(k|~v))+N[5]+4237533241&4294967295,A=k+(b<<21&4294967295|b>>>11),b=v+(k^(A|~O))+N[12]+1700485571&4294967295,v=A+(b<<6&4294967295|b>>>26),b=O+(A^(v|~k))+N[3]+2399980690&4294967295,O=v+(b<<10&4294967295|b>>>22),b=k+(v^(O|~A))+N[10]+4293915773&4294967295,k=O+(b<<15&4294967295|b>>>17),b=A+(O^(k|~v))+N[1]+2240044497&4294967295,A=k+(b<<21&4294967295|b>>>11),b=v+(k^(A|~O))+N[8]+1873313359&4294967295,v=A+(b<<6&4294967295|b>>>26),b=O+(A^(v|~k))+N[15]+4264355552&4294967295,O=v+(b<<10&4294967295|b>>>22),b=k+(v^(O|~A))+N[6]+2734768916&4294967295,k=O+(b<<15&4294967295|b>>>17),b=A+(O^(k|~v))+N[13]+1309151649&4294967295,A=k+(b<<21&4294967295|b>>>11),b=v+(k^(A|~O))+N[4]+4149444226&4294967295,v=A+(b<<6&4294967295|b>>>26),b=O+(A^(v|~k))+N[11]+3174756917&4294967295,O=v+(b<<10&4294967295|b>>>22),b=k+(v^(O|~A))+N[2]+718787259&4294967295,k=O+(b<<15&4294967295|b>>>17),b=A+(O^(k|~v))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(k+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var A=v-this.blockSize,N=this.B,k=this.h,O=0;O<v;){if(k==0)for(;O<=A;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<v;)if(N[k++]=I.charCodeAt(O++),k==this.blockSize){s(this,N),k=0;break}}else for(;O<v;)if(N[k++]=I[O++],k==this.blockSize){s(this,N),k=0;break}}this.h=k,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var A=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=A&255,A/=256;for(this.u(I),I=Array(16),v=A=0;4>v;++v)for(var N=0;32>N;N+=8)I[A++]=this.g[v]>>>N&255;return I};function i(I,v){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=v(I)}function o(I,v){this.h=v;for(var A=[],N=!0,k=I.length-1;0<=k;k--){var O=I[k]|0;N&&O==v||(A[k]=O,N=!1)}this.g=A}var a={};function c(I){return-128<=I&&128>I?i(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return R(u(-I));for(var v=[],A=1,N=0;I>=A;N++)v[N]=I/A|0,A*=4294967296;return new o(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return R(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(v,8)),N=p,k=0;k<I.length;k+=8){var O=Math.min(8,I.length-k),b=parseInt(I.substring(k,k+O),v);8>O?(O=u(Math.pow(v,O)),N=N.j(O).add(u(b))):(N=N.j(A),N=N.add(u(b)))}return N}var p=c(0),g=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-R(this).m();for(var I=0,v=1,A=0;A<this.g.length;A++){var N=this.i(A);I+=(0<=N?N:4294967296+N)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(E(this))return"-"+R(this).toString(I);for(var v=u(Math.pow(I,6)),A=this,N="";;){var k=P(A,v).g;A=T(A,k.j(v));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=k,w(A))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=T(this,I),E(I)?-1:w(I)?0:1};function R(I){for(var v=I.g.length,A=[],N=0;N<v;N++)A[N]=~I.g[N];return new o(A,~I.h).add(g)}t.abs=function(){return E(this)?R(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),A=[],N=0,k=0;k<=v;k++){var O=N+(this.i(k)&65535)+(I.i(k)&65535),b=(O>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);N=b>>>16,O&=65535,b&=65535,A[k]=b<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function T(I,v){return I.add(R(v))}t.j=function(I){if(w(this)||w(I))return p;if(E(this))return E(I)?R(this).j(R(I)):R(R(this).j(I));if(E(I))return R(this.j(R(I)));if(0>this.l(x)&&0>I.l(x))return u(this.m()*I.m());for(var v=this.g.length+I.g.length,A=[],N=0;N<2*v;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<I.g.length;k++){var O=this.i(N)>>>16,b=this.i(N)&65535,ee=I.i(k)>>>16,oe=I.i(k)&65535;A[2*N+2*k]+=b*oe,_(A,2*N+2*k),A[2*N+2*k+1]+=O*oe,_(A,2*N+2*k+1),A[2*N+2*k+1]+=b*ee,_(A,2*N+2*k+1),A[2*N+2*k+2]+=O*ee,_(A,2*N+2*k+2)}for(N=0;N<v;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=v;N<2*v;N++)A[N]=0;return new o(A,0)};function _(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function S(I,v){this.g=I,this.h=v}function P(I,v){if(w(v))throw Error("division by zero");if(w(I))return new S(p,p);if(E(I))return v=P(R(I),v),new S(R(v.g),R(v.h));if(E(v))return v=P(I,R(v)),new S(R(v.g),v.h);if(30<I.g.length){if(E(I)||E(v))throw Error("slowDivide_ only works with positive integers.");for(var A=g,N=v;0>=N.l(I);)A=L(A),N=L(N);var k=D(A,1),O=D(N,1);for(N=D(N,2),A=D(A,2);!w(N);){var b=O.add(N);0>=b.l(I)&&(k=k.add(A),O=b),N=D(N,1),A=D(A,1)}return v=T(I,k.j(v)),new S(k,v)}for(k=p;0<=I.l(v);){for(A=Math.max(1,Math.floor(I.m()/v.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=u(A),b=O.j(v);E(b)||0<b.l(I);)A-=N,O=u(A),b=O.j(v);w(O)&&(O=g),k=k.add(O),I=T(I,b)}return new S(k,I)}t.A=function(I){return P(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),A=[],N=0;N<v;N++)A[N]=this.i(N)&I.i(N);return new o(A,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),A=[],N=0;N<v;N++)A[N]=this.i(N)|I.i(N);return new o(A,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),A=[],N=0;N<v;N++)A[N]=this.i(N)^I.i(N);return new o(A,this.h^I.h)};function L(I){for(var v=I.g.length+1,A=[],N=0;N<v;N++)A[N]=I.i(N)<<1|I.i(N-1)>>>31;return new o(A,I.h)}function D(I,v){var A=v>>5;v%=32;for(var N=I.g.length-A,k=[],O=0;O<N;O++)k[O]=0<v?I.i(O+A)>>>v|I.i(O+A+1)<<32-v:I.i(O+A);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,js=o}).apply(typeof D_<"u"?D_:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IT,Zo,ST,Dc,sp,CT,AT,RT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var m=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var M=l[C];if(!(M in m))break e;m=m[M]}l=l[l.length-1],C=m[l],f=f(C),f!=C&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}function i(l,f){l instanceof String&&(l+="");var m=0,C=!1,M={next:function(){if(!C&&m<l.length){var V=m++;return{value:f(V,l[V]),done:!1}}return C=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function u(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,m){return l.call.apply(l.bind,arguments)}function p(l,f,m){if(!l)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,C),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function g(l,f,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function x(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var C=m.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function w(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(C,M,V){for(var $=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)$[ke-2]=arguments[ke];return f.prototype[M].apply(C,$)}}function E(l){const f=l.length;if(0<f){const m=Array(f);for(let C=0;C<f;C++)m[C]=l[C];return m}return[]}function R(l,f){for(let m=1;m<arguments.length;m++){const C=arguments[m];if(c(C)){const M=l.length||0,V=C.length||0;l.length=M+V;for(let $=0;$<V;$++)l[M+$]=C[$]}else l.push(C)}}class T{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function P(l){return P[" "](l),l}P[" "]=function(){};var L=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function D(l,f,m){for(const C in l)f.call(m,l[C],C,l)}function I(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function v(l){const f={};for(const m in l)f[m]=l[m];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(l,f){let m,C;for(let M=1;M<arguments.length;M++){C=arguments[M];for(m in C)l[m]=C[m];for(let V=0;V<A.length;V++)m=A[V],Object.prototype.hasOwnProperty.call(C,m)&&(l[m]=C[m])}}function k(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function O(l){a.setTimeout(()=>{throw l},0)}function b(){var l=H;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class ee{constructor(){this.h=this.g=null}add(f,m){const C=oe.get();C.set(f,m),this.h?this.h.next=C:this.g=C,this.h=C}}var oe=new T(()=>new J,l=>l.reset());class J{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let te,j=!1,H=new ee,G=()=>{const l=a.Promise.resolve(void 0);te=()=>{l.then(de)}};var de=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(m){O(m)}var f=oe;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}j=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return l}();function Oe(l,f){if(se.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(L){e:{try{P(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:$e[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Oe.aa.h.call(this)}}w(Oe,se);var $e={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Pe(l,f,m,C,M){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!C,this.ha=M,this.key=++Re,this.da=this.fa=!1}function he(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function me(l){this.src=l,this.g={},this.h=0}me.prototype.add=function(l,f,m,C,M){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var $=lt(l,f,C,M);return-1<$?(f=l[$],m||(f.fa=!1)):(f=new Pe(f,this.src,V,!!C,M),f.fa=m,l.push(f)),f};function xe(l,f){var m=f.type;if(m in l.g){var C=l.g[m],M=Array.prototype.indexOf.call(C,f,void 0),V;(V=0<=M)&&Array.prototype.splice.call(C,M,1),V&&(he(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function lt(l,f,m,C){for(var M=0;M<l.length;++M){var V=l[M];if(!V.da&&V.listener==f&&V.capture==!!m&&V.ha==C)return M}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Kn={};function Tr(l,f,m,C,M){if(Array.isArray(f)){for(var V=0;V<f.length;V++)Tr(l,f[V],m,C,M);return null}return m=B(m),l&&l[W]?l.K(f,m,u(C)?!!C.capture:!1,M):ws(l,f,m,!1,C,M)}function ws(l,f,m,C,M,V){if(!f)throw Error("Invalid event type");var $=u(M)?!!M.capture:!!M,ke=To(l);if(ke||(l[kt]=ke=new me(l)),m=ke.add(f,m,C,$,V),m.proxy)return m;if(C=Ud(),m.proxy=C,C.src=l,C.listener=m,l.addEventListener)pe||(M=$),M===void 0&&(M=!1),l.addEventListener(f.toString(),C,M);else if(l.attachEvent)l.attachEvent(xl(f.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Ud(){function l(m){return f.call(l.src,l.listener,m)}const f=Tl;return l}function El(l,f,m,C,M){if(Array.isArray(f))for(var V=0;V<f.length;V++)El(l,f[V],m,C,M);else C=u(C)?!!C.capture:!!C,m=B(m),l&&l[W]?(l=l.i,f=String(f).toString(),f in l.g&&(V=l.g[f],m=lt(V,m,C,M),-1<m&&(he(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete l.g[f],l.h--)))):l&&(l=To(l))&&(f=l.g[f.toString()],l=-1,f&&(l=lt(f,m,C,M)),(m=-1<l?f[l]:null)&&xo(m))}function xo(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[W])xe(f.i,l);else{var m=l.type,C=l.proxy;f.removeEventListener?f.removeEventListener(m,C,l.capture):f.detachEvent?f.detachEvent(xl(m),C):f.addListener&&f.removeListener&&f.removeListener(C),(m=To(f))?(xe(m,l),m.h==0&&(m.src=null,f[kt]=null)):he(l)}}}function xl(l){return l in Kn?Kn[l]:Kn[l]="on"+l}function Tl(l,f){if(l.da)l=!0;else{f=new Oe(f,this);var m=l.listener,C=l.ha||l.src;l.fa&&xo(l),l=m.call(C,f)}return l}function To(l){return l=l[kt],l instanceof me?l:null}var Ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function B(l){return typeof l=="function"?l:(l[Ir]||(l[Ir]=function(f){return l.handleEvent(f)}),l[Ir])}function Te(){ce.call(this),this.i=new me(this),this.M=this,this.F=null}w(Te,ce),Te.prototype[W]=!0,Te.prototype.removeEventListener=function(l,f,m,C){El(this,l,f,m,C)};function ve(l,f){var m,C=l.F;if(C)for(m=[];C;C=C.F)m.push(C);if(l=l.M,C=f.type||f,typeof f=="string")f=new se(f,l);else if(f instanceof se)f.target=f.target||l;else{var M=f;f=new se(C,l),N(f,M)}if(M=!0,m)for(var V=m.length-1;0<=V;V--){var $=f.g=m[V];M=Gn($,C,!0,f)&&M}if($=f.g=l,M=Gn($,C,!0,f)&&M,M=Gn($,C,!1,f)&&M,m)for(V=0;V<m.length;V++)$=f.g=m[V],M=Gn($,C,!1,f)&&M}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],C=0;C<m.length;C++)he(m[C]);delete l.g[f],l.h--}}this.F=null},Te.prototype.K=function(l,f,m,C){return this.i.add(String(l),f,!1,m,C)},Te.prototype.L=function(l,f,m,C){return this.i.add(String(l),f,!0,m,C)};function Gn(l,f,m,C){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,V=0;V<f.length;++V){var $=f[V];if($&&!$.da&&$.capture==m){var ke=$.listener,ht=$.ha||$.src;$.fa&&xe(l.i,$),M=ke.call(ht,C)!==!1&&M}}return M&&!C.defaultPrevented}function Il(l,f,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function Nn(l){l.g=Il(()=>{l.g=null,l.i&&(l.i=!1,Nn(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class LC extends ce{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Nn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Io(l){ce.call(this),this.h=l,this.g={}}w(Io,ce);var Hg=[];function qg(l){D(l.g,function(f,m){this.g.hasOwnProperty(m)&&xo(f)},l),l.g={}}Io.prototype.N=function(){Io.aa.N.call(this),qg(this)},Io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zd=a.JSON.stringify,jC=a.JSON.parse,MC=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Bd(){}Bd.prototype.h=null;function Kg(l){return l.h||(l.h=l.i())}function Gg(){}var So={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $d(){se.call(this,"d")}w($d,se);function Wd(){se.call(this,"c")}w(Wd,se);var Es={},Qg=null;function Sl(){return Qg=Qg||new Te}Es.La="serverreachability";function Yg(l){se.call(this,Es.La,l)}w(Yg,se);function Co(l){const f=Sl();ve(f,new Yg(f))}Es.STAT_EVENT="statevent";function Xg(l,f){se.call(this,Es.STAT_EVENT,l),this.stat=f}w(Xg,se);function Dt(l){const f=Sl();ve(f,new Xg(f,l))}Es.Ma="timingevent";function Jg(l,f){se.call(this,Es.Ma,l),this.size=f}w(Jg,se);function Ao(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function Ro(){this.g=!0}Ro.prototype.xa=function(){this.g=!1};function VC(l,f,m,C,M,V){l.info(function(){if(l.g)if(V)for(var $="",ke=V.split("&"),ht=0;ht<ke.length;ht++){var Ie=ke[ht].split("=");if(1<Ie.length){var wt=Ie[0];Ie=Ie[1];var Et=wt.split("_");$=2<=Et.length&&Et[1]=="type"?$+(wt+"="+Ie+"&"):$+(wt+"=redacted&")}}else $=null;else $=V;return"XMLHTTP REQ ("+C+") [attempt "+M+"]: "+f+`
`+m+`
`+$})}function FC(l,f,m,C,M,V,$){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+M+"]: "+f+`
`+m+`
`+V+" "+$})}function ri(l,f,m,C){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+zC(l,m)+(C?" "+C:"")})}function UC(l,f){l.info(function(){return"TIMEOUT: "+f})}Ro.prototype.info=function(){};function zC(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var C=m[l];if(!(2>C.length)){var M=C[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var $=1;$<M.length;$++)M[$]=""}}}}return zd(m)}catch{return f}}var Cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hd;function Al(){}w(Al,Bd),Al.prototype.g=function(){return new XMLHttpRequest},Al.prototype.i=function(){return{}},Hd=new Al;function Sr(l,f,m,C){this.j=l,this.i=f,this.l=m,this.R=C||1,this.U=new Io(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ev}function ev(){this.i=null,this.g="",this.h=!1}var tv={},qd={};function Kd(l,f,m){l.L=1,l.v=Pl(Qn(f)),l.m=m,l.P=!0,nv(l,null)}function nv(l,f){l.F=Date.now(),Rl(l),l.A=Qn(l.v);var m=l.A,C=l.R;Array.isArray(C)||(C=[String(C)]),gv(m.i,"t",C),l.C=0,m=l.j.J,l.h=new ev,l.g=Ov(l.j,m?f:null,!l.m),0<l.O&&(l.M=new LC(g(l.Y,l,l.g),l.O)),f=l.U,m=l.g,C=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Hg[0]=M.toString()),M=Hg);for(var V=0;V<M.length;V++){var $=Tr(m,M[V],C||f.handleEvent,!1,f.h||f);if(!$)break;f.g[$.key]=$}f=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Co(),VC(l.i,l.u,l.A,l.l,l.R,l.m)}Sr.prototype.ca=function(l){l=l.target;const f=this.M;f&&Yn(l)==3?f.j():this.Y(l)},Sr.prototype.Y=function(l){try{if(l==this.g)e:{const Et=Yn(this.g);var f=this.g.Ba();const oi=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Tv(this.g)))){this.J||Et!=4||f==7||(f==8||0>=oi?Co(3):Co(2)),Gd(this);var m=this.g.Z();this.X=m;t:if(rv(this)){var C=Tv(this.g);l="";var M=C.length,V=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),No(this);var $="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(C[f],{stream:!(V&&f==M-1)});C.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=m==200,FC(this.i,this.u,this.A,this.l,this.R,Et,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,ht=this.g;if((ke=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ke)){var Ie=ke;break t}}Ie=null}if(m=Ie)ri(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qd(this,m);else{this.o=!1,this.s=3,Dt(12),xs(this),No(this);break e}}if(this.P){m=!0;let un;for(;!this.J&&this.C<$.length;)if(un=BC(this,$),un==qd){Et==4&&(this.s=4,Dt(14),m=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(un==tv){this.s=4,Dt(15),ri(this.i,this.l,$,"[Invalid Chunk]"),m=!1;break}else ri(this.i,this.l,un,null),Qd(this,un);if(rv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||$.length!=0||this.h.h||(this.s=1,Dt(16),m=!1),this.o=this.o&&m,!m)ri(this.i,this.l,$,"[Invalid Chunked Response]"),xs(this),No(this);else if(0<$.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),th(wt),wt.M=!0,Dt(11))}}else ri(this.i,this.l,$,null),Qd(this,$);Et==4&&xs(this),this.o&&!this.J&&(Et==4?bv(this.j,this):(this.o=!1,Rl(this)))}else iA(this.g),m==400&&0<$.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),xs(this),No(this)}}}catch{}finally{}};function rv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function BC(l,f){var m=l.C,C=f.indexOf(`
`,m);return C==-1?qd:(m=Number(f.substring(m,C)),isNaN(m)?tv:(C+=1,C+m>f.length?qd:(f=f.slice(C,C+m),l.C=C+m,f)))}Sr.prototype.cancel=function(){this.J=!0,xs(this)};function Rl(l){l.S=Date.now()+l.I,sv(l,l.I)}function sv(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ao(g(l.ba,l),f)}function Gd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Sr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(UC(this.i,this.A),this.L!=2&&(Co(),Dt(17)),xs(this),this.s=2,No(this)):sv(this,this.S-l)};function No(l){l.j.G==0||l.J||bv(l.j,l)}function xs(l){Gd(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,qg(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Qd(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||Yd(m.h,l))){if(!l.K&&Yd(m.h,l)&&m.G==3){try{var C=m.Da.g.parse(f)}catch{C=null}if(Array.isArray(C)&&C.length==3){var M=C;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Ml(m),Ll(m);else break e;eh(m),Dt(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ao(g(m.Za,m),6e3));if(1>=av(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Is(m,11)}else if((l.K||m.g==l)&&Ml(m),!_(f))for(M=m.Da.g.parse(f),f=0;f<M.length;f++){let Ie=M[f];if(m.T=Ie[0],Ie=Ie[1],m.G==2)if(Ie[0]=="c"){m.K=Ie[1],m.ia=Ie[2];const wt=Ie[3];wt!=null&&(m.la=wt,m.j.info("VER="+m.la));const Et=Ie[4];Et!=null&&(m.Aa=Et,m.j.info("SVER="+m.Aa));const oi=Ie[5];oi!=null&&typeof oi=="number"&&0<oi&&(C=1.5*oi,m.L=C,m.j.info("backChannelRequestTimeoutMs_="+C)),C=m;const un=l.g;if(un){const Fl=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fl){var V=C.h;V.g||Fl.indexOf("spdy")==-1&&Fl.indexOf("quic")==-1&&Fl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Xd(V,V.h),V.h=null))}if(C.D){const nh=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;nh&&(C.ya=nh,Le(C.I,C.D,nh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),C=m;var $=l;if(C.qa=Dv(C,C.J?C.ia:null,C.W),$.K){lv(C.h,$);var ke=$,ht=C.L;ht&&(ke.I=ht),ke.B&&(Gd(ke),Rl(ke)),C.g=$}else Rv(C);0<m.i.length&&jl(m)}else Ie[0]!="stop"&&Ie[0]!="close"||Is(m,7);else m.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Is(m,7):Zd(m):Ie[0]!="noop"&&m.l&&m.l.ta(Ie),m.v=0)}}Co(4)}catch{}}var $C=class{constructor(l,f){this.g=l,this.map=f}};function iv(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ov(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function av(l){return l.h?1:l.g?l.g.size:0}function Yd(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Xd(l,f){l.g?l.g.add(f):l.h=f}function lv(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}iv.prototype.cancel=function(){if(this.i=cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function cv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return E(l.i)}function WC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var f=[],m=l.length,C=0;C<m;C++)f.push(l[C]);return f}f=[],m=0;for(C in l)f[m++]=l[C];return f}function HC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const C in l)f[m++]=C;return f}}}function uv(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=HC(l),C=WC(l),M=C.length,V=0;V<M;V++)f.call(void 0,C[V],m&&m[V],l)}var dv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qC(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var C=l[m].indexOf("="),M=null;if(0<=C){var V=l[m].substring(0,C);M=l[m].substring(C+1)}else V=l[m];f(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ts(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ts){this.h=l.h,Nl(this,l.j),this.o=l.o,this.g=l.g,bl(this,l.s),this.l=l.l;var f=l.i,m=new ko;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),hv(this,m),this.m=l.m}else l&&(f=String(l).match(dv))?(this.h=!1,Nl(this,f[1]||"",!0),this.o=bo(f[2]||""),this.g=bo(f[3]||"",!0),bl(this,f[4]),this.l=bo(f[5]||"",!0),hv(this,f[6]||"",!0),this.m=bo(f[7]||"")):(this.h=!1,this.i=new ko(null,this.h))}Ts.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Po(f,fv,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Po(f,fv,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Po(m,m.charAt(0)=="/"?QC:GC,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Po(m,XC)),l.join("")};function Qn(l){return new Ts(l)}function Nl(l,f,m){l.j=m?bo(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function bl(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function hv(l,f,m){f instanceof ko?(l.i=f,JC(l.i,l.h)):(m||(f=Po(f,YC)),l.i=new ko(f,l.h))}function Le(l,f,m){l.i.set(f,m)}function Pl(l){return Le(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function bo(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Po(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,KC),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function KC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var fv=/[#\/\?@]/g,GC=/[#\?:]/g,QC=/[#\?]/g,YC=/[#\?@]/g,XC=/#/g;function ko(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Cr(l){l.g||(l.g=new Map,l.h=0,l.i&&qC(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=ko.prototype,t.add=function(l,f){Cr(this),this.i=null,l=si(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function pv(l,f){Cr(l),f=si(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function mv(l,f){return Cr(l),f=si(l,f),l.g.has(f)}t.forEach=function(l,f){Cr(this),this.g.forEach(function(m,C){m.forEach(function(M){l.call(f,M,C,this)},this)},this)},t.na=function(){Cr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let C=0;C<f.length;C++){const M=l[C];for(let V=0;V<M.length;V++)m.push(f[C])}return m},t.V=function(l){Cr(this);let f=[];if(typeof l=="string")mv(this,l)&&(f=f.concat(this.g.get(si(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},t.set=function(l,f){return Cr(this),this.i=null,l=si(this,l),mv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function gv(l,f,m){pv(l,f),0<m.length&&(l.i=null,l.g.set(si(l,f),E(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var C=f[m];const V=encodeURIComponent(String(C)),$=this.V(C);for(C=0;C<$.length;C++){var M=V;$[C]!==""&&(M+="="+encodeURIComponent(String($[C]))),l.push(M)}}return this.i=l.join("&")};function si(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function JC(l,f){f&&!l.j&&(Cr(l),l.i=null,l.g.forEach(function(m,C){var M=C.toLowerCase();C!=M&&(pv(this,C),gv(this,M,m))},l)),l.j=f}function ZC(l,f){const m=new Ro;if(a.Image){const C=new Image;C.onload=x(Ar,m,"TestLoadImage: loaded",!0,f,C),C.onerror=x(Ar,m,"TestLoadImage: error",!1,f,C),C.onabort=x(Ar,m,"TestLoadImage: abort",!1,f,C),C.ontimeout=x(Ar,m,"TestLoadImage: timeout",!1,f,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else f(!1)}function eA(l,f){const m=new Ro,C=new AbortController,M=setTimeout(()=>{C.abort(),Ar(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:C.signal}).then(V=>{clearTimeout(M),V.ok?Ar(m,"TestPingServer: ok",!0,f):Ar(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Ar(m,"TestPingServer: error",!1,f)})}function Ar(l,f,m,C,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),C(m)}catch{}}function tA(){this.g=new MC}function nA(l,f,m){const C=m||"";try{uv(l,function(M,V){let $=M;u(M)&&($=zd(M)),f.push(C+V+"="+encodeURIComponent($))})}catch(M){throw f.push(C+"type="+encodeURIComponent("_badmap")),M}}function kl(l){this.l=l.Ub||null,this.j=l.eb||!1}w(kl,Bd),kl.prototype.g=function(){return new Dl(this.l,this.j)},kl.prototype.i=function(l){return function(){return l}}({});function Dl(l,f){Te.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Dl,Te),t=Dl.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Oo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Do(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Oo(this)),this.g&&(this.readyState=3,Oo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function vv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Do(this):Oo(this),this.readyState==3&&vv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Do(this))},t.Qa=function(l){this.g&&(this.response=l,Do(this))},t.ga=function(){this.g&&Do(this)};function Do(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Oo(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function Oo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function yv(l){let f="";return D(l,function(m,C){f+=C,f+=":",f+=m,f+=`\r
`}),f}function Jd(l,f,m){e:{for(C in m){var C=!1;break e}C=!0}C||(m=yv(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Le(l,f,m))}function Ge(l){Te.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ge,Te);var rA=/^https?$/i,sA=["POST","PUT"];t=Ge.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,m,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hd.g(),this.v=this.o?Kg(this.o):Kg(Hd),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(V){_v(this,V);return}if(l=m||"",m=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var M in C)m.set(M,C[M]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const V of C.keys())m.set(V,C.get(V));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sA,f,void 0))||C||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,$]of m)this.g.setRequestHeader(V,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xv(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){_v(this,V)}};function _v(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,wv(l),Ol(l)}function wv(l){l.A||(l.A=!0,ve(l,"complete"),ve(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ve(this,"complete"),ve(this,"abort"),Ol(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ol(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ev(this):this.bb())},t.bb=function(){Ev(this)};function Ev(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Yn(l)!=4||l.Z()!=2)){if(l.u&&Yn(l)==4)Il(l.Ea,0,l);else if(ve(l,"readystatechange"),Yn(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var C;if(C=$===0){var M=String(l.D).match(dv)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),C=!rA.test(M?M.toLowerCase():"")}m=C}if(m)ve(l,"complete"),ve(l,"success");else{l.m=6;try{var V=2<Yn(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",wv(l)}}finally{Ol(l)}}}}function Ol(l,f){if(l.g){xv(l);const m=l.g,C=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ve(l,"ready");try{m.onreadystatechange=C}catch{}}}function xv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Yn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),jC(f)}};function Tv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function iA(l){const f={};l=(l.g&&2<=Yn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(_(l[C]))continue;var m=k(l[C]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=f[M]||[];f[M]=V,V.push(m)}I(f,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function Iv(l){this.Aa=0,this.i=[],this.j=new Ro,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,l),this.cb=Lo("retryDelaySeedMs",1e4,l),this.Wa=Lo("forwardChannelMaxRetries",2,l),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new iv(l&&l.concurrentRequestLimit),this.Da=new tA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Iv.prototype,t.la=8,t.G=1,t.connect=function(l,f,m,C){Dt(0),this.W=l,this.H=f||{},m&&C!==void 0&&(this.H.OSID=m,this.H.OAID=C),this.F=this.X,this.I=Dv(this,null,this.W),jl(this)};function Zd(l){if(Sv(l),l.G==3){var f=l.U++,m=Qn(l.I);if(Le(m,"SID",l.K),Le(m,"RID",f),Le(m,"TYPE","terminate"),jo(l,m),f=new Sr(l,l.j,f),f.L=2,f.v=Pl(Qn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Ov(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Rl(f)}kv(l)}function Ll(l){l.g&&(th(l),l.g.cancel(),l.g=null)}function Sv(l){Ll(l),l.u&&(a.clearTimeout(l.u),l.u=null),Ml(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function jl(l){if(!ov(l.h)&&!l.s){l.s=!0;var f=l.Ga;te||G(),j||(te(),j=!0),H.add(f,l),l.B=0}}function oA(l,f){return av(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ao(g(l.Ga,l,f),Pv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Sr(this,this.j,l);let V=this.o;if(this.S&&(V?(V=v(V),N(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var C=this.i[m];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(f+=C,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Av(this,M,f),m=Qn(this.I),Le(m,"RID",l),Le(m,"CVER",22),this.D&&Le(m,"X-HTTP-Session-Id",this.D),jo(this,m),V&&(this.O?f="headers="+encodeURIComponent(String(yv(V)))+"&"+f:this.m&&Jd(m,this.m,V)),Xd(this.h,M),this.Ua&&Le(m,"TYPE","init"),this.P?(Le(m,"$req",f),Le(m,"SID","null"),M.T=!0,Kd(M,m,null)):Kd(M,m,f),this.G=2}}else this.G==3&&(l?Cv(this,l):this.i.length==0||ov(this.h)||Cv(this))};function Cv(l,f){var m;f?m=f.l:m=l.U++;const C=Qn(l.I);Le(C,"SID",l.K),Le(C,"RID",m),Le(C,"AID",l.T),jo(l,C),l.m&&l.o&&Jd(C,l.m,l.o),m=new Sr(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Av(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Xd(l.h,m),Kd(m,C,f)}function jo(l,f){l.H&&D(l.H,function(m,C){Le(f,C,m)}),l.l&&uv({},function(m,C){Le(f,C,m)})}function Av(l,f,m){m=Math.min(l.i.length,m);var C=l.l?g(l.l.Na,l.l,l):null;e:{var M=l.i;let V=-1;for(;;){const $=["count="+m];V==-1?0<m?(V=M[0].g,$.push("ofs="+V)):V=0:$.push("ofs="+V);let ke=!0;for(let ht=0;ht<m;ht++){let Ie=M[ht].g;const wt=M[ht].map;if(Ie-=V,0>Ie)V=Math.max(0,M[ht].g-100),ke=!1;else try{nA(wt,$,"req"+Ie+"_")}catch{C&&C(wt)}}if(ke){C=$.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,C}function Rv(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;te||G(),j||(te(),j=!0),H.add(f,l),l.v=0}}function eh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ao(g(l.Fa,l),Pv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Nv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ao(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Ll(this),Nv(this))};function th(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Nv(l){l.g=new Sr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Qn(l.qa);Le(f,"RID","rpc"),Le(f,"SID",l.K),Le(f,"AID",l.T),Le(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Le(f,"TO",l.ja),Le(f,"TYPE","xmlhttp"),jo(l,f),l.m&&l.o&&Jd(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Pl(Qn(f)),m.m=null,m.P=!0,nv(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Ll(this),eh(this),Dt(19))};function Ml(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function bv(l,f){var m=null;if(l.g==f){Ml(l),th(l),l.g=null;var C=2}else if(Yd(l.h,f))m=f.D,lv(l.h,f),C=1;else return;if(l.G!=0){if(f.o)if(C==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;C=Sl(),ve(C,new Jg(C,m)),jl(l)}else Rv(l);else if(M=f.s,M==3||M==0&&0<f.X||!(C==1&&oA(l,f)||C==2&&eh(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),M){case 1:Is(l,5);break;case 4:Is(l,10);break;case 3:Is(l,6);break;default:Is(l,2)}}}function Pv(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function Is(l,f){if(l.j.info("Error code "+f),f==2){var m=g(l.fb,l),C=l.Xa;const M=!C;C=new Ts(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nl(C,"https"),Pl(C),M?ZC(C.toString(),m):eA(C.toString(),m)}else Dt(2);l.G=0,l.l&&l.l.sa(f),kv(l),Sv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function kv(l){if(l.G=0,l.ka=[],l.l){const f=cv(l.h);(f.length!=0||l.i.length!=0)&&(R(l.ka,f),R(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function Dv(l,f,m){var C=m instanceof Ts?Qn(m):new Ts(m);if(C.g!="")f&&(C.g=f+"."+C.g),bl(C,C.s);else{var M=a.location;C=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var V=new Ts(null);C&&Nl(V,C),f&&(V.g=f),M&&bl(V,M),m&&(V.l=m),C=V}return m=l.D,f=l.ya,m&&f&&Le(C,m,f),Le(C,"VER",l.la),jo(l,C),C}function Ov(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ge(new kl({eb:m})):new Ge(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lv(){}t=Lv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vl(){}Vl.prototype.g=function(l,f){return new Ht(l,f)};function Ht(l,f){Te.call(this),this.g=new Iv(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!_(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new ii(this)}w(Ht,Te),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Zd(this.g)},Ht.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=zd(l),l=m);f.i.push(new $C(f.Ya++,l)),f.G==3&&jl(f)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Zd(this.g),delete this.g,Ht.aa.N.call(this)};function jv(l){$d.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}w(jv,$d);function Mv(){Wd.call(this),this.status=1}w(Mv,Wd);function ii(l){this.g=l}w(ii,Lv),ii.prototype.ua=function(){ve(this.g,"a")},ii.prototype.ta=function(l){ve(this.g,new jv(l))},ii.prototype.sa=function(l){ve(this.g,new Mv)},ii.prototype.ra=function(){ve(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,RT=function(){return new Vl},AT=function(){return Sl()},CT=Es,sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,Dc=Cl,Zg.COMPLETE="complete",ST=Zg,Gg.EventType=So,So.OPEN="a",So.CLOSE="b",So.ERROR="c",So.MESSAGE="d",Te.prototype.listen=Te.prototype.K,Zo=Gg,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,IT=Ge}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const O_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new bm("@firebase/firestore");function qo(){return Hs.logLevel}function X(t,...e){if(Hs.logLevel<=ye.DEBUG){const n=e.map(zm);Hs.debug(`Firestore (${po}): ${t}`,...n)}}function vr(t,...e){if(Hs.logLevel<=ye.ERROR){const n=e.map(zm);Hs.error(`Firestore (${po}): ${t}`,...n)}}function Yi(t,...e){if(Hs.logLevel<=ye.WARN){const n=e.map(zm);Hs.warn(`Firestore (${po}): ${t}`,...n)}}function zm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+t;throw vr(e),new Error(e)}function be(t,e){t||ie()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class vD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yD{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ur,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new NT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new St(e)}}class _D{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _D(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ED{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){be(this.o===void 0);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new ED(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=TD(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Xi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new ot(0,0))}static max(){return new ae(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends Fa{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const ID=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Fa{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return ID.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Ve.fromString(e))}static fromName(e){return new Z(Ve.fromString(e).popFirst(5))}static empty(){return new Z(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Ve(e.slice()))}}function SD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ae.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new ss(s,Z.empty(),e)}function CD(t){return new ss(t.readTime,t.key,-1)}class ss{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ss(ae.min(),Z.empty(),-1)}static max(){return new ss(ae.max(),Z.empty(),-1)}}function AD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ND{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==RD)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function bD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bm.oe=-1;function fd(t){return t==null}function bu(t){return t===0&&1/t==-1/0}function PD(t){return typeof t=="number"&&Number.isInteger(t)&&!bu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pt.RED,this.left=s??pt.EMPTY,this.right=i??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,s,i){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new vt(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kT("Invalid base64 string: "+i):i}}(e);return new _t(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const kD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(be(!!t),typeof t=="string"){let e=0;const n=kD.exec(t);if(be(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wm(t){const e=t.mapValue.fields.__previous_value__;return $m(e)?Wm(e):e}function Ua(t){const e=is(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r,s,i,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class za{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new za("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc={mapValue:{}};function Ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$m(t)?4:LD(t)?9007199254740991:OD(t)?10:11:ie()}function Wn(t,e){if(t===e)return!0;const n=Ks(t);if(n!==Ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ua(t).isEqual(Ua(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=is(s.timestampValue),a=is(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return qs(s.bytesValue).isEqual(qs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Je(s.geoPointValue.latitude)===Je(i.geoPointValue.latitude)&&Je(s.geoPointValue.longitude)===Je(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Je(s.integerValue)===Je(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Je(s.doubleValue),a=Je(i.doubleValue);return o===a?bu(o)===bu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xi(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(L_(o)!==L_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Wn(o[c],a[c])))return!1;return!0}(t,e);default:return ie()}}function Ba(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function Ji(t,e){if(t===e)return 0;const n=Ks(t),r=Ks(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Je(i.integerValue||i.doubleValue),c=Je(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return M_(t.timestampValue,e.timestampValue);case 4:return M_(Ua(t),Ua(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(i,o){const a=qs(i),c=qs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=Se(a[u],c[u]);if(h!==0)return h}return Se(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Se(Je(i.latitude),Je(o.latitude));return a!==0?a:Se(Je(i.longitude),Je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return V_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,u,h;const p=i.fields||{},g=o.fields||{},x=(a=p.value)===null||a===void 0?void 0:a.arrayValue,w=(c=g.value)===null||c===void 0?void 0:c.arrayValue,E=Se(((u=x?.values)===null||u===void 0?void 0:u.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:V_(x,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===lc.mapValue&&o===lc.mapValue)return 0;if(i===lc.mapValue)return 1;if(o===lc.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=Se(c[p],h[p]);if(g!==0)return g;const x=Ji(a[c[p]],u[h[p]]);if(x!==0)return x}return Se(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ie()}}function M_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=is(t),r=is(e),s=Se(n.seconds,r.seconds);return s!==0?s:Se(n.nanos,r.nanos)}function V_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ji(n[s],r[s]);if(i)return i}return Se(n.length,r.length)}function Zi(t){return ip(t)}function ip(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ip(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ip(n.fields[o])}`;return s+"}"}(t.mapValue):ie()}function F_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function op(t){return!!t&&"integerValue"in t}function Hm(t){return!!t&&"arrayValue"in t}function U_(t){return!!t&&"nullValue"in t}function z_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oc(t){return!!t&&"mapValue"in t}function OD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ma(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ma(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ma(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ma(n)}setAll(e){let n=mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ma(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Oc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ti(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ut(ma(this.value))}}function DT(t){const e=[];return ti(t.fields,(n,r)=>{const s=new mt([n]);if(Oc(r)){const i=DT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new At(e,0,ae.min(),ae.min(),ae.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,s){return new At(e,1,n,ae.min(),r,s,0)}static newNoDocument(e,n){return new At(e,2,n,ae.min(),ae.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ae.min(),ae.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.position=e,this.inclusive=n}}function B_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Ji(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function $_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n="asc"){this.field=e,this.dir=n}}function jD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{}class nt extends OT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VD(e,n,r):n==="array-contains"?new zD(e,r):n==="in"?new BD(e,r):n==="not-in"?new $D(e,r):n==="array-contains-any"?new WD(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FD(e,r):new UD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ji(n,this.value)):n!==null&&Ks(this.value)===Ks(n)&&this.matchesComparison(Ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends OT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Sn(e,n)}matches(e){return LT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function LT(t){return t.op==="and"}function jT(t){return MD(t)&&LT(t)}function MD(t){for(const e of t.filters)if(e instanceof Sn)return!1;return!0}function ap(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Zi(t.value);if(jT(t))return t.filters.map(e=>ap(e)).join(",");{const e=t.filters.map(n=>ap(n)).join(",");return`${t.op}(${e})`}}function MT(t,e){return t instanceof nt?function(r,s){return s instanceof nt&&r.op===s.op&&r.field.isEqual(s.field)&&Wn(r.value,s.value)}(t,e):t instanceof Sn?function(r,s){return s instanceof Sn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&MT(o,s.filters[a]),!0):!1}(t,e):void ie()}function VT(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Zi(n.value)}`}(t):t instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(VT).join(" ,")+"}"}(t):"Filter"}class VD extends nt{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class FD extends nt{constructor(e,n){super(e,"in",n),this.keys=FT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UD extends nt{constructor(e,n){super(e,"not-in",n),this.keys=FT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class zD extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hm(n)&&Ba(n.arrayValue,this.value)}}class BD extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ba(this.value.arrayValue,n)}}class $D extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ba(this.value.arrayValue,n)}}class WD extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ba(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function W_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new HD(t,e,n,r,s,i,o)}function qm(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ap(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zi(r)).join(",")),e.ue=n}return e.ue}function Km(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$_(t.startAt,e.startAt)&&$_(t.endAt,e.endAt)}function lp(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qD(t,e,n,r,s,i,o,a){return new mo(t,e,n,r,s,i,o,a)}function pd(t){return new mo(t)}function H_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UT(t){return t.collectionGroup!==null}function ga(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(mt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new $a(i,r))}),n.has(mt.keyField().canonicalString())||e.ce.push(new $a(mt.keyField(),r))}return e.ce}function zn(t){const e=le(t);return e.le||(e.le=KD(e,ga(t))),e.le}function KD(t,e){if(t.limitType==="F")return W_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new $a(s.field,i)});const n=t.endAt?new Pu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pu(t.startAt.position,t.startAt.inclusive):null;return W_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cp(t,e){const n=t.filters.concat([e]);return new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function up(t,e,n){return new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function md(t,e){return Km(zn(t),zn(e))&&t.limitType===e.limitType}function zT(t){return`${qm(zn(t))}|lt:${t.limitType}`}function hi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>VT(s)).join(", ")}]`),fd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Zi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Zi(s)).join(",")),`Target(${r})`}(zn(t))}; limitType=${t.limitType})`}function gd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ga(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=B_(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,ga(r),s)||r.endAt&&!function(o,a,c){const u=B_(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,ga(r),s))}(t,e)}function GD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BT(t){return(e,n)=>{let r=!1;for(const s of ga(t)){const i=QD(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function QD(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?Ji(c,u):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return PT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Ke(Z.comparator);function yr(){return YD}const $T=new Ke(Z.comparator);function ea(...t){let e=$T;for(const n of t)e=e.insert(n.key,n);return e}function WT(t){let e=$T;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ds(){return va()}function HT(){return va()}function va(){return new go(t=>t.toString(),(t,e)=>t.isEqual(e))}const XD=new Ke(Z.comparator),JD=new vt(Z.comparator);function ge(...t){let e=JD;for(const n of t)e=e.add(n);return e}const ZD=new vt(Se);function eO(){return ZD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bu(e)?"-0":e}}function qT(t){return{integerValue:""+t}}function tO(t,e){return PD(e)?qT(e):Gm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this._=void 0}}function nO(t,e,n){return t instanceof Wa?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&$m(i)&&(i=Wm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ha?GT(t,e):t instanceof qa?QT(t,e):function(s,i){const o=KT(s,i),a=q_(o)+q_(s.Pe);return op(o)&&op(s.Pe)?qT(a):Gm(s.serializer,a)}(t,e)}function rO(t,e,n){return t instanceof Ha?GT(t,e):t instanceof qa?QT(t,e):n}function KT(t,e){return t instanceof ku?function(r){return op(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Wa extends vd{}class Ha extends vd{constructor(e){super(),this.elements=e}}function GT(t,e){const n=YT(e);for(const r of t.elements)n.some(s=>Wn(s,r))||n.push(r);return{arrayValue:{values:n}}}class qa extends vd{constructor(e){super(),this.elements=e}}function QT(t,e){let n=YT(e);for(const r of t.elements)n=n.filter(s=>!Wn(s,r));return{arrayValue:{values:n}}}class ku extends vd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function q_(t){return Je(t.integerValue||t.doubleValue)}function YT(t){return Hm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.field=e,this.transform=n}}function iO(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ha&&s instanceof Ha||r instanceof qa&&s instanceof qa?Xi(r.elements,s.elements,Wn):r instanceof ku&&s instanceof ku?Wn(r.Pe,s.Pe):r instanceof Wa&&s instanceof Wa}(t.transform,e.transform)}class oO{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yd{}function XT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ZT(t.key,xn.none()):new fl(t.key,t.data,xn.none());{const n=t.data,r=Ut.empty();let s=new vt(mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new gs(t.key,r,new Qt(s.toArray()),xn.none())}}function aO(t,e,n){t instanceof fl?function(s,i,o){const a=s.value.clone(),c=G_(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gs?function(s,i,o){if(!Lc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=G_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(JT(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ya(t,e,n,r){return t instanceof fl?function(i,o,a,c){if(!Lc(i.precondition,o))return a;const u=i.value.clone(),h=Q_(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gs?function(i,o,a,c){if(!Lc(i.precondition,o))return a;const u=Q_(i.fieldTransforms,c,o),h=o.data;return h.setAll(JT(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Lc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=KT(r.transform,s||null);i!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,i))}return n||null}function K_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xi(r,s,(i,o)=>iO(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fl extends yd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class gs extends yd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function G_(t,e,n){const r=new Map;be(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,rO(o,a,n[s]))}return r}function Q_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,nO(i,o,e))}return r}class ZT extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cO extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&aO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=XT(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Xi(this.mutations,e.mutations,(n,r)=>K_(n,r))&&Xi(this.baseMutations,e.baseMutations,(n,r)=>K_(n,r))}}class Qm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){be(e.mutations.length===r.length);let s=function(){return XD}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Qm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dO=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,_e;function fO(t){switch(t){default:return ie();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function eI(t){if(t===void 0)return vr("GRPC error has no .code"),F.UNKNOWN;switch(t){case et.OK:return F.OK;case et.CANCELLED:return F.CANCELLED;case et.UNKNOWN:return F.UNKNOWN;case et.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case et.INTERNAL:return F.INTERNAL;case et.UNAVAILABLE:return F.UNAVAILABLE;case et.UNAUTHENTICATED:return F.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case et.NOT_FOUND:return F.NOT_FOUND;case et.ALREADY_EXISTS:return F.ALREADY_EXISTS;case et.PERMISSION_DENIED:return F.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case et.ABORTED:return F.ABORTED;case et.OUT_OF_RANGE:return F.OUT_OF_RANGE;case et.UNIMPLEMENTED:return F.UNIMPLEMENTED;case et.DATA_LOSS:return F.DATA_LOSS;default:return ie()}}(_e=et||(et={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new js([4294967295,4294967295],0);function Y_(t){const e=pO().encode(t),n=new TT;return n.update(e),new Uint8Array(n.digest())}function X_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new js([n,r],0),new js([s,i],0)]}class Ym{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ta(`Invalid padding: ${n}`);if(r<0)throw new ta(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ta(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ta(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=js.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(js.fromNumber(r)));return s.compare(mO)===1&&(s=new js([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Y_(e),[r,s]=X_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ym(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Y_(e),[r,s]=X_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _d(ae.min(),s,new Ke(Se),yr(),ge())}}class pl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pl(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class tI{constructor(e,n){this.targetId=e,this.me=n}}class nI{constructor(e,n,r=_t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class J_{constructor(){this.fe=0,this.ge=e0(),this.pe=_t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ie()}}),new pl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=e0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gO{constructor(e){this.Le=e,this.Be=new Map,this.ke=yr(),this.qe=Z_(),this.Qe=new Ke(Se)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(lp(i))if(r===0){const o=new Z(i.path);this.Ue(n,o,At.newNoDocument(o,ae.min()))}else be(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(c){if(c instanceof kT)return Yi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Ym(o,s,i)}catch(c){return Yi(c instanceof ta?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&lp(a.target)){const c=new Z(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,At.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ge();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new _d(e,n,this.Qe,this.ke,r);return this.ke=yr(),this.qe=Z_(),this.Qe=new Ke(Se),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new J_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vt(Se),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Z_(){return new Ke(Z.comparator)}function e0(){return new Ke(Z.comparator)}const vO={asc:"ASCENDING",desc:"DESCENDING"},yO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_O={and:"AND",or:"OR"};class wO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dp(t,e){return t.useProto3Json||fd(e)?e:{value:e}}function Du(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EO(t,e){return Du(t,e.toTimestamp())}function Bn(t){return be(!!t),ae.fromTimestamp(function(n){const r=is(n);return new ot(r.seconds,r.nanos)}(t))}function Xm(t,e){return hp(t,e).canonicalString()}function hp(t,e){const n=function(s){return new Ve(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sI(t){const e=Ve.fromString(t);return be(cI(e)),e}function fp(t,e){return Xm(t.databaseId,e.path)}function Fh(t,e){const n=sI(e);if(n.get(1)!==t.databaseId.projectId)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(oI(n))}function iI(t,e){return Xm(t.databaseId,e)}function xO(t){const e=sI(t);return e.length===4?Ve.emptyPath():oI(e)}function pp(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oI(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function t0(t,e,n){return{name:fp(t,e),fields:n.value.mapValue.fields}}function TO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(be(h===void 0||typeof h=="string"),_t.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),_t.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?F.UNKNOWN:eI(u.code);return new q(h,u.message||"")}(o);n=new nI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Fh(t,r.document.name),i=Bn(r.document.updateTime),o=r.document.createTime?Bn(r.document.createTime):ae.min(),a=new Ut({mapValue:{fields:r.document.fields}}),c=At.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new jc(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Fh(t,r.document),i=r.readTime?Bn(r.readTime):ae.min(),o=At.newNoDocument(s,i),a=r.removedTargetIds||[];n=new jc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Fh(t,r.document),i=r.removedTargetIds||[];n=new jc([],i,s,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new hO(s,i),a=r.targetId;n=new tI(a,o)}}return n}function IO(t,e){let n;if(e instanceof fl)n={update:t0(t,e.key,e.value)};else if(e instanceof ZT)n={delete:fp(t,e.key)};else if(e instanceof gs)n={update:t0(t,e.key,e.data),updateMask:DO(e.fieldMask)};else{if(!(e instanceof cO))return ie();n={verify:fp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Wa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ku)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:EO(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie()}(t,e.precondition)),n}function SO(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Bn(s.updateTime):Bn(i);return o.isEqual(ae.min())&&(o=Bn(i)),new oO(o,s.transformResults||[])}(n,e))):[]}function CO(t,e){return{documents:[iI(t,e.path)]}}function AO(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iI(t,s);const i=function(u){if(u.length!==0)return lI(Sn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:fi(g.field),direction:bO(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function RO(t){let e=xO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){be(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const g=aI(p);return g instanceof Sn&&jT(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(w){return new $a(pi(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,fd(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){const g=!!p.before,x=p.values||[];return new Pu(x,g)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const g=!p.before,x=p.values||[];return new Pu(x,g)}(n.endAt)),qD(e,s,o,i,a,"F",c,u)}function NO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pi(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=pi(n.unaryFilter.field);return nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=pi(n.unaryFilter.field);return nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pi(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(pi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(r=>aI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function bO(t){return vO[t]}function PO(t){return yO[t]}function kO(t){return _O[t]}function fi(t){return{fieldPath:t.canonicalString()}}function pi(t){return mt.fromServerFormat(t.fieldPath)}function lI(t){return t instanceof nt?function(n){if(n.op==="=="){if(z_(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NAN"}};if(U_(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(z_(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NOT_NAN"}};if(U_(n.value))return{unaryFilter:{field:fi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fi(n.field),op:PO(n.op),value:n.value}}}(t):t instanceof Sn?function(n){const r=n.getFilters().map(s=>lI(s));return r.length===1?r[0]:{compositeFilter:{op:kO(n.op),filters:r}}}(t):ie()}function DO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r,s,i=ae.min(),o=ae.min(),a=_t.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.ct=e}}function LO(t){const e=RO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.un=new MO}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ss.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class MO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vt(Ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new eo(0)}static kn(){return new eo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.changes=new go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ya(r.mutation,s,Qt.empty(),ot.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=Ds();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ea();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=yr();const o=va(),a=function(){return va()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof gs)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),ya(h.mutation,u,h.mutation.getFieldMask(),ot.now())):o.set(u.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var p;return a.set(u,new FO(h,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=va();let s=new Ke((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Qt.empty();h=a.applyToLocalView(u,h),r.set(c,h);const p=(s.get(a.batchId)||ge()).add(c);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,p=HT();h.forEach(g=>{if(!i.has(g)){const x=XT(n.get(g),r.get(g));x!==null&&p.set(g,x),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Ds());let a=-1,c=i;return o.next(u=>U.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ge())).next(h=>({batchId:a,changes:WT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let s=ea();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ea();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,c=>{const u=function(p,g){return new mo(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,At.newInvalidDocument(h)))});let a=ea();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&ya(h.mutation,u,Qt.empty(),ot.now()),gd(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Bn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:LO(s.bundledQuery),readTime:Bn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.overlays=new Ke(Z.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ds();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Ds(),i=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ke((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Ds(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ds(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return U.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dO(n,r));let i=this.Ir.get(n);i===void 0&&(i=ge(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.Tr=new vt(ct.Er),this.dr=new vt(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Z(new Ve([])),r=new ct(n,e),s=new ct(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Z(new Ve([])),r=new ct(n,e),s=new ct(n,e+1);let i=ge();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Z.comparator(e.key,n.key)||Se(e.wr,n.wr)}static Ar(e,n){return Se(e.wr,n.wr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vt(ct.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uO(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),s=new ct(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Se);return n.forEach(s=>{const i=new ct(s,0),o=new ct(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const o=new ct(new Z(i),0);let a=new vt(Se);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,s=>{const i=new ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ct(n,0),s=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.Mr=e,this.docs=function(){return new Ke(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=yr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():At.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=yr();const o=n.path,a=new Z(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||AD(CD(h),r)<=0||(s.has(h.key)||gd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ie()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qO(this)}getSize(e){return U.resolve(this.size)}}class qO extends VO{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.persistence=e,this.Nr=new go(n=>qm(n),Km),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jm,this.targetCount=0,this.kr=eo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new eo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Bm(0),this.Kr=!1,this.Kr=!0,this.$r=new $O,this.referenceDelegate=e(this),this.Ur=new KO(this),this.indexManager=new jO,this.remoteDocumentCache=function(s){return new HO(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new OO(n),this.Gr=new zO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new WO(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new QO(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class QO extends ND{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Jr=new Jm,this.Yr=null}static Zr(e){return new Zm(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const s=Z.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new eg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return M1()?8:bD(bt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new YO;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(qo()<=ye.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",hi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(qo()<=ye.DEBUG&&X("QueryEngine","Query:",hi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(qo()<=ye.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",hi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):U.resolve())}Yi(e,n){if(H_(n))return U.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=up(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,a);return this.ns(n,u,o,c.readTime)?this.Yi(e,up(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,s){return H_(n)||s.isEqual(ae.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?U.resolve(null):(qo()<=ye.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hi(n)),this.rs(e,o,n,SD(s,-1)).next(a=>a))})}ts(e,n){let r=new vt(BT(e));return n.forEach((s,i)=>{gd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return qo()<=ye.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",hi(n)),this.Ji.getDocumentsMatchingQuery(e,n,ss.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ke(Se),this._s=new go(i=>qm(i),Km),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function ZO(t,e,n,r){return new JO(t,e,n,r)}async function uI(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=ge();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function eL(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const p=u.batch,g=p.keys();let x=U.resolve();return g.forEach(w=>{x=x.next(()=>h.getEntry(c,w)).next(E=>{const R=u.docVersions.get(w);be(R!==null),E.version.compareTo(R)<0&&(p.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),h.addEntry(E)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dI(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function tL(t,e){const n=le(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,p)=>{const g=s.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,p)));let x=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(_t.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),s=s.insert(p,x),function(E,R,T){return E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,x,h)&&a.push(n.Ur.updateTargetData(i,x))});let c=yr(),u=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(nL(i,o,e.documentUpdates).next(h=>{c=h.Ps,u=h.Is})),!r.isEqual(ae.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(p=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.os=s,i))}function nL(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=yr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function rL(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sL(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Br(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function mp(t,e,n){const r=le(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!hl(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function n0(t,e,n){const r=le(t);let s=ae.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const p=le(c),g=p._s.get(h);return g!==void 0?U.resolve(p.os.get(g)):p.Ur.getTargetData(u,h)}(r,o,zn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ae.min(),n?i:ge())).next(a=>(iL(r,GD(e),a),{documents:a,Ts:i})))}function iL(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class r0{constructor(){this.activeTargetIds=eO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oL{constructor(){this.so=new r0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new r0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc=null;function Uh(){return cc===null?cc=function(){return 268435456+Math.round(2147483648*Math.random())}():cc++,"0x"+cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class uL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Uh(),c=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,c,u,s).then(h=>(X("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Yi("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=lL[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Uh();return new Promise((o,a)=>{const c=new IT;c.setWithCredentials(!0),c.listenOnce(ST.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Dc.NO_ERROR:const h=c.getResponseJson();X(It,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Dc.TIMEOUT:X(It,`RPC '${e}' ${i} timed out`),a(new q(F.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const p=c.getStatus();if(X(It,`RPC '${e}' ${i} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g?.error;if(x&&x.status&&x.message){const w=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(T)>=0?T:F.UNKNOWN}(x.status);a(new q(w,x.message))}else a(new q(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new q(F.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{X(It,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);X(It,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=Uh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=RT(),a=AT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");X(It,`Creating RPC '${e}' stream ${s}: ${h}`,c);const p=o.createWebChannel(h,c);let g=!1,x=!1;const w=new cL({Io:R=>{x?X(It,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(g||(X(It,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),X(It,`RPC '${e}' stream ${s} sending:`,R),p.send(R))},To:()=>p.close()}),E=(R,T,_)=>{R.listen(T,S=>{try{_(S)}catch(P){setTimeout(()=>{throw P},0)}})};return E(p,Zo.EventType.OPEN,()=>{x||(X(It,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),E(p,Zo.EventType.CLOSE,()=>{x||(x=!0,X(It,`RPC '${e}' stream ${s} transport closed`),w.So())}),E(p,Zo.EventType.ERROR,R=>{x||(x=!0,Yi(It,`RPC '${e}' stream ${s} transport errored:`,R),w.So(new q(F.UNAVAILABLE,"The operation could not be completed")))}),E(p,Zo.EventType.MESSAGE,R=>{var T;if(!x){const _=R.data[0];be(!!_);const S=_,P=S.error||((T=S[0])===null||T===void 0?void 0:T.error);if(P){X(It,`RPC '${e}' stream ${s} received error:`,P);const L=P.status;let D=function(A){const N=et[A];if(N!==void 0)return eI(N)}(L),I=P.message;D===void 0&&(D=F.INTERNAL,I="Unknown error status: "+L+" with message "+P.message),x=!0,w.So(new q(D,I)),p.close()}else X(It,`RPC '${e}' stream ${s} received:`,_),w.bo(_)}}),E(a,CT.STAT_EVENT,R=>{R.stat===sp.PROXY?X(It,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===sp.NOPROXY&&X(It,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function zh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){return new wO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r,s,i,o,a,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dL extends fI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=TO(this.serializer,e),r=function(i){if(!("targetChange"in i))return ae.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Bn(o.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=pp(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=lp(c)?{documents:CO(i,c)}:{query:AO(i,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rI(i,o.resumeToken);const u=dp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Du(i,o.snapshotVersion.toTimestamp());const u=dp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=NO(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.a_(n)}}class hL extends fI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=SO(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=pp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IO(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,hp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(F.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,hp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vr(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ni(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=le(c);u.L_.add(4),await ml(u),u.q_.set("Unknown"),u.L_.delete(4),await Ed(u)}(this))})}),this.q_=new pL(r,s)}}async function Ed(t){if(ni(t))for(const e of t.B_)await e(!0)}async function ml(t){for(const e of t.B_)await e(!1)}function pI(t,e){const n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),sg(n)?rg(n):vo(n).r_()&&ng(n,e))}function tg(t,e){const n=le(t),r=vo(n);n.N_.delete(e),r.r_()&&mI(n,e),n.N_.size===0&&(r.r_()?r.o_():ni(n)&&n.q_.set("Unknown"))}function ng(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(t).A_(e)}function mI(t,e){t.Q_.xe(e),vo(t).R_(e)}function rg(t){t.Q_=new gO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),vo(t).start(),t.q_.v_()}function sg(t){return ni(t)&&!vo(t).n_()&&t.N_.size>0}function ni(t){return le(t).L_.size===0}function gI(t){t.Q_=void 0}async function gL(t){t.q_.set("Online")}async function vL(t){t.N_.forEach((e,n)=>{ng(t,e)})}async function yL(t,e){gI(t),sg(t)?(t.q_.M_(e),rg(t)):t.q_.set("Unknown")}async function _L(t,e,n){if(t.q_.set("Online"),e instanceof nI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ou(t,r)}else if(e instanceof jc?t.Q_.Ke(e):e instanceof tI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{const r=await dI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.N_.get(u);h&&i.N_.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(_t.EMPTY_BYTE_STRING,h.snapshotVersion)),mI(i,c);const p=new Br(h.target,c,u,h.sequenceNumber);ng(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Ou(t,r)}}async function Ou(t,e,n){if(!hl(e))throw e;t.L_.add(1),await ml(t),t.q_.set("Offline"),n||(n=()=>dI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ed(t)})}function vI(t,e){return e().catch(n=>Ou(t,n,e))}async function xd(t){const e=le(t),n=os(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wL(e);)try{const s=await rL(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,EL(e,s)}catch(s){await Ou(e,s)}yI(e)&&_I(e)}function wL(t){return ni(t)&&t.O_.length<10}function EL(t,e){t.O_.push(e);const n=os(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yI(t){return ni(t)&&!os(t).n_()&&t.O_.length>0}function _I(t){os(t).start()}async function xL(t){os(t).p_()}async function TL(t){const e=os(t);for(const n of t.O_)e.m_(n.mutations)}async function IL(t,e,n){const r=t.O_.shift(),s=Qm.from(r,e,n);await vI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xd(t)}async function SL(t,e){e&&os(t).V_&&await async function(r,s){if(function(o){return fO(o)&&o!==F.ABORTED}(s.code)){const i=r.O_.shift();os(r).s_(),await vI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await xd(r)}}(t,e),yI(t)&&_I(t)}async function i0(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=ni(n);n.L_.add(3),await ml(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ed(n)}async function CL(t,e){const n=le(t);e?(n.L_.delete(2),await Ed(n)):e||(n.L_.add(2),await ml(n),n.q_.set("Unknown"))}function vo(t){return t.K_||(t.K_=function(n,r,s){const i=le(n);return i.w_(),new dL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:gL.bind(null,t),Ro:vL.bind(null,t),mo:yL.bind(null,t),d_:_L.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),sg(t)?rg(t):t.q_.set("Unknown")):(await t.K_.stop(),gI(t))})),t.K_}function os(t){return t.U_||(t.U_=function(n,r,s){const i=le(n);return i.w_(),new hL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xL.bind(null,t),mo:SL.bind(null,t),f_:TL.bind(null,t),g_:IL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await xd(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new ig(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(t,e){if(vr("AsyncQueue",`${e}: ${t}`),hl(t))return new q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=ea(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new Vi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.W_=new Ke(Z.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class to{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new to(e,n,Vi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class RL{constructor(){this.queries=a0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=le(n),i=s.queries;s.queries=a0(),i.forEach((o,a)=>{for(const c of a.j_)c.onError(r)})})(this,new q(F.ABORTED,"Firestore shutting down"))}}function a0(){return new go(t=>zT(t),md)}async function ag(t,e){const n=le(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new AL,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=og(o,`Initialization of query '${hi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&cg(n)}async function lg(t,e){const n=le(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NL(t,e){const n=le(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&cg(n)}function bL(t,e,n){const r=le(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function cg(t){t.Y_.forEach(e=>{e.next()})}var gp,l0;(l0=gp||(gp={})).ea="default",l0.Cache="cache";class ug{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new to(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.key=e}}class EI{constructor(e){this.key=e}}class PL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=BT(e),this.Ra=new Vi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new o0,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const g=s.get(h),x=gd(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;g&&x?g.data.isEqual(x.data)?w!==E&&(r.track({type:3,doc:x}),R=!0):this.ga(g,x)||(r.track({type:2,doc:x}),R=!0,(c&&this.Aa(x,c)>0||u&&this.Aa(x,u)<0)&&(a=!0)):!g&&x?(r.track({type:0,doc:x}),R=!0):g&&!x&&(r.track({type:1,doc:g}),R=!0,(c||u)&&(a=!0)),R&&(x?(o=o.add(x),i=E?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,p)=>function(x,w){const E=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return E(x)-E(w)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new to(this.query,e.Ra,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new o0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new EI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new wI(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return to.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DL{constructor(e){this.key=e,this.va=!1}}class OL{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new go(a=>zT(a),md),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(Z.comparator),this.Na=new Map,this.La=new Jm,this.Ba={},this.ka=new Map,this.qa=eo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function LL(t,e,n=!0){const r=AI(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await xI(r,e,n,!0),s}async function jL(t,e){const n=AI(t);await xI(n,e,!0,!1)}async function xI(t,e,n,r){const s=await sL(t.localStore,zn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await ML(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&pI(t.remoteStore,s),a}async function ML(t,e,n,r,s){t.Ka=(p,g,x)=>async function(E,R,T,_){let S=R.view.ma(T);S.ns&&(S=await n0(E.localStore,R.query,!1).then(({documents:I})=>R.view.ma(I,S)));const P=_&&_.targetChanges.get(R.targetId),L=_&&_.targetMismatches.get(R.targetId)!=null,D=R.view.applyChanges(S,E.isPrimaryClient,P,L);return u0(E,R.targetId,D.wa),D.snapshot}(t,p,g,x);const i=await n0(t.localStore,e,!0),o=new PL(e,i.Ts),a=o.ma(i.documents),c=pl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);u0(t,n,u.wa);const h=new kL(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function VL(t,e,n){const r=le(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!md(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await mp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&tg(r.remoteStore,s.targetId),vp(r,s.targetId)}).catch(dl)):(vp(r,s.targetId),await mp(r.localStore,s.targetId,!0))}async function FL(t,e){const n=le(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tg(n.remoteStore,r.targetId))}async function UL(t,e,n){const r=KL(t);try{const s=await function(o,a){const c=le(o),u=ot.now(),h=a.reduce((x,w)=>x.add(w.key),ge());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let w=yr(),E=ge();return c.cs.getEntries(x,h).next(R=>{w=R,w.forEach((T,_)=>{_.isValidDocument()||(E=E.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,w)).next(R=>{p=R;const T=[];for(const _ of a){const S=lO(_,p.get(_.key).overlayedDocument);S!=null&&T.push(new gs(_.key,S,DT(S.value.mapValue),xn.exists(!0)))}return c.mutationQueue.addMutationBatch(x,u,T,a)}).next(R=>{g=R;const T=R.applyToLocalDocumentSet(p,E);return c.documentOverlayCache.saveOverlays(x,R.batchId,T)})}).then(()=>({batchId:g.batchId,changes:WT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ke(Se)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await gl(r,s.changes),await xd(r.remoteStore)}catch(s){const i=og(s,"Failed to persist write");n.reject(i)}}async function TI(t,e){const n=le(t);try{const r=await tL(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?be(o.va):s.removedDocuments.size>0&&(be(o.va),o.va=!1))}),await gl(n,r,e)}catch(r){await dl(r)}}function c0(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=le(o);c.onlineState=a;let u=!1;c.queries.forEach((h,p)=>{for(const g of p.j_)g.Z_(a)&&(u=!0)}),u&&cg(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zL(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ke(Z.comparator);o=o.insert(i,At.newNoDocument(i,ae.min()));const a=ge().add(i),c=new _d(ae.min(),new Map,new Ke(Se),o,a);await TI(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),dg(r)}else await mp(r.localStore,e,!1).then(()=>vp(r,e,n)).catch(dl)}async function BL(t,e){const n=le(t),r=e.batch.batchId;try{const s=await eL(n.localStore,e);SI(n,r,null),II(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gl(n,s)}catch(s){await dl(s)}}async function $L(t,e,n){const r=le(t);try{const s=await function(o,a){const c=le(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(be(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);SI(r,e,n),II(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gl(r,s)}catch(s){await dl(s)}}function II(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function SI(t,e,n){const r=le(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function vp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||CI(t,r)})}function CI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(tg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),dg(t))}function u0(t,e,n){for(const r of n)r instanceof wI?(t.La.addReference(r.key,e),WL(t,r)):r instanceof EI?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||CI(t,r.key)):ie()}function WL(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),dg(t))}function dg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Z(Ve.fromString(e)),r=t.qa.next();t.Na.set(r,new DL(n)),t.Oa=t.Oa.insert(n,r),pI(t.remoteStore,new Br(zn(pd(n.path)),r,"TargetPurposeLimboResolution",Bm.oe))}}async function gl(t,e,n){const r=le(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){s.push(u);const p=eg.Wi(c.targetId,u);i.push(p)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,u){const h=le(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(u,g=>U.forEach(g.$i,x=>h.persistence.referenceDelegate.addReference(p,g.targetId,x)).next(()=>U.forEach(g.Ui,x=>h.persistence.referenceDelegate.removeReference(p,g.targetId,x)))))}catch(p){if(!hl(p))throw p;X("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const g=p.targetId;if(!p.fromCache){const x=h.os.get(g),w=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(g,E)}}}(r.localStore,i))}async function HL(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await uI(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(c=>{c.reject(new q(F.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gl(n,r.hs)}}function qL(t,e){const n=le(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let s=ge();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function AI(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zL.bind(null,e),e.Ca.d_=NL.bind(null,e.eventManager),e.Ca.$a=bL.bind(null,e.eventManager),e}function KL(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$L.bind(null,e),e}class Lu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return ZO(this.persistence,new XO,e.initialUser,this.serializer)}Ga(e){return new GO(Zm.Zr,this.serializer)}Wa(e){return new oL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lu.provider={build:()=>new Lu};class yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HL.bind(null,this.syncEngine),await CL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RL}()}createDatastore(e){const n=wd(e.databaseInfo.databaseId),r=function(i){return new uL(i)}(e.databaseInfo);return function(i,o,a,c){return new fL(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new mL(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>c0(this.syncEngine,n,0),function(){return s0.D()?new s0:new aL}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,h){const p=new OL(s,i,o,a,c,u);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=le(s);X("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ml(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=bT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=og(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bh(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await uI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QL(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>i0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>i0(e.remoteStore,s)),t._onlineComponents=e}async function QL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Yi("Error using user provided cache. Falling back to memory cache: "+n),await Bh(t,new Lu)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Bh(t,new Lu);return t._offlineComponents}async function RI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await d0(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await d0(t,new yp))),t._onlineComponents}function YL(t){return RI(t).then(e=>e.syncEngine)}async function ju(t){const e=await RI(t),n=e.eventManager;return n.onListen=LL.bind(null,e.syncEngine),n.onUnlisten=VL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FL.bind(null,e.syncEngine),n}function XL(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const h=new hg({next:g=>{h.Za(),o.enqueueAndForget(()=>lg(i,p));const x=g.docs.has(a);!x&&g.fromCache?u.reject(new q(F.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&c&&c.source==="server"?u.reject(new q(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new ug(pd(a.path),h,{includeMetadataChanges:!0,_a:!0});return ag(i,p)}(await ju(t),t.asyncQueue,e,n,r)),r.promise}function JL(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const h=new hg({next:g=>{h.Za(),o.enqueueAndForget(()=>lg(i,p)),g.fromCache&&c.source==="server"?u.reject(new q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new ug(a,h,{includeMetadataChanges:!0,_a:!0});return ag(i,p)}(await ju(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e,n){if(!n)throw new q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZL(t,e,n,r){if(e===!0&&r===!0)throw new q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f0(t){if(!Z.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p0(t){if(Z.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Td(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function Xt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Td(t);throw new q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gD;switch(r.type){case"firstParty":return new wD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h0.get(n);r&&(X("ComponentProvider","Removing Datastore"),h0.delete(n),r.terminate())}(this),Promise.resolve()}}function ej(t,e,n,r={}){var s;const i=(t=Xt(t,Id))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=St.MOCK_USER;else{a=b1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new St(u)}t._authCredentials=new vD(new NT(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}}class es extends vs{constructor(e,n,r){super(e,n,pd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new Z(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function Ka(t,e,...n){if(t=at(t),bI("collection","path",e),t instanceof Id){const r=Ve.fromString(e,...n);return p0(r),new es(t,null,r)}{if(!(t instanceof Rt||t instanceof es))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return p0(r),new es(t.firestore,null,r)}}function Ga(t,e,...n){if(t=at(t),arguments.length===1&&(e=bT.newId()),bI("doc","path",e),t instanceof Id){const r=Ve.fromString(e,...n);return f0(r),new Rt(t,null,new Z(r))}{if(!(t instanceof Rt||t instanceof es))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return f0(r),new Rt(t.firestore,t instanceof es?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hI(this,"async_queue_retry"),this.Vu=()=>{const r=zh();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=zh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=zh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hl(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw vr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=ig.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function v0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class as extends Id{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new g0,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g0(e),this._firestoreClient=void 0,await e}}}function tj(t,e){const n=typeof t=="object"?t:Ux(),r=typeof t=="string"?t:"(default)",s=km(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=R1("firestore");i&&ej(s,...i)}return s}function Sd(t){if(t._terminated)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nj(t),t._firestoreClient}function nj(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,u,h){return new DD(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,NI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new GL(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(_t.fromBase64String(e))}catch(n){throw new q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new no(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=/^__.*__$/;class sj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new fl(e,this.data,n,this.fieldTransforms)}}class PI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class mg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Mu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(kI(this.Cu)&&rj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ij{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wd(e)}Qu(e,n,r,s=!1){return new mg({Cu:e,methodName:n,qu:r,path:mt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rd(t){const e=t._freezeSettings(),n=wd(t._databaseId);return new ij(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DI(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);vg("Data must be an object, but it was:",o,r);const a=OI(r,o);let c,u;if(i.merge)c=new Qt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const g=_p(e,p,n);if(!o.contains(g))throw new q(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);jI(h,g)||h.push(g)}c=new Qt(h),u=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=o.fieldTransforms;return new sj(new Ut(a),c,u)}class Nd extends Ad{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nd}}class gg extends Ad{_toFieldTransform(e){return new sO(e.path,new Wa)}isEqual(e){return e instanceof gg}}function oj(t,e,n,r){const s=t.Qu(1,e,n);vg("Data must be an object, but it was:",s,r);const i=[],o=Ut.empty();ti(r,(c,u)=>{const h=yg(e,c,n);u=at(u);const p=s.Nu(h);if(u instanceof Nd)i.push(h);else{const g=vl(u,p);g!=null&&(i.push(h),o.set(h,g))}});const a=new Qt(i);return new PI(o,a,s.fieldTransforms)}function aj(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[_p(e,r,n)],c=[s];if(i.length%2!=0)throw new q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(_p(e,i[g])),c.push(i[g+1]);const u=[],h=Ut.empty();for(let g=a.length-1;g>=0;--g)if(!jI(u,a[g])){const x=a[g];let w=c[g];w=at(w);const E=o.Nu(x);if(w instanceof Nd)u.push(x);else{const R=vl(w,E);R!=null&&(u.push(x),h.set(x,R))}}const p=new Qt(u);return new PI(h,p,o.fieldTransforms)}function lj(t,e,n,r=!1){return vl(n,t.Qu(r?4:3,e))}function vl(t,e){if(LI(t=at(t)))return vg("Unsupported field value:",e,t),OI(t,e);if(t instanceof Ad)return function(r,s){if(!kI(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=vl(a,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ot.fromDate(r);return{timestampValue:Du(s.serializer,i)}}if(r instanceof ot){const i=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Du(s.serializer,i)}}if(r instanceof fg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof no)return{bytesValue:rI(s.serializer,r._byteString)};if(r instanceof Rt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof pg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Gm(a.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Td(r)}`)}(t,e)}function OI(t,e){const n={};return PT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(t,(r,s)=>{const i=vl(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function LI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof fg||t instanceof no||t instanceof Rt||t instanceof Ad||t instanceof pg)}function vg(t,e,n){if(!LI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Td(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function _p(t,e,n){if((e=at(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return yg(t,e);throw Mu("Field path arguments must be of type string or ",t,!1,void 0,n)}const cj=new RegExp("[~\\*/\\[\\]]");function yg(t,e,n){if(e.search(cj)>=0)throw Mu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cd(...e.split("."))._internalPath}catch{throw Mu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new q(F.INVALID_ARGUMENT,a+t+c)}function jI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uj extends MI{data(){return super.data()}}function _g(t,e){return typeof e=="string"?yg(t,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class FI extends wg{}function Eg(t,e,...n){let r=[];e instanceof wg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Tg).length,a=i.filter(c=>c instanceof xg).length;if(o>1||o>0&&a>0)throw new q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class xg extends FI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xg(e,n,r)}_apply(e){const n=this._parse(e);return zI(e._query,n),new vs(e.firestore,e.converter,cp(e._query,n))}_parse(e){const n=Rd(e.firestore);return function(i,o,a,c,u,h,p){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){_0(p,h);const x=[];for(const w of p)x.push(y0(c,i,w));g={arrayValue:{values:x}}}else g=y0(c,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||_0(p,h),g=lj(a,o,p,h==="in"||h==="not-in");return nt.create(u,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Tg extends wg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)zI(o,c),o=cp(o,c)}(e._query,n),new vs(e.firestore,e.converter,cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends FI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ig(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new q(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $a(i,o)}(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new mo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function UI(t,e="asc"){const n=e,r=_g("orderBy",t);return Ig._create(r,n)}function y0(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UT(e)&&n.indexOf("/")!==-1)throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!Z.isDocumentKey(r))throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return F_(t,new Z(r))}if(n instanceof Rt)return F_(t,n._key);throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(n)}.`)}function _0(t,e){if(!Array.isArray(t)||t.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dj{convertValue(e,n="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ti(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Je(o.doubleValue));return new pg(i)}convertGeoPoint(e){return new fg(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ua(e));default:return null}}convertTimestamp(e){const n=is(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);be(cI(r));const s=new za(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return s.isEqual(n)||vr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $I extends MI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_g("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mc extends $I{data(e={}){return super.data(e)}}class WI{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new na(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mc(this._firestore,this._userDataWriter,r.key,r,new na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Mc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new na(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Mc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new na(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:hj(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){t=Xt(t,Rt);const e=Xt(t.firestore,as);return XL(Sd(e),t._key).then(n=>qI(e,t,n))}class Sg extends dj{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function wp(t){t=Xt(t,vs);const e=Xt(t.firestore,as),n=Sd(e),r=new Sg(e);return VI(t._query),JL(n,t._query).then(s=>new WI(e,r,t,s))}function pj(t,e,n){t=Xt(t,Rt);const r=Xt(t.firestore,as),s=BI(t.converter,e);return Cg(r,[DI(Rd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,xn.none())])}function HI(t,e,n,...r){t=Xt(t,Rt);const s=Xt(t.firestore,as),i=Rd(s);let o;return o=typeof(e=at(e))=="string"||e instanceof Cd?aj(i,"updateDoc",t._key,e,n,r):oj(i,"updateDoc",t._key,e),Cg(s,[o.toMutation(t._key,xn.exists(!0))])}function mj(t,e){const n=Xt(t.firestore,as),r=Ga(t),s=BI(t.converter,e);return Cg(n,[DI(Rd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,xn.exists(!1))]).then(()=>r)}function gj(t,...e){var n,r,s;t=at(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||v0(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(v0(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let c,u,h;if(t instanceof Rt)u=Xt(t.firestore,as),h=pd(t._key.path),c={next:p=>{e[o]&&e[o](qI(u,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Xt(t,vs);u=Xt(p.firestore,as),h=p._query;const g=new Sg(u);c={next:x=>{e[o]&&e[o](new WI(u,g,p,x))},error:e[o+1],complete:e[o+2]},VI(t._query)}return function(g,x,w,E){const R=new hg(E),T=new ug(x,R,w);return g.asyncQueue.enqueueAndForget(async()=>ag(await ju(g),T)),()=>{R.Za(),g.asyncQueue.enqueueAndForget(async()=>lg(await ju(g),T))}}(Sd(u),h,a,c)}function Cg(t,e){return function(r,s){const i=new ur;return r.asyncQueue.enqueueAndForget(async()=>UL(await YL(r),s,i)),i.promise}(Sd(t),e)}function qI(t,e,n){const r=n.docs.get(e._key),s=new Sg(t);return new $I(t,s,e._key,r,new na(n.hasPendingWrites,n.fromCache),e.converter)}function w0(){return new gg("serverTimestamp")}(function(e,n=!0){(function(s){po=s})(ho),Qi(new Bs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new as(new yD(r.getProvider("auth-internal")),new xD(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Zr(O_,"4.7.3",e),Zr(O_,"4.7.3","esm2017")})();const vj={apiKey:"AIzaSyByeZv93SZc5UQUyjdBdsCEV6b7QbfhgRA",authDomain:"convictiondatahackathon.firebaseapp.com",projectId:"convictiondatahackathon",storageBucket:"convictiondatahackathon.firebasestorage.app",messagingSenderId:"289015303922",appId:"1:289015303922:web:d22f6819d2e1f788074a6b",measurementId:"G-C7DV92CP22"},KI=Fx(vj),Qa=pD(KI),ar=tj(KI);function yj(){const[t,e]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(!1),c=async u=>{if(u.preventDefault(),!t||!n){i("Please enter both email and password.");return}i(""),a(!0);try{await Zk(Qa,t,n)}catch(h){h.code==="auth/user-not-found"?i("No account found with this email. Please contact admin."):h.code==="auth/wrong-password"?i("Incorrect password."):h.code==="auth/invalid-email"?i("Invalid email format."):i(h.message)}finally{a(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-600 rounded-full mb-4",children:d.jsx(Kf,{className:"w-10 h-10 text-white"})}),d.jsx("h1",{className:"text-white text-3xl mb-2",children:"Court Case Management System"}),d.jsx("p",{className:"text-blue-200",children:"Secure Access Portal"})]}),d.jsxs(gn,{className:"border-slate-700 bg-slate-800/50 backdrop-blur",children:[d.jsxs(vn,{children:[d.jsx(yn,{className:"text-white",children:"Login"}),d.jsx(kn,{className:"text-slate-300",children:"Sign in to access the system"})]}),d.jsxs(_n,{children:[d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"email",className:"text-slate-200",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(hx,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),d.jsx(Qe,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:u=>e(u.target.value),className:"pl-10 bg-slate-900/50 border-slate-600 text-white placeholder:text-slate-500",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"password",className:"text-slate-200",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Kf,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),d.jsx(Qe,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:u=>r(u.target.value),className:"pl-10 bg-slate-900/50 border-slate-600 text-white placeholder:text-slate-500",required:!0})]})]}),s&&d.jsx("div",{className:"bg-red-900/20 border border-red-600 text-red-400 p-3 rounded-md text-sm",children:s}),d.jsxs(Lt,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:[d.jsx(tb,{className:"w-4 h-4 mr-2"}),o?"Logging in...":"Login"]})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("p",{className:"text-slate-400 text-sm",children:"Don't have an account? Contact your administrator."})})]})]})]})})}function uc({className:t,...e}){return d.jsx("textarea",{"data-slot":"textarea",className:Ce("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function Vu({className:t,...e}){return d.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:d.jsx("table",{"data-slot":"table",className:Ce("w-full caption-bottom text-sm",t),...e})})}function Fu({className:t,...e}){return d.jsx("thead",{"data-slot":"table-header",className:Ce("[&_tr]:border-b",t),...e})}function Uu({className:t,...e}){return d.jsx("tbody",{"data-slot":"table-body",className:Ce("[&_tr:last-child]:border-0",t),...e})}function tr({className:t,...e}){return d.jsx("tr",{"data-slot":"table-row",className:Ce("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function Ue({className:t,...e}){return d.jsx("th",{"data-slot":"table-head",className:Ce("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Me({className:t,...e}){return d.jsx("td",{"data-slot":"table-cell",className:Ce("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function E0(t,[e,n]){return Math.min(n,Math.max(e,t))}function we(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function _j(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,c=y.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function yo(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];const u=p=>{const{scope:g,children:x,...w}=p,E=g?.[t]?.[c]||a,R=y.useMemo(()=>w,Object.values(w));return d.jsx(E.Provider,{value:R,children:x})};u.displayName=i+"Provider";function h(p,g){const x=g?.[t]?.[c]||a,w=y.useContext(x);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=a?.[t]||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,wj(s,...e)]}function wj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...a,...p}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function x0(t){const e=Ej(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),c=a.find(Tj);if(c){const u=c.props.children,h=a.map(p=>p===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:p);return d.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Ej(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=Sj(s),a=Ij(i,s.props);return s.type!==y.Fragment&&(a.ref=r?lo(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xj=Symbol("radix.slottable");function Tj(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xj}function Ij(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Sj(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function GI(t){const e=t+"CollectionProvider",[n,r]=yo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:R,children:T}=E,_=Jn.useRef(null),S=Jn.useRef(new Map).current;return d.jsx(s,{scope:R,itemMap:S,collectionRef:_,children:T})};o.displayName=e;const a=t+"CollectionSlot",c=x0(a),u=Jn.forwardRef((E,R)=>{const{scope:T,children:_}=E,S=i(a,T),P=Xe(R,S.collectionRef);return d.jsx(c,{ref:P,children:_})});u.displayName=a;const h=t+"CollectionItemSlot",p="data-radix-collection-item",g=x0(h),x=Jn.forwardRef((E,R)=>{const{scope:T,children:_,...S}=E,P=Jn.useRef(null),L=Xe(R,P),D=i(h,T);return Jn.useEffect(()=>(D.itemMap.set(P,{ref:P,...S}),()=>void D.itemMap.delete(P))),d.jsx(g,{[p]:"",ref:L,children:_})});x.displayName=h;function w(E){const R=i(t+"CollectionConsumer",E);return Jn.useCallback(()=>{const _=R.collectionRef.current;if(!_)return[];const S=Array.from(_.querySelectorAll(`[${p}]`));return Array.from(R.itemMap.values()).sort((D,I)=>S.indexOf(D.ref.current)-S.indexOf(I.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:o,Slot:u,ItemSlot:x},w,r]}var Cj=y.createContext(void 0);function Ag(t){const e=y.useContext(Cj);return t||e||"ltr"}function Aj(t){const e=Rj(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),c=a.find(bj);if(c){const u=c.props.children,h=a.map(p=>p===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:p);return d.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Rj(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=kj(s),a=Pj(i,s.props);return s.type!==y.Fragment&&(a.ref=r?lo(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Nj=Symbol("radix.slottable");function bj(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Nj}function Pj(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function kj(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Dj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=Dj.reduce((t,e)=>{const n=Aj(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Oj(t,e){t&&ao.flushSync(()=>t.dispatchEvent(e))}function ls(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>e.current?.(...n),[])}function Lj(t,e=globalThis?.document){const n=ls(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var jj="DismissableLayer",Ep="dismissableLayer.update",Mj="dismissableLayer.pointerDownOutside",Vj="dismissableLayer.focusOutside",T0,QI=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rg=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=y.useContext(QI),[h,p]=y.useState(null),g=h?.ownerDocument??globalThis?.document,[,x]=y.useState({}),w=Xe(e,I=>p(I)),E=Array.from(u.layers),[R]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),T=E.indexOf(R),_=h?E.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,P=_>=T,L=zj(I=>{const v=I.target,A=[...u.branches].some(N=>N.contains(v));!P||A||(s?.(I),o?.(I),I.defaultPrevented||a?.())},g),D=Bj(I=>{const v=I.target;[...u.branches].some(N=>N.contains(v))||(i?.(I),o?.(I),I.defaultPrevented||a?.())},g);return Lj(I=>{_===u.layers.size-1&&(r?.(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},g),y.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(T0=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),I0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=T0)}},[h,g,n,u]),y.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),I0())},[h,u]),y.useEffect(()=>{const I=()=>x({});return document.addEventListener(Ep,I),()=>document.removeEventListener(Ep,I)},[]),d.jsx(Ae.div,{...c,ref:w,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,D.onFocusCapture),onBlurCapture:we(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,L.onPointerDownCapture)})});Rg.displayName=jj;var Fj="DismissableLayerBranch",Uj=y.forwardRef((t,e)=>{const n=y.useContext(QI),r=y.useRef(null),s=Xe(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Ae.div,{...t,ref:s})});Uj.displayName=Fj;function zj(t,e=globalThis?.document){const n=ls(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){YI(Mj,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Bj(t,e=globalThis?.document){const n=ls(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&YI(Vj,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function I0(){const t=new CustomEvent(Ep);document.dispatchEvent(t)}function YI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Oj(s,i):s.dispatchEvent(i)}var $h=0;function XI(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??S0()),document.body.insertAdjacentElement("beforeend",t[1]??S0()),$h++,()=>{$h===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$h--}},[])}function S0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Wh="focusScope.autoFocusOnMount",Hh="focusScope.autoFocusOnUnmount",C0={bubbles:!1,cancelable:!0},$j="FocusScope",Ng=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=y.useState(null),u=ls(s),h=ls(i),p=y.useRef(null),g=Xe(e,E=>c(E)),x=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let E=function(S){if(x.paused||!a)return;const P=S.target;a.contains(P)?p.current=P:Pr(p.current,{select:!0})},R=function(S){if(x.paused||!a)return;const P=S.relatedTarget;P!==null&&(a.contains(P)||Pr(p.current,{select:!0}))},T=function(S){if(document.activeElement===document.body)for(const L of S)L.removedNodes.length>0&&Pr(a)};document.addEventListener("focusin",E),document.addEventListener("focusout",R);const _=new MutationObserver(T);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",R),_.disconnect()}}},[r,a,x.paused]),y.useEffect(()=>{if(a){R0.add(x);const E=document.activeElement;if(!a.contains(E)){const T=new CustomEvent(Wh,C0);a.addEventListener(Wh,u),a.dispatchEvent(T),T.defaultPrevented||(Wj(Qj(JI(a)),{select:!0}),document.activeElement===E&&Pr(a))}return()=>{a.removeEventListener(Wh,u),setTimeout(()=>{const T=new CustomEvent(Hh,C0);a.addEventListener(Hh,h),a.dispatchEvent(T),T.defaultPrevented||Pr(E??document.body,{select:!0}),a.removeEventListener(Hh,h),R0.remove(x)},0)}}},[a,u,h,x]);const w=y.useCallback(E=>{if(!n&&!r||x.paused)return;const R=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,T=document.activeElement;if(R&&T){const _=E.currentTarget,[S,P]=Hj(_);S&&P?!E.shiftKey&&T===P?(E.preventDefault(),n&&Pr(S,{select:!0})):E.shiftKey&&T===S&&(E.preventDefault(),n&&Pr(P,{select:!0})):T===_&&E.preventDefault()}},[n,r,x.paused]);return d.jsx(Ae.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});Ng.displayName=$j;function Wj(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Pr(r,{select:e}),document.activeElement!==n)return}function Hj(t){const e=JI(t),n=A0(e,t),r=A0(e.reverse(),t);return[n,r]}function JI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function A0(t,e){for(const n of t)if(!qj(n,{upTo:e}))return n}function qj(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Kj(t){return t instanceof HTMLInputElement&&"select"in t}function Pr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Kj(t)&&e&&t.select()}}var R0=Gj();function Gj(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=N0(t,e),t.unshift(e)},remove(e){t=N0(t,e),t[0]?.resume()}}}function N0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Qj(t){return t.filter(e=>e.tagName!=="A")}var Pt=globalThis?.document?y.useLayoutEffect:()=>{},Yj=jp[" useId ".trim().toString()]||(()=>{}),Xj=0;function ts(t){const[e,n]=y.useState(Yj());return Pt(()=>{n(r=>r??String(Xj++))},[t]),t||(e?`radix-${e}`:"")}const Jj=["top","right","bottom","left"],cs=Math.min,Kt=Math.max,zu=Math.round,dc=Math.floor,$n=t=>({x:t,y:t}),Zj={left:"right",right:"left",bottom:"top",top:"bottom"},eM={start:"end",end:"start"};function xp(t,e,n){return Kt(t,cs(e,n))}function _r(t,e){return typeof t=="function"?t(e):t}function wr(t){return t.split("-")[0]}function _o(t){return t.split("-")[1]}function bg(t){return t==="x"?"y":"x"}function Pg(t){return t==="y"?"height":"width"}const tM=new Set(["top","bottom"]);function jn(t){return tM.has(wr(t))?"y":"x"}function kg(t){return bg(jn(t))}function nM(t,e,n){n===void 0&&(n=!1);const r=_o(t),s=kg(t),i=Pg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Bu(o)),[o,Bu(o)]}function rM(t){const e=Bu(t);return[Tp(t),e,Tp(e)]}function Tp(t){return t.replace(/start|end/g,e=>eM[e])}const b0=["left","right"],P0=["right","left"],sM=["top","bottom"],iM=["bottom","top"];function oM(t,e,n){switch(t){case"top":case"bottom":return n?e?P0:b0:e?b0:P0;case"left":case"right":return e?sM:iM;default:return[]}}function aM(t,e,n,r){const s=_o(t);let i=oM(wr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Tp)))),i}function Bu(t){return t.replace(/left|right|bottom|top/g,e=>Zj[e])}function lM(t){return{top:0,right:0,bottom:0,left:0,...t}}function ZI(t){return typeof t!="number"?lM(t):{top:t,right:t,bottom:t,left:t}}function $u(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function k0(t,e,n){let{reference:r,floating:s}=t;const i=jn(e),o=kg(e),a=Pg(o),c=wr(e),u=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,g=r[a]/2-s[a]/2;let x;switch(c){case"top":x={x:h,y:r.y-s.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-s.width,y:p};break;default:x={x:r.x,y:r.y}}switch(_o(e)){case"start":x[o]-=g*(n&&u?-1:1);break;case"end":x[o]+=g*(n&&u?-1:1);break}return x}const cM=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=k0(u,r,c),g=r,x={},w=0;for(let E=0;E<a.length;E++){const{name:R,fn:T}=a[E],{x:_,y:S,data:P,reset:L}=await T({x:h,y:p,initialPlacement:r,placement:g,strategy:s,middlewareData:x,rects:u,platform:o,elements:{reference:t,floating:e}});h=_??h,p=S??p,x={...x,[R]:{...x[R],...P}},L&&w<=50&&(w++,typeof L=="object"&&(L.placement&&(g=L.placement),L.rects&&(u=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:h,y:p}=k0(u,g,c)),E=-1)}return{x:h,y:p,placement:g,strategy:s,middlewareData:x}};async function Ya(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:x=0}=_r(e,t),w=ZI(x),R=a[g?p==="floating"?"reference":"floating":p],T=$u(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(R)))==null||n?R:R.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),_=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},L=$u(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:S,strategy:c}):_);return{top:(T.top-L.top+w.top)/P.y,bottom:(L.bottom-T.bottom+w.bottom)/P.y,left:(T.left-L.left+w.left)/P.x,right:(L.right-T.right+w.right)/P.x}}const uM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:h=0}=_r(t,e)||{};if(u==null)return{};const p=ZI(h),g={x:n,y:r},x=kg(s),w=Pg(x),E=await o.getDimensions(u),R=x==="y",T=R?"top":"left",_=R?"bottom":"right",S=R?"clientHeight":"clientWidth",P=i.reference[w]+i.reference[x]-g[x]-i.floating[w],L=g[x]-i.reference[x],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=D?D[S]:0;(!I||!await(o.isElement==null?void 0:o.isElement(D)))&&(I=a.floating[S]||i.floating[w]);const v=P/2-L/2,A=I/2-E[w]/2-1,N=cs(p[T],A),k=cs(p[_],A),O=N,b=I-E[w]-k,ee=I/2-E[w]/2+v,oe=xp(O,ee,b),J=!c.arrow&&_o(s)!=null&&ee!==oe&&i.reference[w]/2-(ee<O?N:k)-E[w]/2<0,te=J?ee<O?ee-O:ee-b:0;return{[x]:g[x]+te,data:{[x]:oe,centerOffset:ee-oe-te,...J&&{alignmentOffset:te}},reset:J}}}),dM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:E=!0,...R}=_r(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const T=wr(s),_=jn(a),S=wr(a)===a,P=await(c.isRTL==null?void 0:c.isRTL(u.floating)),L=g||(S||!E?[Bu(a)]:rM(a)),D=w!=="none";!g&&D&&L.push(...aM(a,E,w,P));const I=[a,...L],v=await Ya(e,R),A=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(v[T]),p){const ee=nM(s,o,P);A.push(v[ee[0]],v[ee[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every(ee=>ee<=0)){var k,O;const ee=(((k=i.flip)==null?void 0:k.index)||0)+1,oe=I[ee];if(oe&&(!(p==="alignment"?_!==jn(oe):!1)||N.every(j=>jn(j.placement)===_?j.overflows[0]>0:!0)))return{data:{index:ee,overflows:N},reset:{placement:oe}};let J=(O=N.filter(te=>te.overflows[0]<=0).sort((te,j)=>te.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!J)switch(x){case"bestFit":{var b;const te=(b=N.filter(j=>{if(D){const H=jn(j.placement);return H===_||H==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(H=>H>0).reduce((H,G)=>H+G,0)]).sort((j,H)=>j[1]-H[1])[0])==null?void 0:b[0];te&&(J=te);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function D0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function O0(t){return Jj.some(e=>t[e]>=0)}const hM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=_r(t,e);switch(r){case"referenceHidden":{const i=await Ya(e,{...s,elementContext:"reference"}),o=D0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:O0(o)}}}case"escaped":{const i=await Ya(e,{...s,altBoundary:!0}),o=D0(i,n.floating);return{data:{escapedOffsets:o,escaped:O0(o)}}}default:return{}}}}},eS=new Set(["left","top"]);async function fM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=wr(n),a=_o(n),c=jn(n)==="y",u=eS.has(o)?-1:1,h=i&&c?-1:1,p=_r(e,t);let{mainAxis:g,crossAxis:x,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof w=="number"&&(x=a==="end"?w*-1:w),c?{x:x*h,y:g*u}:{x:g*u,y:x*h}}const pM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await fM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},mM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:R=>{let{x:T,y:_}=R;return{x:T,y:_}}},...c}=_r(t,e),u={x:n,y:r},h=await Ya(e,c),p=jn(wr(s)),g=bg(p);let x=u[g],w=u[p];if(i){const R=g==="y"?"top":"left",T=g==="y"?"bottom":"right",_=x+h[R],S=x-h[T];x=xp(_,x,S)}if(o){const R=p==="y"?"top":"left",T=p==="y"?"bottom":"right",_=w+h[R],S=w-h[T];w=xp(_,w,S)}const E=a.fn({...e,[g]:x,[p]:w});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[g]:i,[p]:o}}}}}},gM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=_r(t,e),h={x:n,y:r},p=jn(s),g=bg(p);let x=h[g],w=h[p];const E=_r(a,e),R=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(c){const S=g==="y"?"height":"width",P=i.reference[g]-i.floating[S]+R.mainAxis,L=i.reference[g]+i.reference[S]-R.mainAxis;x<P?x=P:x>L&&(x=L)}if(u){var T,_;const S=g==="y"?"width":"height",P=eS.has(wr(s)),L=i.reference[p]-i.floating[S]+(P&&((T=o.offset)==null?void 0:T[p])||0)+(P?0:R.crossAxis),D=i.reference[p]+i.reference[S]+(P?0:((_=o.offset)==null?void 0:_[p])||0)-(P?R.crossAxis:0);w<L?w=L:w>D&&(w=D)}return{[g]:x,[p]:w}}}},vM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=_r(t,e),h=await Ya(e,u),p=wr(s),g=_o(s),x=jn(s)==="y",{width:w,height:E}=i.floating;let R,T;p==="top"||p==="bottom"?(R=p,T=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=p,R=g==="end"?"top":"bottom");const _=E-h.top-h.bottom,S=w-h.left-h.right,P=cs(E-h[R],_),L=cs(w-h[T],S),D=!e.middlewareData.shift;let I=P,v=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(v=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=_),D&&!g){const N=Kt(h.left,0),k=Kt(h.right,0),O=Kt(h.top,0),b=Kt(h.bottom,0);x?v=w-2*(N!==0||k!==0?N+k:Kt(h.left,h.right)):I=E-2*(O!==0||b!==0?O+b:Kt(h.top,h.bottom))}await c({...e,availableWidth:v,availableHeight:I});const A=await o.getDimensions(a.floating);return w!==A.width||E!==A.height?{reset:{rects:!0}}:{}}}};function bd(){return typeof window<"u"}function wo(t){return tS(t)?(t.nodeName||"").toLowerCase():"#document"}function Jt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qn(t){var e;return(e=(tS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tS(t){return bd()?t instanceof Node||t instanceof Jt(t).Node:!1}function Cn(t){return bd()?t instanceof Element||t instanceof Jt(t).Element:!1}function Hn(t){return bd()?t instanceof HTMLElement||t instanceof Jt(t).HTMLElement:!1}function L0(t){return!bd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jt(t).ShadowRoot}const yM=new Set(["inline","contents"]);function yl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=An(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!yM.has(s)}const _M=new Set(["table","td","th"]);function wM(t){return _M.has(wo(t))}const EM=[":popover-open",":modal"];function Pd(t){return EM.some(e=>{try{return t.matches(e)}catch{return!1}})}const xM=["transform","translate","scale","rotate","perspective"],TM=["transform","translate","scale","rotate","perspective","filter"],IM=["paint","layout","strict","content"];function Dg(t){const e=Og(),n=Cn(t)?An(t):t;return xM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||TM.some(r=>(n.willChange||"").includes(r))||IM.some(r=>(n.contain||"").includes(r))}function SM(t){let e=us(t);for(;Hn(e)&&!ro(e);){if(Dg(e))return e;if(Pd(e))return null;e=us(e)}return null}function Og(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CM=new Set(["html","body","#document"]);function ro(t){return CM.has(wo(t))}function An(t){return Jt(t).getComputedStyle(t)}function kd(t){return Cn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function us(t){if(wo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||L0(t)&&t.host||qn(t);return L0(e)?e.host:e}function nS(t){const e=us(t);return ro(e)?t.ownerDocument?t.ownerDocument.body:t.body:Hn(e)&&yl(e)?e:nS(e)}function Xa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=nS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Jt(s);if(i){const a=Ip(o);return e.concat(o,o.visualViewport||[],yl(s)?s:[],a&&n?Xa(a):[])}return e.concat(s,Xa(s,[],n))}function Ip(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rS(t){const e=An(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Hn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=zu(n)!==i||zu(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Lg(t){return Cn(t)?t:t.contextElement}function Fi(t){const e=Lg(t);if(!Hn(e))return $n(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=rS(e);let o=(i?zu(n.width):n.width)/r,a=(i?zu(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const AM=$n(0);function sS(t){const e=Jt(t);return!Og()||!e.visualViewport?AM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jt(t)?!1:e}function Gs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Lg(t);let o=$n(1);e&&(r?Cn(r)&&(o=Fi(r)):o=Fi(t));const a=RM(i,n,r)?sS(i):$n(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const g=Jt(i),x=r&&Cn(r)?Jt(r):r;let w=g,E=Ip(w);for(;E&&r&&x!==w;){const R=Fi(E),T=E.getBoundingClientRect(),_=An(E),S=T.left+(E.clientLeft+parseFloat(_.paddingLeft))*R.x,P=T.top+(E.clientTop+parseFloat(_.paddingTop))*R.y;c*=R.x,u*=R.y,h*=R.x,p*=R.y,c+=S,u+=P,w=Jt(E),E=Ip(w)}}return $u({width:h,height:p,x:c,y:u})}function Dd(t,e){const n=kd(t).scrollLeft;return e?e.left+n:Gs(qn(t)).left+n}function iS(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Dd(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function NM(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=qn(r),a=e?Pd(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=$n(1);const h=$n(0),p=Hn(r);if((p||!p&&!i)&&((wo(r)!=="body"||yl(o))&&(c=kd(r)),Hn(r))){const x=Gs(r);u=Fi(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const g=o&&!p&&!i?iS(o,c):$n(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+g.x,y:n.y*u.y-c.scrollTop*u.y+h.y+g.y}}function bM(t){return Array.from(t.getClientRects())}function PM(t){const e=qn(t),n=kd(t),r=t.ownerDocument.body,s=Kt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Kt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Dd(t);const a=-n.scrollTop;return An(r).direction==="rtl"&&(o+=Kt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const j0=25;function kM(t,e){const n=Jt(t),r=qn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const h=Og();(!h||h&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const u=Dd(r);if(u<=0){const h=r.ownerDocument,p=h.body,g=getComputedStyle(p),x=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(r.clientWidth-p.clientWidth-x);w<=j0&&(i-=w)}else u<=j0&&(i+=u);return{width:i,height:o,x:a,y:c}}const DM=new Set(["absolute","fixed"]);function OM(t,e){const n=Gs(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Hn(t)?Fi(t):$n(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function M0(t,e,n){let r;if(e==="viewport")r=kM(t,n);else if(e==="document")r=PM(qn(t));else if(Cn(e))r=OM(e,n);else{const s=sS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return $u(r)}function oS(t,e){const n=us(t);return n===e||!Cn(n)||ro(n)?!1:An(n).position==="fixed"||oS(n,e)}function LM(t,e){const n=e.get(t);if(n)return n;let r=Xa(t,[],!1).filter(a=>Cn(a)&&wo(a)!=="body"),s=null;const i=An(t).position==="fixed";let o=i?us(t):t;for(;Cn(o)&&!ro(o);){const a=An(o),c=Dg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&DM.has(s.position)||yl(o)&&!c&&oS(t,o))?r=r.filter(h=>h!==o):s=a,o=us(o)}return e.set(t,r),r}function jM(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Pd(e)?[]:LM(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,h)=>{const p=M0(e,h,s);return u.top=Kt(p.top,u.top),u.right=cs(p.right,u.right),u.bottom=cs(p.bottom,u.bottom),u.left=Kt(p.left,u.left),u},M0(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function MM(t){const{width:e,height:n}=rS(t);return{width:e,height:n}}function VM(t,e,n){const r=Hn(e),s=qn(e),i=n==="fixed",o=Gs(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=$n(0);function u(){c.x=Dd(s)}if(r||!r&&!i)if((wo(e)!=="body"||yl(s))&&(a=kd(e)),r){const x=Gs(e,!0,i,e);c.x=x.x+e.clientLeft,c.y=x.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?iS(s,a):$n(0),p=o.left+a.scrollLeft-c.x-h.x,g=o.top+a.scrollTop-c.y-h.y;return{x:p,y:g,width:o.width,height:o.height}}function qh(t){return An(t).position==="static"}function V0(t,e){if(!Hn(t)||An(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qn(t)===n&&(n=n.ownerDocument.body),n}function aS(t,e){const n=Jt(t);if(Pd(t))return n;if(!Hn(t)){let s=us(t);for(;s&&!ro(s);){if(Cn(s)&&!qh(s))return s;s=us(s)}return n}let r=V0(t,e);for(;r&&wM(r)&&qh(r);)r=V0(r,e);return r&&ro(r)&&qh(r)&&!Dg(r)?n:r||SM(t)||n}const FM=async function(t){const e=this.getOffsetParent||aS,n=this.getDimensions,r=await n(t.floating);return{reference:VM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UM(t){return An(t).direction==="rtl"}const zM={convertOffsetParentRelativeRectToViewportRelativeRect:NM,getDocumentElement:qn,getClippingRect:jM,getOffsetParent:aS,getElementRects:FM,getClientRects:bM,getDimensions:MM,getScale:Fi,isElement:Cn,isRTL:UM};function lS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function BM(t,e){let n=null,r;const s=qn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:p,width:g,height:x}=u;if(a||e(),!g||!x)return;const w=dc(p),E=dc(s.clientWidth-(h+g)),R=dc(s.clientHeight-(p+x)),T=dc(h),S={rootMargin:-w+"px "+-E+"px "+-R+"px "+-T+"px",threshold:Kt(0,cs(1,c))||1};let P=!0;function L(D){const I=D[0].intersectionRatio;if(I!==c){if(!P)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!lS(u,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(L,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,S)}n.observe(t)}return o(!0),i}function $M(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Lg(t),h=s||i?[...u?Xa(u):[],...Xa(e)]:[];h.forEach(T=>{s&&T.addEventListener("scroll",n,{passive:!0}),i&&T.addEventListener("resize",n)});const p=u&&a?BM(u,n):null;let g=-1,x=null;o&&(x=new ResizeObserver(T=>{let[_]=T;_&&_.target===u&&x&&(x.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=x)==null||S.observe(e)})),n()}),u&&!c&&x.observe(u),x.observe(e));let w,E=c?Gs(t):null;c&&R();function R(){const T=Gs(t);E&&!lS(E,T)&&n(),E=T,w=requestAnimationFrame(R)}return n(),()=>{var T;h.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),p?.(),(T=x)==null||T.disconnect(),x=null,c&&cancelAnimationFrame(w)}}const WM=pM,HM=mM,qM=dM,KM=vM,GM=hM,F0=uM,QM=gM,YM=(t,e,n)=>{const r=new Map,s={platform:zM,...n},i={...s.platform,_c:r};return cM(t,e,{...s,platform:i})};var XM=typeof document<"u",JM=function(){},Vc=XM?y.useLayoutEffect:JM;function Wu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Wu(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Wu(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function cS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function U0(t,e){const n=cS(t);return Math.round(e*n)/n}function Kh(t){const e=y.useRef(t);return Vc(()=>{e.current=t}),e}function ZM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[h,p]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,x]=y.useState(r);Wu(g,r)||x(r);const[w,E]=y.useState(null),[R,T]=y.useState(null),_=y.useCallback(j=>{j!==D.current&&(D.current=j,E(j))},[]),S=y.useCallback(j=>{j!==I.current&&(I.current=j,T(j))},[]),P=i||w,L=o||R,D=y.useRef(null),I=y.useRef(null),v=y.useRef(h),A=c!=null,N=Kh(c),k=Kh(s),O=Kh(u),b=y.useCallback(()=>{if(!D.current||!I.current)return;const j={placement:e,strategy:n,middleware:g};k.current&&(j.platform=k.current),YM(D.current,I.current,j).then(H=>{const G={...H,isPositioned:O.current!==!1};ee.current&&!Wu(v.current,G)&&(v.current=G,ao.flushSync(()=>{p(G)}))})},[g,e,n,k,O]);Vc(()=>{u===!1&&v.current.isPositioned&&(v.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[u]);const ee=y.useRef(!1);Vc(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Vc(()=>{if(P&&(D.current=P),L&&(I.current=L),P&&L){if(N.current)return N.current(P,L,b);b()}},[P,L,b,N,A]);const oe=y.useMemo(()=>({reference:D,floating:I,setReference:_,setFloating:S}),[_,S]),J=y.useMemo(()=>({reference:P,floating:L}),[P,L]),te=y.useMemo(()=>{const j={position:n,left:0,top:0};if(!J.floating)return j;const H=U0(J.floating,h.x),G=U0(J.floating,h.y);return a?{...j,transform:"translate("+H+"px, "+G+"px)",...cS(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:G}},[n,a,J.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:b,refs:oe,elements:J,floatingStyles:te}),[h,b,oe,J,te])}const eV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?F0({element:r.current,padding:s}).fn(n):{}:r?F0({element:r,padding:s}).fn(n):{}}}},tV=(t,e)=>({...WM(t),options:[t,e]}),nV=(t,e)=>({...HM(t),options:[t,e]}),rV=(t,e)=>({...QM(t),options:[t,e]}),sV=(t,e)=>({...qM(t),options:[t,e]}),iV=(t,e)=>({...KM(t),options:[t,e]}),oV=(t,e)=>({...GM(t),options:[t,e]}),aV=(t,e)=>({...eV(t),options:[t,e]});var lV="Arrow",uS=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Ae.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});uS.displayName=lV;var cV=uS;function uV(t){const[e,n]=y.useState(void 0);return Pt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jg="Popper",[dS,hS]=yo(jg),[dV,fS]=dS(jg),pS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return d.jsx(dV,{scope:e,anchor:r,onAnchorChange:s,children:n})};pS.displayName=jg;var mS="PopperAnchor",gS=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=fS(mS,n),o=y.useRef(null),a=Xe(e,o),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=r?.current||o.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:d.jsx(Ae.div,{...s,ref:a})});gS.displayName=mS;var Mg="PopperContent",[hV,fV]=dS(Mg),vS=y.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:w,...E}=t,R=fS(Mg,n),[T,_]=y.useState(null),S=Xe(e,W=>_(W)),[P,L]=y.useState(null),D=uV(P),I=D?.width??0,v=D?.height??0,A=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(u)?u:[u],O=k.length>0,b={padding:N,boundary:k.filter(mV),altBoundary:O},{refs:ee,floatingStyles:oe,placement:J,isPositioned:te,middlewareData:j}=ZM({strategy:"fixed",placement:A,whileElementsMounted:(...W)=>$M(...W,{animationFrame:x==="always"}),elements:{reference:R.anchor},middleware:[tV({mainAxis:s+v,alignmentAxis:o}),c&&nV({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?rV():void 0,...b}),c&&sV({...b}),iV({...b,apply:({elements:W,rects:Re,availableWidth:Pe,availableHeight:he})=>{const{width:me,height:xe}=Re.reference,lt=W.floating.style;lt.setProperty("--radix-popper-available-width",`${Pe}px`),lt.setProperty("--radix-popper-available-height",`${he}px`),lt.setProperty("--radix-popper-anchor-width",`${me}px`),lt.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),P&&aV({element:P,padding:a}),gV({arrowWidth:I,arrowHeight:v}),g&&oV({strategy:"referenceHidden",...b})]}),[H,G]=wS(J),de=ls(w);Pt(()=>{te&&de?.()},[te,de]);const ce=j.arrow?.x,se=j.arrow?.y,pe=j.arrow?.centerOffset!==0,[Oe,$e]=y.useState();return Pt(()=>{T&&$e(window.getComputedStyle(T).zIndex)},[T]),d.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:te?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[j.transformOrigin?.x,j.transformOrigin?.y].join(" "),...j.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(hV,{scope:n,placedSide:H,onArrowChange:L,arrowX:ce,arrowY:se,shouldHideArrow:pe,children:d.jsx(Ae.div,{"data-side":H,"data-align":G,...E,ref:S,style:{...E.style,animation:te?void 0:"none"}})})})});vS.displayName=Mg;var yS="PopperArrow",pV={top:"bottom",right:"left",bottom:"top",left:"right"},_S=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=fV(yS,r),o=pV[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(cV,{...s,ref:n,style:{...s.style,display:"block"}})})});_S.displayName=yS;function mV(t){return t!==null}var gV=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,o=s.arrow?.centerOffset!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=wS(n),p={start:"0%",center:"50%",end:"100%"}[h],g=(s.arrow?.x??0)+a/2,x=(s.arrow?.y??0)+c/2;let w="",E="";return u==="bottom"?(w=o?p:`${g}px`,E=`${-c}px`):u==="top"?(w=o?p:`${g}px`,E=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,E=o?p:`${x}px`):u==="left"&&(w=`${r.floating.width+c}px`,E=o?p:`${x}px`),{data:{x:w,y:E}}}});function wS(t){const[e,n="center"]=t.split("-");return[e,n]}var vV=pS,yV=gS,_V=vS,wV=_S,EV="Portal",Vg=y.forwardRef((t,e)=>{const{container:n,...r}=t,[s,i]=y.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&globalThis?.document?.body;return o?DN.createPortal(d.jsx(Ae.div,{...r,ref:e}),o):null});Vg.displayName=EV;function xV(t){const e=TV(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),c=a.find(SV);if(c){const u=c.props.children,h=a.map(p=>p===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:p);return d.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function TV(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=AV(s),a=CV(i,s.props);return s.type!==y.Fragment&&(a.ref=r?lo(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var IV=Symbol("radix.slottable");function SV(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===IV}function CV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function AV(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var RV=jp[" useInsertionEffect ".trim().toString()]||Pt;function Ja({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=NV({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const p=h.current;p!==a&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=y.useCallback(h=>{if(a){const p=bV(h)?h(t):h;p!==t&&o.current?.(p)}else i(h)},[a,t,i,o]);return[c,u]}function NV({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return RV(()=>{i.current=e},[e]),y.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,r,i]}function bV(t){return typeof t=="function"}function PV(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kV="VisuallyHidden",DV=y.forwardRef((t,e)=>d.jsx(Ae.span,{...t,ref:e,style:{...ES,...t.style}}));DV.displayName=kV;var OV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ci=new WeakMap,hc=new WeakMap,fc={},Gh=0,xS=function(t){return t&&(t.host||xS(t.parentNode))},LV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=xS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},jV=function(t,e,n,r){var s=LV(e,Array.isArray(t)?t:[t]);fc[n]||(fc[n]=new WeakMap);var i=fc[n],o=[],a=new Set,c=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))h(g);else try{var x=g.getAttribute(r),w=x!==null&&x!=="false",E=(ci.get(g)||0)+1,R=(i.get(g)||0)+1;ci.set(g,E),i.set(g,R),o.push(g),E===1&&w&&hc.set(g,!0),R===1&&g.setAttribute(n,"true"),w||g.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",g,T)}})};return h(e),a.clear(),Gh++,function(){o.forEach(function(p){var g=ci.get(p)-1,x=i.get(p)-1;ci.set(p,g),i.set(p,x),g||(hc.has(p)||p.removeAttribute(r),hc.delete(p)),x||p.removeAttribute(n)}),Gh--,Gh||(ci=new WeakMap,ci=new WeakMap,hc=new WeakMap,fc={})}},TS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=OV(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),jV(r,s,n,"aria-hidden")):function(){return null}},Fc="right-scroll-bar-position",Uc="width-before-scroll-bar",MV="with-scroll-bars-hidden",VV="--removed-body-scroll-bar-size";function Qh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function FV(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var UV=typeof window<"u"?y.useLayoutEffect:y.useEffect,z0=new WeakMap;function zV(t,e){var n=FV(null,function(r){return t.forEach(function(s){return Qh(s,r)})});return UV(function(){var r=z0.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Qh(a,null)}),i.forEach(function(a){s.has(a)||Qh(a,o)})}z0.set(n,t)},[t]),n}function BV(t){return t}function $V(t,e){e===void 0&&(e=BV);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function WV(t){t===void 0&&(t={});var e=$V(null);return e.options=On({async:!0,ssr:!1},t),e}var IS=function(t){var e=t.sideCar,n=ol(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,On({},n))};IS.isSideCarExport=!0;function HV(t,e){return t.useMedium(e),IS}var SS=WV(),Yh=function(){},Od=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Yh,onWheelCapture:Yh,onTouchMoveCapture:Yh}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,p=t.shards,g=t.sideCar,x=t.noRelative,w=t.noIsolation,E=t.inert,R=t.allowPinchZoom,T=t.as,_=T===void 0?"div":T,S=t.gapMode,P=ol(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=g,D=zV([n,e]),I=On(On({},P),s);return y.createElement(y.Fragment,null,h&&y.createElement(L,{sideCar:SS,removeScrollBar:u,shards:p,noRelative:x,noIsolation:w,inert:E,setCallbacks:i,allowPinchZoom:!!R,lockRef:n,gapMode:S}),o?y.cloneElement(y.Children.only(a),On(On({},I),{ref:D})):y.createElement(_,On({},I,{className:c,ref:D}),a))});Od.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Od.classNames={fullWidth:Uc,zeroRight:Fc};var qV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qV();return e&&t.setAttribute("nonce",e),t}function GV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function QV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var YV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=KV())&&(GV(e,n),QV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},XV=function(){var t=YV();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},CS=function(){var t=XV(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},JV={left:0,top:0,right:0,gap:0},Xh=function(t){return parseInt(t||"",10)||0},ZV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Xh(n),Xh(r),Xh(s)]},e4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return JV;var e=ZV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},t4=CS(),Ui="data-scroll-locked",n4=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(MV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ui,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Uc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fc," .").concat(Fc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Uc," .").concat(Uc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ui,`] {
    `).concat(VV,": ").concat(a,`px;
  }
`)},B0=function(){var t=parseInt(document.body.getAttribute(Ui)||"0",10);return isFinite(t)?t:0},r4=function(){y.useEffect(function(){return document.body.setAttribute(Ui,(B0()+1).toString()),function(){var t=B0()-1;t<=0?document.body.removeAttribute(Ui):document.body.setAttribute(Ui,t.toString())}},[])},s4=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;r4();var i=y.useMemo(function(){return e4(s)},[s]);return y.createElement(t4,{styles:n4(i,!e,s,n?"":"!important")})},Sp=!1;if(typeof window<"u")try{var pc=Object.defineProperty({},"passive",{get:function(){return Sp=!0,!0}});window.addEventListener("test",pc,pc),window.removeEventListener("test",pc,pc)}catch{Sp=!1}var ui=Sp?{passive:!1}:!1,i4=function(t){return t.tagName==="TEXTAREA"},AS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!i4(t)&&n[e]==="visible")},o4=function(t){return AS(t,"overflowY")},a4=function(t){return AS(t,"overflowX")},$0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=RS(t,r);if(s){var i=NS(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},l4=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},c4=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},RS=function(t,e){return t==="v"?o4(e):a4(e)},NS=function(t,e){return t==="v"?l4(e):c4(e)},u4=function(t,e){return t==="h"&&e==="rtl"?-1:1},d4=function(t,e,n,r,s){var i=u4(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),u=!1,h=o>0,p=0,g=0;do{if(!a)break;var x=NS(t,a),w=x[0],E=x[1],R=x[2],T=E-R-i*w;(w||T)&&RS(t,a)&&(p+=T,g+=w);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&Math.abs(p)<1||!h&&Math.abs(g)<1)&&(u=!0),u},mc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},W0=function(t){return[t.deltaX,t.deltaY]},H0=function(t){return t&&"current"in t?t.current:t},h4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},f4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},p4=0,di=[];function m4(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(p4++)[0],i=y.useState(CS)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=nk([t.lockRef.current],(t.shards||[]).map(H0),!0).filter(Boolean);return E.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(E,R){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!o.current.allowPinchZoom;var T=mc(E),_=n.current,S="deltaX"in E?E.deltaX:_[0]-T[0],P="deltaY"in E?E.deltaY:_[1]-T[1],L,D=E.target,I=Math.abs(S)>Math.abs(P)?"h":"v";if("touches"in E&&I==="h"&&D.type==="range")return!1;var v=$0(I,D);if(!v)return!0;if(v?L=I:(L=I==="v"?"h":"v",v=$0(I,D)),!v)return!1;if(!r.current&&"changedTouches"in E&&(S||P)&&(r.current=L),!L)return!0;var A=r.current||L;return d4(A,R,E,A==="h"?S:P)},[]),c=y.useCallback(function(E){var R=E;if(!(!di.length||di[di.length-1]!==i)){var T="deltaY"in R?W0(R):mc(R),_=e.current.filter(function(L){return L.name===R.type&&(L.target===R.target||R.target===L.shadowParent)&&h4(L.delta,T)})[0];if(_&&_.should){R.cancelable&&R.preventDefault();return}if(!_){var S=(o.current.shards||[]).map(H0).filter(Boolean).filter(function(L){return L.contains(R.target)}),P=S.length>0?a(R,S[0]):!o.current.noIsolation;P&&R.cancelable&&R.preventDefault()}}},[]),u=y.useCallback(function(E,R,T,_){var S={name:E,delta:R,target:T,should:_,shadowParent:g4(T)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(P){return P!==S})},1)},[]),h=y.useCallback(function(E){n.current=mc(E),r.current=void 0},[]),p=y.useCallback(function(E){u(E.type,W0(E),E.target,a(E,t.lockRef.current))},[]),g=y.useCallback(function(E){u(E.type,mc(E),E.target,a(E,t.lockRef.current))},[]);y.useEffect(function(){return di.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,ui),document.addEventListener("touchmove",c,ui),document.addEventListener("touchstart",h,ui),function(){di=di.filter(function(E){return E!==i}),document.removeEventListener("wheel",c,ui),document.removeEventListener("touchmove",c,ui),document.removeEventListener("touchstart",h,ui)}},[]);var x=t.removeScrollBar,w=t.inert;return y.createElement(y.Fragment,null,w?y.createElement(i,{styles:f4(s)}):null,x?y.createElement(s4,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function g4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const v4=HV(SS,m4);var Fg=y.forwardRef(function(t,e){return y.createElement(Od,On({},t,{ref:e,sideCar:v4}))});Fg.classNames=Od.classNames;var y4=[" ","Enter","ArrowUp","ArrowDown"],_4=[" ","Enter"],Qs="Select",[Ld,jd,w4]=GI(Qs),[Eo]=yo(Qs,[w4,hS]),Md=hS(),[E4,ys]=Eo(Qs),[x4,T4]=Eo(Qs),bS=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:h,autoComplete:p,disabled:g,required:x,form:w}=t,E=Md(e),[R,T]=y.useState(null),[_,S]=y.useState(null),[P,L]=y.useState(!1),D=Ag(u),[I,v]=Ja({prop:r,defaultProp:s??!1,onChange:i,caller:Qs}),[A,N]=Ja({prop:o,defaultProp:a,onChange:c,caller:Qs}),k=y.useRef(null),O=R?w||!!R.closest("form"):!0,[b,ee]=y.useState(new Set),oe=Array.from(b).map(J=>J.props.value).join(";");return d.jsx(vV,{...E,children:d.jsxs(E4,{required:x,scope:e,trigger:R,onTriggerChange:T,valueNode:_,onValueNodeChange:S,valueNodeHasChildren:P,onValueNodeHasChildrenChange:L,contentId:ts(),value:A,onValueChange:N,open:I,onOpenChange:v,dir:D,triggerPointerDownPosRef:k,disabled:g,children:[d.jsx(Ld.Provider,{scope:e,children:d.jsx(x4,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(J=>{ee(te=>new Set(te).add(J))},[]),onNativeOptionRemove:y.useCallback(J=>{ee(te=>{const j=new Set(te);return j.delete(J),j})},[]),children:n})}),O?d.jsxs(JS,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:p,value:A,onChange:J=>N(J.target.value),disabled:g,form:w,children:[A===void 0?d.jsx("option",{value:""}):null,Array.from(b)]},oe):null]})})};bS.displayName=Qs;var PS="SelectTrigger",kS=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Md(n),o=ys(PS,n),a=o.disabled||r,c=Xe(e,o.onTriggerChange),u=jd(n),h=y.useRef("touch"),[p,g,x]=eC(E=>{const R=u().filter(S=>!S.disabled),T=R.find(S=>S.value===o.value),_=tC(R,E,T);_!==void 0&&o.onValueChange(_.value)}),w=E=>{a||(o.onOpenChange(!0),x()),E&&(o.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return d.jsx(yV,{asChild:!0,...i,children:d.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ZS(o.value)?"":void 0,...s,ref:c,onClick:we(s.onClick,E=>{E.currentTarget.focus(),h.current!=="mouse"&&w(E)}),onPointerDown:we(s.onPointerDown,E=>{h.current=E.pointerType;const R=E.target;R.hasPointerCapture(E.pointerId)&&R.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(w(E),E.preventDefault())}),onKeyDown:we(s.onKeyDown,E=>{const R=p.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&g(E.key),!(R&&E.key===" ")&&y4.includes(E.key)&&(w(),E.preventDefault())})})})});kS.displayName=PS;var DS="SelectValue",OS=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=ys(DS,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,p=Xe(e,c.onValueNodeChange);return Pt(()=>{u(h)},[u,h]),d.jsx(Ae.span,{...a,ref:p,style:{pointerEvents:"none"},children:ZS(c.value)?d.jsx(d.Fragment,{children:o}):i})});OS.displayName=DS;var I4="SelectIcon",LS=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Ae.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});LS.displayName=I4;var S4="SelectPortal",jS=t=>d.jsx(Vg,{asChild:!0,...t});jS.displayName=S4;var Ys="SelectContent",MS=y.forwardRef((t,e)=>{const n=ys(Ys,t.__scopeSelect),[r,s]=y.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ao.createPortal(d.jsx(VS,{scope:t.__scopeSelect,children:d.jsx(Ld.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(FS,{...t,ref:e})});MS.displayName=Ys;var hn=10,[VS,_s]=Eo(Ys),C4="SelectContentImpl",A4=xV("SelectContent.RemoveScroll"),FS=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:w,hideWhenDetached:E,avoidCollisions:R,...T}=t,_=ys(Ys,n),[S,P]=y.useState(null),[L,D]=y.useState(null),I=Xe(e,W=>P(W)),[v,A]=y.useState(null),[N,k]=y.useState(null),O=jd(n),[b,ee]=y.useState(!1),oe=y.useRef(!1);y.useEffect(()=>{if(S)return TS(S)},[S]),XI();const J=y.useCallback(W=>{const[Re,...Pe]=O().map(xe=>xe.ref.current),[he]=Pe.slice(-1),me=document.activeElement;for(const xe of W)if(xe===me||(xe?.scrollIntoView({block:"nearest"}),xe===Re&&L&&(L.scrollTop=0),xe===he&&L&&(L.scrollTop=L.scrollHeight),xe?.focus(),document.activeElement!==me))return},[O,L]),te=y.useCallback(()=>J([v,S]),[J,v,S]);y.useEffect(()=>{b&&te()},[b,te]);const{onOpenChange:j,triggerPointerDownPosRef:H}=_;y.useEffect(()=>{if(S){let W={x:0,y:0};const Re=he=>{W={x:Math.abs(Math.round(he.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(he.pageY)-(H.current?.y??0))}},Pe=he=>{W.x<=10&&W.y<=10?he.preventDefault():S.contains(he.target)||j(!1),document.removeEventListener("pointermove",Re),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[S,j,H]),y.useEffect(()=>{const W=()=>j(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[j]);const[G,de]=eC(W=>{const Re=O().filter(me=>!me.disabled),Pe=Re.find(me=>me.ref.current===document.activeElement),he=tC(Re,W,Pe);he&&setTimeout(()=>he.ref.current.focus())}),ce=y.useCallback((W,Re,Pe)=>{const he=!oe.current&&!Pe;(_.value!==void 0&&_.value===Re||he)&&(A(W),he&&(oe.current=!0))},[_.value]),se=y.useCallback(()=>S?.focus(),[S]),pe=y.useCallback((W,Re,Pe)=>{const he=!oe.current&&!Pe;(_.value!==void 0&&_.value===Re||he)&&k(W)},[_.value]),Oe=r==="popper"?Cp:US,$e=Oe===Cp?{side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:w,hideWhenDetached:E,avoidCollisions:R}:{};return d.jsx(VS,{scope:n,content:S,viewport:L,onViewportChange:D,itemRefCallback:ce,selectedItem:v,onItemLeave:se,itemTextRefCallback:pe,focusSelectedItem:te,selectedItemText:N,position:r,isPositioned:b,searchRef:G,children:d.jsx(Fg,{as:A4,allowPinchZoom:!0,children:d.jsx(Ng,{asChild:!0,trapped:_.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:we(s,W=>{_.trigger?.focus({preventScroll:!0}),W.preventDefault()}),children:d.jsx(Rg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:d.jsx(Oe,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:W=>W.preventDefault(),...T,...$e,onPlaced:()=>ee(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:we(T.onKeyDown,W=>{const Re=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!Re&&W.key.length===1&&de(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let he=O().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(W.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const me=W.target,xe=he.indexOf(me);he=he.slice(xe+1)}setTimeout(()=>J(he)),W.preventDefault()}})})})})})})});FS.displayName=C4;var R4="SelectItemAlignedPosition",US=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ys(Ys,n),o=_s(Ys,n),[a,c]=y.useState(null),[u,h]=y.useState(null),p=Xe(e,I=>h(I)),g=jd(n),x=y.useRef(!1),w=y.useRef(!0),{viewport:E,selectedItem:R,selectedItemText:T,focusSelectedItem:_}=o,S=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&E&&R&&T){const I=i.trigger.getBoundingClientRect(),v=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),N=T.getBoundingClientRect();if(i.dir!=="rtl"){const me=N.left-v.left,xe=A.left-me,lt=I.left-xe,kt=I.width+lt,Kn=Math.max(kt,v.width),Tr=window.innerWidth-hn,ws=E0(xe,[hn,Math.max(hn,Tr-Kn)]);a.style.minWidth=kt+"px",a.style.left=ws+"px"}else{const me=v.right-N.right,xe=window.innerWidth-A.right-me,lt=window.innerWidth-I.right-xe,kt=I.width+lt,Kn=Math.max(kt,v.width),Tr=window.innerWidth-hn,ws=E0(xe,[hn,Math.max(hn,Tr-Kn)]);a.style.minWidth=kt+"px",a.style.right=ws+"px"}const k=g(),O=window.innerHeight-hn*2,b=E.scrollHeight,ee=window.getComputedStyle(u),oe=parseInt(ee.borderTopWidth,10),J=parseInt(ee.paddingTop,10),te=parseInt(ee.borderBottomWidth,10),j=parseInt(ee.paddingBottom,10),H=oe+J+b+j+te,G=Math.min(R.offsetHeight*5,H),de=window.getComputedStyle(E),ce=parseInt(de.paddingTop,10),se=parseInt(de.paddingBottom,10),pe=I.top+I.height/2-hn,Oe=O-pe,$e=R.offsetHeight/2,W=R.offsetTop+$e,Re=oe+J+W,Pe=H-Re;if(Re<=pe){const me=k.length>0&&R===k[k.length-1].ref.current;a.style.bottom="0px";const xe=u.clientHeight-E.offsetTop-E.offsetHeight,lt=Math.max(Oe,$e+(me?se:0)+xe+te),kt=Re+lt;a.style.height=kt+"px"}else{const me=k.length>0&&R===k[0].ref.current;a.style.top="0px";const lt=Math.max(pe,oe+E.offsetTop+(me?ce:0)+$e)+Pe;a.style.height=lt+"px",E.scrollTop=Re-pe+E.offsetTop}a.style.margin=`${hn}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=O+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[g,i.trigger,i.valueNode,a,u,E,R,T,i.dir,r]);Pt(()=>S(),[S]);const[P,L]=y.useState();Pt(()=>{u&&L(window.getComputedStyle(u).zIndex)},[u]);const D=y.useCallback(I=>{I&&w.current===!0&&(S(),_?.(),w.current=!1)},[S,_]);return d.jsx(b4,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:x,onScrollButtonChange:D,children:d.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:d.jsx(Ae.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});US.displayName=R4;var N4="SelectPopperPosition",Cp=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=hn,...i}=t,o=Md(n);return d.jsx(_V,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cp.displayName=N4;var[b4,Ug]=Eo(Ys,{}),Ap="SelectViewport",zS=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=_s(Ap,n),o=Ug(Ap,n),a=Xe(e,i.onViewportChange),c=y.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Ld.Slot,{scope:n,children:d.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:we(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g?.current&&p){const x=Math.abs(c.current-h.scrollTop);if(x>0){const w=window.innerHeight-hn*2,E=parseFloat(p.style.minHeight),R=parseFloat(p.style.height),T=Math.max(E,R);if(T<w){const _=T+x,S=Math.min(w,_),P=_-S;p.style.height=S+"px",p.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});zS.displayName=Ap;var BS="SelectGroup",[P4,k4]=Eo(BS),D4=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ts();return d.jsx(P4,{scope:n,id:s,children:d.jsx(Ae.div,{role:"group","aria-labelledby":s,...r,ref:e})})});D4.displayName=BS;var $S="SelectLabel",O4=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=k4($S,n);return d.jsx(Ae.div,{id:s.id,...r,ref:e})});O4.displayName=$S;var Hu="SelectItem",[L4,WS]=Eo(Hu),HS=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ys(Hu,n),c=_s(Hu,n),u=a.value===r,[h,p]=y.useState(i??""),[g,x]=y.useState(!1),w=Xe(e,_=>c.itemRefCallback?.(_,r,s)),E=ts(),R=y.useRef("touch"),T=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(L4,{scope:n,value:r,disabled:s,textId:E,isSelected:u,onItemTextChange:y.useCallback(_=>{p(S=>S||(_?.textContent??"").trim())},[]),children:d.jsx(Ld.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:d.jsx(Ae.div,{role:"option","aria-labelledby":E,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:we(o.onFocus,()=>x(!0)),onBlur:we(o.onBlur,()=>x(!1)),onClick:we(o.onClick,()=>{R.current!=="mouse"&&T()}),onPointerUp:we(o.onPointerUp,()=>{R.current==="mouse"&&T()}),onPointerDown:we(o.onPointerDown,_=>{R.current=_.pointerType}),onPointerMove:we(o.onPointerMove,_=>{R.current=_.pointerType,s?c.onItemLeave?.():R.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(o.onPointerLeave,_=>{_.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:we(o.onKeyDown,_=>{c.searchRef?.current!==""&&_.key===" "||(_4.includes(_.key)&&T(),_.key===" "&&_.preventDefault())})})})})});HS.displayName=Hu;var ra="SelectItemText",qS=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ys(ra,n),a=_s(ra,n),c=WS(ra,n),u=T4(ra,n),[h,p]=y.useState(null),g=Xe(e,T=>p(T),c.onItemTextChange,T=>a.itemTextRefCallback?.(T,c.value,c.disabled)),x=h?.textContent,w=y.useMemo(()=>d.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:E,onNativeOptionRemove:R}=u;return Pt(()=>(E(w),()=>R(w)),[E,R,w]),d.jsxs(d.Fragment,{children:[d.jsx(Ae.span,{id:c.textId,...i,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ao.createPortal(i.children,o.valueNode):null]})});qS.displayName=ra;var KS="SelectItemIndicator",GS=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return WS(KS,n).isSelected?d.jsx(Ae.span,{"aria-hidden":!0,...r,ref:e}):null});GS.displayName=KS;var Rp="SelectScrollUpButton",QS=y.forwardRef((t,e)=>{const n=_s(Rp,t.__scopeSelect),r=Ug(Rp,t.__scopeSelect),[s,i]=y.useState(!1),o=Xe(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(XS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});QS.displayName=Rp;var Np="SelectScrollDownButton",YS=y.forwardRef((t,e)=>{const n=_s(Np,t.__scopeSelect),r=Ug(Np,t.__scopeSelect),[s,i]=y.useState(!1),o=Xe(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(XS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});YS.displayName=Np;var XS=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=_s("SelectScrollButton",n),o=y.useRef(null),a=jd(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Pt(()=>{a().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),d.jsx(Ae.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:we(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:we(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:we(s.onPointerLeave,()=>{c()})})}),j4="SelectSeparator",M4=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Ae.div,{"aria-hidden":!0,...r,ref:e})});M4.displayName=j4;var bp="SelectArrow",V4=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Md(n),i=ys(bp,n),o=_s(bp,n);return i.open&&o.position==="popper"?d.jsx(wV,{...s,...r,ref:e}):null});V4.displayName=bp;var F4="SelectBubbleInput",JS=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=Xe(r,s),o=PV(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const p=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(p)}},[o,e]),d.jsx(Ae.select,{...n,style:{...ES,...n.style},ref:i,defaultValue:e})});JS.displayName=F4;function ZS(t){return t===""||t===void 0}function eC(t){const e=ls(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function tC(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=U4(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function U4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var z4=bS,B4=kS,$4=OS,W4=LS,H4=jS,q4=MS,K4=zS,G4=HS,Q4=qS,Y4=GS,X4=QS,J4=YS;function zc({...t}){return d.jsx(z4,{"data-slot":"select",...t})}function Bc({...t}){return d.jsx($4,{"data-slot":"select-value",...t})}function $c({className:t,size:e="default",children:n,...r}){return d.jsxs(B4,{"data-slot":"select-trigger","data-size":e,className:Ce("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,d.jsx(W4,{asChild:!0,children:d.jsx(cx,{className:"size-4 opacity-50"})})]})}function Wc({className:t,children:e,position:n="popper",...r}){return d.jsx(H4,{children:d.jsxs(q4,{"data-slot":"select-content",className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(Z4,{}),d.jsx(K4,{className:Ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),d.jsx(eF,{})]})})}function nn({className:t,children:e,...n}){return d.jsxs(G4,{"data-slot":"select-item",className:Ce("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[d.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:d.jsx(Y4,{children:d.jsx(BN,{className:"size-4"})})}),d.jsx(Q4,{children:e})]})}function Z4({className:t,...e}){return d.jsx(X4,{"data-slot":"select-scroll-up-button",className:Ce("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(HN,{className:"size-4"})})}function eF({className:t,...e}){return d.jsx(J4,{"data-slot":"select-scroll-down-button",className:Ce("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(cx,{className:"size-4"})})}const tF=vx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function zi({className:t,variant:e,asChild:n=!1,...r}){const s=n?px:"span";return d.jsx(s,{"data-slot":"badge",className:Ce(tF({variant:e}),t),...r})}const nF=t=>({id:t.id,caseNo:t.data().caseNo||"",name:t.data().name||"",age:t.data().age||0,address:t.data().address||"",fatherName:t.data().fatherName||"",motherName:t.data().motherName||"",aadharNo:t.data().aadharNo||"",officerName:t.data().officerName||"",crimeType:t.data().crimeType||"",crimeDetails:t.data().crimeDetails||"",fingerDemographicDetails:t.data().fingerDemographicDetails||"",courtJudgement:t.data().courtJudgement||"Pending",judgeName:t.data().judgeName||"",status:t.data().status||"Open",photoBase64:t.data().photoBase64||"",createdAt:t.data().createdAt?.toDate()||new Date,updatedAt:t.data().updatedAt?.toDate()||new Date});function rF(){const[t,e]=y.useState([]),[n,r]=y.useState(!0),[s,i]=y.useState(!1),[o,a]=y.useState(null),[c,u]=y.useState(""),[h,p]=y.useState(""),[g,x]=y.useState(""),[w,E]=y.useState({status:"Open"});y.useEffect(()=>{const D=Eg(Ka(ar,"cases")),I=gj(D,v=>{const A=v.docs.map(nF);e(A),r(!1)},v=>{console.error("Error fetching cases:",v),r(!1)});return()=>I()},[]);const R=D=>{const I=D.target.files?.[0];if(p(""),!I){x(""),E({...w,photoBase64:""});return}if(!I.type.startsWith("image/")){p("Please select a valid image file"),D.target.value="";return}if(I.size>153600){p("Photo size must not exceed 150KB"),D.target.value="";return}const v=new FileReader;v.onloadend=()=>{const A=v.result;x(A),E({...w,photoBase64:A})},v.onerror=()=>{p("Failed to read file")},v.readAsDataURL(I)},T=async D=>{D.preventDefault();try{const I={caseNo:w.caseNo||"",name:w.name||"",age:w.age||0,address:w.address||"",fatherName:w.fatherName||"",motherName:w.motherName||"",aadharNo:w.aadharNo||"",officerName:w.officerName||"",crimeType:w.crimeType||"",crimeDetails:w.crimeDetails||"",fingerDemographicDetails:w.fingerDemographicDetails||"",courtJudgement:w.courtJudgement||"Pending",judgeName:w.judgeName||"",status:w.status||"Open",photoBase64:w.photoBase64||"",updatedAt:w0()};o?(await HI(Ga(ar,"cases",o.id),I),a(null)):await mj(Ka(ar,"cases"),{...I,createdAt:w0()}),E({status:"Open"}),x(""),p(""),i(!1)}catch(I){console.error("Error saving case:",I),alert("Failed to save case. Check console for details.")}},_=D=>{a(D),E(D),x(D.photoBase64||""),p(""),i(!0)},S=()=>{i(!1),a(null),E({status:"Open"}),x(""),p("")},P=t.filter(D=>D.caseNo.toLowerCase().includes(c.toLowerCase())||D.name.toLowerCase().includes(c.toLowerCase())||D.crimeType.toLowerCase().includes(c.toLowerCase())),L=D=>{switch(D){case"Open":return"bg-blue-500";case"Under Investigation":return"bg-yellow-500";case"In Court":return"bg-orange-500";case"Closed":return"bg-green-500";default:return"bg-gray-500"}};return n?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("p",{className:"text-slate-400",children:"Loading cases..."})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-white text-2xl mb-1",children:"Case Management"}),d.jsx("p",{className:"text-slate-400",children:"Add, edit, and manage case records"})]}),d.jsxs(Lt,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[d.jsx(ab,{className:"w-4 h-4 mr-2"}),"Add New Case"]})]}),s&&d.jsxs(gn,{className:"border-slate-700 bg-slate-800",children:[d.jsxs(vn,{children:[d.jsxs(yn,{className:"text-white flex items-center",children:[d.jsx(fa,{className:"w-5 h-5 mr-2"}),o?"Edit Case":"Add New Case"]}),d.jsx(kn,{className:"text-slate-400",children:o?"Update case information":"Enter complete case details"})]}),d.jsx(_n,{children:d.jsxs("form",{onSubmit:T,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"caseNo",className:"text-slate-200",children:"Case Number *"}),d.jsx(Qe,{id:"caseNo",required:!0,value:w.caseNo||"",onChange:D=>E({...w,caseNo:D.target.value}),className:"bg-slate-900 border-slate-600 text-white",placeholder:"CR-2024-XXX"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"name",className:"text-slate-200",children:"Full Name *"}),d.jsx(Qe,{id:"name",required:!0,value:w.name||"",onChange:D=>E({...w,name:D.target.value}),className:"bg-slate-900 border-slate-600 text-white"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"age",className:"text-slate-200",children:"Age *"}),d.jsx(Qe,{id:"age",type:"number",required:!0,value:w.age||"",onChange:D=>E({...w,age:parseInt(D.target.value)}),className:"bg-slate-900 border-slate-600 text-white"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"aadharNo",className:"text-slate-200",children:"Aadhar Number (12 digits) *"}),d.jsx(Qe,{id:"aadharNo",required:!0,maxLength:12,pattern:"[0-9]{12}",value:w.aadharNo||"",onChange:D=>E({...w,aadharNo:D.target.value}),className:"bg-slate-900 border-slate-600 text-white",placeholder:"123456789012"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"fatherName",className:"text-slate-200",children:"Father's Name *"}),d.jsx(Qe,{id:"fatherName",required:!0,value:w.fatherName||"",onChange:D=>E({...w,fatherName:D.target.value}),className:"bg-slate-900 border-slate-600 text-white"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"motherName",className:"text-slate-200",children:"Mother's Name *"}),d.jsx(Qe,{id:"motherName",required:!0,value:w.motherName||"",onChange:D=>E({...w,motherName:D.target.value}),className:"bg-slate-900 border-slate-600 text-white"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ne,{htmlFor:"photo",className:"text-slate-200 flex items-center",children:[d.jsx(dx,{className:"w-4 h-4 mr-2"}),"Photo Upload (Max 150KB)"]}),d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(Qe,{id:"photo",type:"file",accept:"image/*",onChange:R,className:"bg-slate-900 border-slate-600 text-white file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:bg-blue-600 file:text-white hover:file:bg-blue-700"}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Supported formats: JPG, PNG, GIF (Max: 150KB)"}),h&&d.jsx("p",{className:"text-xs text-red-400 mt-1",children:h})]}),g&&d.jsxs("div",{className:"relative flex-shrink-0",children:[d.jsx("img",{src:g,alt:"Preview",className:"w-20 h-20 object-cover rounded border-2 border-slate-600"}),d.jsx("button",{type:"button",onClick:()=>{x(""),E({...w,photoBase64:""});const D=document.getElementById("photo");D&&(D.value="")},className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center hover:bg-red-700",children:d.jsx(Oi,{className:"w-3 h-3"})})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"address",className:"text-slate-200",children:"Address *"}),d.jsx(uc,{id:"address",required:!0,value:w.address||"",onChange:D=>E({...w,address:D.target.value}),className:"bg-slate-900 border-slate-600 text-white",rows:2})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"officerName",className:"text-slate-200",children:"Officer Name *"}),d.jsx(Qe,{id:"officerName",required:!0,value:w.officerName||"",onChange:D=>E({...w,officerName:D.target.value}),className:"bg-slate-900 border-slate-600 text-white"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"crimeType",className:"text-slate-200",children:"Crime Type *"}),d.jsx(Qe,{id:"crimeType",required:!0,value:w.crimeType||"",onChange:D=>E({...w,crimeType:D.target.value}),className:"bg-slate-900 border-slate-600 text-white",placeholder:"e.g., Cyber Fraud, Identity Theft"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"crimeDetails",className:"text-slate-200",children:"Crime Details *"}),d.jsx(uc,{id:"crimeDetails",required:!0,value:w.crimeDetails||"",onChange:D=>E({...w,crimeDetails:D.target.value}),className:"bg-slate-900 border-slate-600 text-white",rows:3})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"fingerDemographicDetails",className:"text-slate-200",children:"Finger Demographic Details *"}),d.jsx(uc,{id:"fingerDemographicDetails",required:!0,value:w.fingerDemographicDetails||"",onChange:D=>E({...w,fingerDemographicDetails:D.target.value}),className:"bg-slate-900 border-slate-600 text-white",rows:2,placeholder:"e.g., Right thumb print - Loop pattern, 12 ridge characteristics"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"judgeName",className:"text-slate-200",children:"Judge's Name *"}),d.jsx(Qe,{id:"judgeName",required:!0,value:w.judgeName||"",onChange:D=>E({...w,judgeName:D.target.value}),className:"bg-slate-900 border-slate-600 text-white"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"status",className:"text-slate-200",children:"Case Status *"}),d.jsxs(zc,{value:w.status,onValueChange:D=>E({...w,status:D}),children:[d.jsx($c,{className:"bg-slate-900 border-slate-600 text-white",children:d.jsx(Bc,{})}),d.jsxs(Wc,{className:"bg-slate-900 border-slate-600 text-white",children:[d.jsx(nn,{value:"Open",children:"Open"}),d.jsx(nn,{value:"Under Investigation",children:"Under Investigation"}),d.jsx(nn,{value:"In Court",children:"In Court"}),d.jsx(nn,{value:"Closed",children:"Closed"})]})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"courtJudgement",className:"text-slate-200",children:"Court Judgement"}),d.jsx(uc,{id:"courtJudgement",value:w.courtJudgement||"",onChange:D=>E({...w,courtJudgement:D.target.value}),className:"bg-slate-900 border-slate-600 text-white",rows:2,placeholder:"Pending or enter judgement details"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Lt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[d.jsx(cb,{className:"w-4 h-4 mr-2"}),o?"Update Case":"Save Case"]}),d.jsxs(Lt,{type:"button",variant:"outline",onClick:S,className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[d.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})})]}),d.jsxs(gn,{className:"border-slate-700 bg-slate-800",children:[d.jsx(vn,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(yn,{className:"text-white",children:"All Cases"}),d.jsxs("div",{className:"relative w-64",children:[d.jsx(Am,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),d.jsx(Qe,{placeholder:"Search cases...",value:c,onChange:D=>u(D.target.value),className:"pl-10 bg-slate-900 border-slate-600 text-white"})]})]})}),d.jsx(_n,{children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(Vu,{children:[d.jsx(Fu,{children:d.jsxs(tr,{className:"border-slate-700 hover:bg-slate-700/50",children:[d.jsx(Ue,{className:"text-slate-300",children:"Case No"}),d.jsx(Ue,{className:"text-slate-300",children:"Name"}),d.jsx(Ue,{className:"text-slate-300",children:"Crime Type"}),d.jsx(Ue,{className:"text-slate-300",children:"Status"}),d.jsx(Ue,{className:"text-slate-300",children:"Officer"}),d.jsx(Ue,{className:"text-slate-300",children:"Actions"})]})}),d.jsx(Uu,{children:P.map(D=>d.jsxs(tr,{className:"border-slate-700 hover:bg-slate-700/50",children:[d.jsx(Me,{className:"text-white",children:D.caseNo}),d.jsx(Me,{className:"text-white",children:D.name}),d.jsx(Me,{className:"text-slate-300",children:D.crimeType}),d.jsx(Me,{children:d.jsx(zi,{className:L(D.status),children:D.status})}),d.jsx(Me,{className:"text-slate-300",children:D.officerName}),d.jsx(Me,{children:d.jsxs(Lt,{size:"sm",variant:"outline",onClick:()=>_(D),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[d.jsx(mb,{className:"w-4 h-4 mr-1"}),"Edit"]})})]},D.id))})]})})})]})]})}function sF(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var _l=t=>{const{present:e,children:n}=t,r=iF(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Xe(r.ref,oF(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};_l.displayName="Presence";function iF(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,c]=sF(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=gc(r.current);i.current=a==="mounted"?u:"none"},[a]),Pt(()=>{const u=r.current,h=s.current;if(h!==t){const g=i.current,x=gc(u);t?c("MOUNT"):x==="none"||u?.display==="none"?c("UNMOUNT"):c(h&&g!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Pt(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=x=>{const E=gc(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&E&&(c("ANIMATION_END"),!s.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},g=x=>{x.target===e&&(i.current=gc(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function gc(t){return t?.animationName||"none"}function oF(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function aF(t){const e=lF(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),c=a.find(uF);if(c){const u=c.props.children,h=a.map(p=>p===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:p);return d.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function lF(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=hF(s),a=dF(i,s.props);return s.type!==y.Fragment&&(a.ref=r?lo(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cF=Symbol("radix.slottable");function uF(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cF}function dF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function hF(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Vd="Dialog",[nC]=yo(Vd),[fF,Rn]=nC(Vd),rC=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),c=y.useRef(null),[u,h]=Ja({prop:r,defaultProp:s??!1,onChange:i,caller:Vd});return d.jsx(fF,{scope:e,triggerRef:a,contentRef:c,contentId:ts(),titleId:ts(),descriptionId:ts(),open:u,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};rC.displayName=Vd;var sC="DialogTrigger",pF=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rn(sC,n),i=Xe(e,s.triggerRef);return d.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$g(s.open),...r,ref:i,onClick:we(t.onClick,s.onOpenToggle)})});pF.displayName=sC;var zg="DialogPortal",[mF,iC]=nC(zg,{forceMount:void 0}),oC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Rn(zg,e);return d.jsx(mF,{scope:e,forceMount:n,children:y.Children.map(r,o=>d.jsx(_l,{present:n||i.open,children:d.jsx(Vg,{asChild:!0,container:s,children:o})}))})};oC.displayName=zg;var qu="DialogOverlay",aC=y.forwardRef((t,e)=>{const n=iC(qu,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Rn(qu,t.__scopeDialog);return i.modal?d.jsx(_l,{present:r||i.open,children:d.jsx(vF,{...s,ref:e})}):null});aC.displayName=qu;var gF=aF("DialogOverlay.RemoveScroll"),vF=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rn(qu,n);return d.jsx(Fg,{as:gF,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Ae.div,{"data-state":$g(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Xs="DialogContent",lC=y.forwardRef((t,e)=>{const n=iC(Xs,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Rn(Xs,t.__scopeDialog);return d.jsx(_l,{present:r||i.open,children:i.modal?d.jsx(yF,{...s,ref:e}):d.jsx(_F,{...s,ref:e})})});lC.displayName=Xs;var yF=y.forwardRef((t,e)=>{const n=Rn(Xs,t.__scopeDialog),r=y.useRef(null),s=Xe(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return TS(i)},[]),d.jsx(cC,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:we(t.onFocusOutside,i=>i.preventDefault())})}),_F=y.forwardRef((t,e)=>{const n=Rn(Xs,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return d.jsx(cC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),cC=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Rn(Xs,n),c=y.useRef(null),u=Xe(e,c);return XI(),d.jsxs(d.Fragment,{children:[d.jsx(Ng,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Rg,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$g(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(wF,{titleId:a.titleId}),d.jsx(xF,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Bg="DialogTitle",uC=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rn(Bg,n);return d.jsx(Ae.h2,{id:s.titleId,...r,ref:e})});uC.displayName=Bg;var dC="DialogDescription",hC=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rn(dC,n);return d.jsx(Ae.p,{id:s.descriptionId,...r,ref:e})});hC.displayName=dC;var fC="DialogClose",pC=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Rn(fC,n);return d.jsx(Ae.button,{type:"button",...r,ref:e,onClick:we(t.onClick,()=>s.onOpenChange(!1))})});pC.displayName=fC;function $g(t){return t?"open":"closed"}var mC="DialogTitleWarning",[fU,gC]=_j(mC,{contentName:Xs,titleName:Bg,docsSlug:"dialog"}),wF=({titleId:t})=>{const e=gC(mC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},EF="DialogDescriptionWarning",xF=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gC(EF).contentName}}.`;return y.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},TF=rC,IF=oC,SF=aC,CF=lC,AF=uC,RF=hC,NF=pC;function Hc({...t}){return d.jsx(TF,{"data-slot":"dialog",...t})}function bF({...t}){return d.jsx(IF,{"data-slot":"dialog-portal",...t})}function PF({className:t,...e}){return d.jsx(SF,{"data-slot":"dialog-overlay",className:Ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function qc({className:t,children:e,...n}){return d.jsxs(bF,{"data-slot":"dialog-portal",children:[d.jsx(PF,{}),d.jsxs(CF,{"data-slot":"dialog-content",className:Ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,d.jsxs(NF,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(Oi,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Kc({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-header",className:Ce("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Gc({className:t,...e}){return d.jsx(AF,{"data-slot":"dialog-title",className:Ce("text-lg leading-none font-semibold",t),...e})}function Qc({className:t,...e}){return d.jsx(RF,{"data-slot":"dialog-description",className:Ce("text-muted-foreground text-sm",t),...e})}var kF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DF=kF.reduce((t,e)=>{const n=Rm(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),OF="Separator",q0="horizontal",LF=["horizontal","vertical"],vC=y.forwardRef((t,e)=>{const{decorative:n,orientation:r=q0,...s}=t,i=jF(r)?r:q0,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(DF.div,{"data-orientation":i,...a,...s,ref:e})});vC.displayName=OF;function jF(t){return LF.includes(t)}var MF=vC;function Ns({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return d.jsx(MF,{"data-slot":"separator-root",decorative:n,orientation:e,className:Ce("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}function VF(){const[t,e]=y.useState([]),[n,r]=y.useState(""),[s,i]=y.useState(null),[o,a]=y.useState(!1),[c,u]=y.useState(!0);y.useEffect(()=>{h()},[]);const h=async()=>{try{const w=Eg(Ka(ar,"cases"),UI("createdAt","desc")),R=(await wp(w)).docs.map(T=>({id:T.id,...T.data(),createdAt:T.data().createdAt?.toDate()||new Date,updatedAt:T.data().updatedAt?.toDate()||new Date}));e(R)}catch(w){console.error("Error loading cases:",w)}finally{u(!1)}},p=w=>{i(w),a(!0)},g=t.filter(w=>w.caseNo?.toLowerCase().includes(n.toLowerCase())||w.name?.toLowerCase().includes(n.toLowerCase())||w.aadharNo?.includes(n)||w.crimeType?.toLowerCase().includes(n.toLowerCase())),x=w=>{switch(w){case"Open":return"bg-blue-500";case"Under Investigation":return"bg-yellow-500";case"In Court":return"bg-orange-500";case"Closed":return"bg-green-500";default:return"bg-gray-500"}};return c?d.jsx("div",{className:"text-white text-center",children:"Loading cases..."}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-white text-2xl mb-1",children:"Case Lookup"}),d.jsx("p",{className:"text-slate-400",children:"Search and view case records (Read-Only Access)"})]}),d.jsxs(gn,{className:"border-slate-700 bg-slate-800",children:[d.jsxs(vn,{children:[d.jsx(yn,{className:"text-white",children:"Search Cases"}),d.jsx(kn,{className:"text-slate-400",children:"Search by case number, name, Aadhar number, or crime type"})]}),d.jsx(_n,{children:d.jsxs("div",{className:"relative",children:[d.jsx(Am,{className:"absolute left-3 top-3 h-5 w-5 text-slate-400"}),d.jsx(Qe,{placeholder:"Enter case number, name, Aadhar number, or crime type...",value:n,onChange:w=>r(w.target.value),className:"pl-12 bg-slate-900 border-slate-600 text-white h-12"})]})})]}),d.jsxs(gn,{className:"border-slate-700 bg-slate-800",children:[d.jsxs(vn,{children:[d.jsx(yn,{className:"text-white",children:"Case Records"}),d.jsxs(kn,{className:"text-slate-400",children:[g.length," case(s) found"]})]}),d.jsx(_n,{children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(Vu,{children:[d.jsx(Fu,{children:d.jsxs(tr,{className:"border-slate-700 hover:bg-slate-700/50",children:[d.jsx(Ue,{className:"text-slate-300",children:"Case No"}),d.jsx(Ue,{className:"text-slate-300",children:"Name"}),d.jsx(Ue,{className:"text-slate-300",children:"Aadhar No"}),d.jsx(Ue,{className:"text-slate-300",children:"Crime Type"}),d.jsx(Ue,{className:"text-slate-300",children:"Status"}),d.jsx(Ue,{className:"text-slate-300",children:"Action"})]})}),d.jsx(Uu,{children:g.map(w=>d.jsxs(tr,{className:"border-slate-700 hover:bg-slate-700/50",children:[d.jsx(Me,{className:"text-white",children:w.caseNo}),d.jsx(Me,{className:"text-white",children:w.name}),d.jsx(Me,{className:"text-slate-300",children:w.aadharNo}),d.jsx(Me,{className:"text-slate-300",children:w.crimeType}),d.jsx(Me,{children:d.jsx(zi,{className:x(w.status),children:w.status})}),d.jsx(Me,{children:d.jsxs(Lt,{size:"sm",onClick:()=>p(w),className:"bg-blue-600 hover:bg-blue-700",children:[d.jsx(ux,{className:"w-4 h-4 mr-1"}),"View Details"]})})]},w.id))})]})})})]}),d.jsx(Hc,{open:o,onOpenChange:a,children:d.jsxs(qc,{className:"max-w-4xl bg-slate-800 border-slate-700 text-white max-h-[90vh] overflow-y-auto",children:[d.jsxs(Kc,{children:[d.jsxs(Gc,{className:"flex items-center text-white",children:[d.jsx(fa,{className:"w-5 h-5 mr-2"}),"Case Details - ",s?.caseNo]}),d.jsx(Qc,{className:"text-slate-400",children:"Complete case information (Read-Only)"})]}),s&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(zi,{className:x(s.status),children:s.status})}),d.jsx(Ns,{className:"bg-slate-700"}),s.photoBase64&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"flex items-center text-slate-200 mb-4",children:[d.jsx(dx,{className:"w-4 h-4 mr-2"}),"Subject Photo"]}),d.jsx("div",{className:"flex justify-center",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:s.photoBase64,alt:`Photo of ${s.name}`,className:"w-48 h-48 object-cover rounded-lg border-2 border-slate-600 shadow-lg"}),d.jsx("div",{className:"absolute top-2 right-2 bg-slate-900/80 px-2 py-1 rounded text-xs text-slate-300",children:"Subject Photo"})]})})]}),d.jsx(Ns,{className:"bg-slate-700"})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"flex items-center text-slate-200 mb-4",children:[d.jsx(hx,{className:"w-4 h-4 mr-2"}),"Personal Information"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Name"}),d.jsx("p",{className:"text-white mt-1",children:s.name})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Age"}),d.jsxs("p",{className:"text-white mt-1",children:[s.age," years"]})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Father's Name"}),d.jsx("p",{className:"text-white mt-1",children:s.fatherName})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Mother's Name"}),d.jsx("p",{className:"text-white mt-1",children:s.motherName})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx(ne,{className:"text-slate-400",children:"Aadhar Number"}),d.jsx("p",{className:"text-white mt-1",children:s.aadharNo})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsxs(ne,{className:"text-slate-400 flex items-center",children:[d.jsx(ib,{className:"w-4 h-4 mr-1"}),"Address"]}),d.jsx("p",{className:"text-white mt-1",children:s.address})]})]})]}),d.jsx(Ns,{className:"bg-slate-700"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-200 mb-4",children:"Case Information"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Case Number"}),d.jsx("p",{className:"text-white mt-1",children:s.caseNo})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Officer Name"}),d.jsx("p",{className:"text-white mt-1",children:s.officerName})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Crime Type"}),d.jsx("p",{className:"text-white mt-1",children:s.crimeType})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Crime Details"}),d.jsx("p",{className:"text-white mt-1 bg-slate-900/50 p-3 rounded border border-slate-700",children:s.crimeDetails})]})]})]}),d.jsx(Ns,{className:"bg-slate-700"}),d.jsxs("div",{children:[d.jsxs("h3",{className:"flex items-center text-slate-200 mb-4",children:[d.jsx(QN,{className:"w-4 h-4 mr-2"}),"Biometric Information"]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Finger Demographic Details"}),d.jsx("p",{className:"text-white mt-1 bg-slate-900/50 p-3 rounded border border-slate-700",children:s.fingerDemographicDetails})]})]}),d.jsx(Ns,{className:"bg-slate-700"}),d.jsxs("div",{children:[d.jsxs("h3",{className:"flex items-center text-slate-200 mb-4",children:[d.jsx(JN,{className:"w-4 h-4 mr-2"}),"Court Information"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Judge's Name"}),d.jsx("p",{className:"text-white mt-1",children:s.judgeName})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Court Judgement"}),d.jsx("p",{className:"text-white mt-1 bg-slate-900/50 p-3 rounded border border-slate-700",children:s.courtJudgement})]})]})]}),d.jsx(Ns,{className:"bg-slate-700"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Created"}),d.jsx("p",{className:"text-slate-300 mt-1",children:new Date(s.createdAt).toLocaleDateString()})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Last Updated"}),d.jsx("p",{className:"text-slate-300 mt-1",children:new Date(s.updatedAt).toLocaleDateString()})]})]})]})]})})]})}var Jh="rovingFocusGroup.onEntryFocus",FF={bubbles:!1,cancelable:!0},wl="RovingFocusGroup",[Pp,yC,UF]=GI(wl),[zF,_C]=yo(wl,[UF]),[BF,$F]=zF(wl),wC=y.forwardRef((t,e)=>d.jsx(Pp.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Pp.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(WF,{...t,ref:e})})}));wC.displayName=wl;var WF=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=t,g=y.useRef(null),x=Xe(e,g),w=Ag(i),[E,R]=Ja({prop:o,defaultProp:a??null,onChange:c,caller:wl}),[T,_]=y.useState(!1),S=ls(u),P=yC(n),L=y.useRef(!1),[D,I]=y.useState(0);return y.useEffect(()=>{const v=g.current;if(v)return v.addEventListener(Jh,S),()=>v.removeEventListener(Jh,S)},[S]),d.jsx(BF,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:E,onItemFocus:y.useCallback(v=>R(v),[R]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(v=>v+1),[]),onFocusableItemRemove:y.useCallback(()=>I(v=>v-1),[]),children:d.jsx(Ae.div,{tabIndex:T||D===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...t.style},onMouseDown:we(t.onMouseDown,()=>{L.current=!0}),onFocus:we(t.onFocus,v=>{const A=!L.current;if(v.target===v.currentTarget&&A&&!T){const N=new CustomEvent(Jh,FF);if(v.currentTarget.dispatchEvent(N),!N.defaultPrevented){const k=P().filter(J=>J.focusable),O=k.find(J=>J.active),b=k.find(J=>J.id===E),oe=[O,b,...k].filter(Boolean).map(J=>J.ref.current);TC(oe,h)}}L.current=!1}),onBlur:we(t.onBlur,()=>_(!1))})})}),EC="RovingFocusGroupItem",xC=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=ts(),u=i||c,h=$F(EC,n),p=h.currentTabStopId===u,g=yC(n),{onFocusableItemAdd:x,onFocusableItemRemove:w,currentTabStopId:E}=h;return y.useEffect(()=>{if(r)return x(),()=>w()},[r,x,w]),d.jsx(Pp.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:d.jsx(Ae.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:we(t.onMouseDown,R=>{r?h.onItemFocus(u):R.preventDefault()}),onFocus:we(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:we(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){h.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const T=KF(R,h.orientation,h.dir);if(T!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let S=g().filter(P=>P.focusable).map(P=>P.ref.current);if(T==="last")S.reverse();else if(T==="prev"||T==="next"){T==="prev"&&S.reverse();const P=S.indexOf(R.currentTarget);S=h.loop?GF(S,P+1):S.slice(P+1)}setTimeout(()=>TC(S))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:E!=null}):o})})});xC.displayName=EC;var HF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qF(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function KF(t,e,n){const r=qF(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return HF[r]}function TC(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function GF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var QF=wC,YF=xC,Fd="Tabs",[XF]=yo(Fd,[_C]),IC=_C(),[JF,Wg]=XF(Fd),SC=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,h=Ag(a),[p,g]=Ja({prop:r,onChange:s,defaultProp:i??"",caller:Fd});return d.jsx(JF,{scope:n,baseId:ts(),value:p,onValueChange:g,orientation:o,dir:h,activationMode:c,children:d.jsx(Ae.div,{dir:h,"data-orientation":o,...u,ref:e})})});SC.displayName=Fd;var CC="TabsList",AC=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Wg(CC,n),o=IC(n);return d.jsx(QF,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(Ae.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});AC.displayName=CC;var RC="TabsTrigger",NC=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Wg(RC,n),a=IC(n),c=kC(o.baseId,r),u=DC(o.baseId,r),h=r===o.value;return d.jsx(YF,{asChild:!0,...a,focusable:!s,active:h,children:d.jsx(Ae.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:we(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:we(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:we(t.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!s&&p&&o.onValueChange(r)})})})});NC.displayName=RC;var bC="TabsContent",PC=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Wg(bC,n),c=kC(a.baseId,r),u=DC(a.baseId,r),h=r===a.value,p=y.useRef(h);return y.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),d.jsx(_l,{present:s||h,children:({present:g})=>d.jsx(Ae.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:g&&i})})});PC.displayName=bC;function kC(t,e){return`${t}-trigger-${e}`}function DC(t,e){return`${t}-content-${e}`}var ZF=SC,eU=AC,tU=NC,nU=PC;function rU({className:t,...e}){return d.jsx(ZF,{"data-slot":"tabs",className:Ce("flex flex-col gap-2",t),...e})}function sU({className:t,...e}){return d.jsx(eU,{"data-slot":"tabs-list",className:Ce("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function K0({className:t,...e}){return d.jsx(tU,{"data-slot":"tabs-trigger",className:Ce("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function G0({className:t,...e}){return d.jsx(nU,{"data-slot":"tabs-content",className:Ce("flex-1 outline-none",t),...e})}function iU(){const[t,e]=y.useState([]),[n,r]=y.useState([]),[s,i]=y.useState(null),[o,a]=y.useState(!1),[c,u]=y.useState(!1),[h,p]=y.useState(!0),[g,x]=y.useState(""),[w,E]=y.useState(""),[R,T]=y.useState(""),[_,S]=y.useState(""),[P,L]=y.useState(""),[D,I]=y.useState(""),[v,A]=y.useState(!1),[N,k]=y.useState(""),[O,b]=y.useState(""),[ee,oe]=y.useState(""),[J,te]=y.useState(""),[j,H]=y.useState(""),[G,de]=y.useState(""),[ce,se]=y.useState(""),[pe,Oe]=y.useState(""),[$e,W]=y.useState("police"),[Re,Pe]=y.useState(""),[he,me]=y.useState(!1);y.useEffect(()=>{xe()},[]);const xe=async()=>{try{const B=Eg(Ka(ar,"cases"),UI("createdAt","desc")),ve=(await wp(B)).docs.map(Nn=>({id:Nn.id,...Nn.data(),createdAt:Nn.data().createdAt?.toDate()||new Date,updatedAt:Nn.data().updatedAt?.toDate()||new Date}));e(ve);const Il=(await wp(Ka(ar,"users"))).docs.map(Nn=>({id:Nn.id,...Nn.data()}));r(Il)}catch(B){console.error(B)}finally{p(!1)}},lt=y.useMemo(()=>{const B=n.filter(ve=>ve.role==="clerk").map(ve=>ve.fullName||ve.username).filter(Boolean);return[...new Set(B)].sort()},[n]),kt=y.useMemo(()=>(console.log("Recomputing filteredCases with:",{searchTerm:g,dateFrom:w,dateTo:R,selectedClerk:_,searchAadharOrCase:P,pinCode:D,totalCases:t.length}),t.filter(B=>{if(g&&!(B.caseNo?.toLowerCase().includes(g.toLowerCase())||B.name?.toLowerCase().includes(g.toLowerCase())||B.aadharNo?.includes(g)||B.crimeType?.toLowerCase().includes(g.toLowerCase())))return!1;const Te=new Date(B.createdAt);if(w){const ve=new Date(w);if(ve.setHours(0,0,0,0),Te<ve)return!1}if(R){const ve=new Date(R);if(ve.setHours(23,59,59,999),Te>ve)return!1}if(_&&String(B.officerName)!==_)return!1;if(P){const ve=P.toLowerCase();if(!B.aadharNo?.toLowerCase().includes(ve)&&!B.caseNo?.toLowerCase().includes(ve))return!1}return!(D&&!B.address?.includes(D))})),[t,g,w,R,_,P,D]),Kn=()=>{k(w),b(R),oe(_),te(P),H(D),A(!0)},Tr=()=>{E(N),T(O),S(ee),L(J),I(j),A(!1)},ws=()=>{k(""),b(""),oe(""),te(""),H("")},Ud=()=>{E(""),T(""),S(""),L(""),I("")},El=async B=>{if(B.preventDefault(),!G||!ce||!pe){Pe("Please fill all fields.");return}if(ce.length<6){Pe("Password must be at least 6 characters.");return}Pe(""),me(!0);try{const Te=await Jk(Qa,G,ce);await pj(Ga(ar,"users",Te.user.uid),{uid:Te.user.uid,fullName:pe,email:G,username:G,role:$e}),await xe(),de(""),se(""),Oe(""),W("police"),u(!1),alert("User created successfully!")}catch(Te){Pe(Te.code==="auth/email-already-in-use"?"Email already in use.":Te.message)}finally{me(!1)}},xo=B=>{i(B),a(!0)},xl=async(B,Te)=>{try{await HI(Ga(ar,"users",B),{role:Te}),r(ve=>ve.map(Gn=>Gn.id===B?{...Gn,role:Te}:Gn))}catch(ve){console.error(ve)}},Tl=B=>{switch(B){case"Open":return"bg-blue-500";case"Under Investigation":return"bg-yellow-500";case"In Court":return"bg-orange-500";case"Closed":return"bg-green-500";default:return"bg-gray-500"}},To=B=>{switch(B){case"admin":return"bg-purple-500";case"clerk":return"bg-blue-500";case"police":return"bg-green-500";default:return"bg-gray-500"}},Ir={totalCases:t.length,openCases:t.filter(B=>B.status==="Open").length,underInvestigation:t.filter(B=>B.status==="Under Investigation").length,inCourt:t.filter(B=>B.status==="In Court").length,closedCases:t.filter(B=>B.status==="Closed").length,totalUsers:n.length};return h?d.jsx("div",{className:"text-white text-center py-10",children:"Loading dashboard..."}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-white text-2xl mb-1",children:"Admin Dashboard"}),d.jsx("p",{className:"text-slate-400",children:"System overview and user management"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs(gn,{className:"border-slate-700 bg-gradient-to-br from-blue-900/50 to-blue-800/30",children:[d.jsxs(vn,{className:"pb-3",children:[d.jsx(kn,{className:"text-blue-200",children:"Total Cases"}),d.jsx(yn,{className:"text-white text-3xl",children:Ir.totalCases})]}),d.jsx(_n,{children:d.jsxs("div",{className:"flex items-center text-blue-300",children:[d.jsx(fa,{className:"w-4 h-4 mr-1"}),d.jsx("span",{className:"text-xs",children:"All records"})]})})]}),d.jsxs(gn,{className:"border-slate-700 bg-gradient-to-br from-yellow-900/50 to-yellow-800/30",children:[d.jsxs(vn,{className:"pb-3",children:[d.jsx(kn,{className:"text-yellow-200",children:"Under Investigation"}),d.jsx(yn,{className:"text-white text-3xl",children:Ir.underInvestigation})]}),d.jsx(_n,{children:d.jsxs("div",{className:"flex items-center text-yellow-300",children:[d.jsx(UN,{className:"w-4 h-4 mr-1"}),d.jsx("span",{className:"text-xs",children:"Active investigations"})]})})]}),d.jsxs(gn,{className:"border-slate-700 bg-gradient-to-br from-orange-900/50 to-orange-800/30",children:[d.jsxs(vn,{className:"pb-3",children:[d.jsx(kn,{className:"text-orange-200",children:"In Court"}),d.jsx(yn,{className:"text-white text-3xl",children:Ir.inCourt})]}),d.jsx(_n,{children:d.jsxs("div",{className:"flex items-center text-orange-300",children:[d.jsx(hb,{className:"w-4 h-4 mr-1"}),d.jsx("span",{className:"text-xs",children:"Court proceedings"})]})})]}),d.jsxs(gn,{className:"border-slate-700 bg-gradient-to-br from-green-900/50 to-green-800/30",children:[d.jsxs(vn,{className:"pb-3",children:[d.jsx(kn,{className:"text-green-200",children:"Closed Cases"}),d.jsx(yn,{className:"text-white text-3xl",children:Ir.closedCases})]}),d.jsx(_n,{children:d.jsxs("div",{className:"flex items-center text-green-300",children:[d.jsx(fa,{className:"w-4 h-4 mr-1"}),d.jsx("span",{className:"text-xs",children:"Resolved"})]})})]})]}),d.jsxs(rU,{defaultValue:"cases",className:"space-y-4",children:[d.jsxs(sU,{className:"bg-slate-800 border border-slate-700",children:[d.jsx(K0,{value:"cases",className:"data-[state=active]:bg-slate-700",children:"All Cases"}),d.jsx(K0,{value:"users",className:"data-[state=active]:bg-slate-700",children:"User Management"})]}),d.jsx(G0,{value:"cases",className:"space-y-4",children:d.jsxs(gn,{className:"border-slate-700 bg-slate-800",children:[d.jsx(vn,{children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx(yn,{className:"text-white",children:"All Case Records"}),d.jsx(kn,{className:"text-slate-400",children:"Read-only view of all cases in the system"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative w-64",children:[d.jsx(Am,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),d.jsx(Qe,{placeholder:"Search cases...",value:g,onChange:B=>x(B.target.value),className:"pl-10 bg-slate-900 border-slate-600 text-white"})]}),d.jsxs(Lt,{variant:"outline",size:"sm",onClick:Kn,className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[d.jsx(Qy,{className:"w-4 h-4 mr-2"}),"Filters"]}),(w||R||_||P||D)&&d.jsxs(Lt,{variant:"outline",size:"sm",onClick:Ud,className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[d.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Clear"]})]})]})}),d.jsxs(_n,{children:[d.jsxs("div",{className:"text-sm text-slate-400 mb-2",children:["Showing ",kt.length," of ",t.length," cases",w&&` | From: ${w}`,R&&` | To: ${R}`,_&&` | Clerk: ${_}`,P&&` | ID: ${P}`,D&&` | Pin: ${D}`]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(Vu,{children:[d.jsx(Fu,{children:d.jsxs(tr,{className:"border-slate-700 hover:bg-slate-700/50",children:[d.jsx(Ue,{className:"text-slate-300",children:"Case No"}),d.jsx(Ue,{className:"text-slate-300",children:"Name"}),d.jsx(Ue,{className:"text-slate-300",children:"Crime Type"}),d.jsx(Ue,{className:"text-slate-300",children:"Status"}),d.jsx(Ue,{className:"text-slate-300",children:"Officer"}),d.jsx(Ue,{className:"text-slate-300",children:"Created"}),d.jsx(Ue,{className:"text-slate-300",children:"Action"})]})}),d.jsx(Uu,{children:kt.length===0?d.jsx(tr,{children:d.jsx(Me,{colSpan:7,className:"text-center text-slate-500 py-8",children:"No cases match the current filters. Try adjusting them."})}):kt.map(B=>d.jsxs(tr,{className:"border-slate-700 hover:bg-slate-700/50",children:[d.jsx(Me,{className:"text-white",children:B.caseNo}),d.jsx(Me,{className:"text-white",children:B.name}),d.jsx(Me,{className:"text-slate-300",children:B.crimeType}),d.jsx(Me,{children:d.jsx(zi,{className:Tl(B.status),children:B.status})}),d.jsx(Me,{className:"text-slate-300",children:B.officerName}),d.jsx(Me,{className:"text-slate-300",children:new Date(B.createdAt).toLocaleDateString()}),d.jsx(Me,{children:d.jsxs(Lt,{size:"sm",variant:"outline",onClick:()=>xo(B),className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[d.jsx(ux,{className:"w-4 h-4 mr-1"}),"View"]})})]},B.id))})]})})]})]})}),d.jsx(G0,{value:"users",className:"space-y-4",children:d.jsxs(gn,{className:"border-slate-700 bg-slate-800",children:[d.jsx(vn,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs(yn,{className:"text-white flex items-center",children:[d.jsx(_b,{className:"w-5 h-5 mr-2"}),"User Management"]}),d.jsx(kn,{className:"text-slate-400",children:"Manage user roles and permissions"})]}),d.jsxs(Lt,{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700",children:[d.jsx(Nh,{className:"w-4 h-4 mr-2"}),"Add New User"]})]})}),d.jsx(_n,{children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(Vu,{children:[d.jsx(Fu,{children:d.jsxs(tr,{className:"border-slate-700 hover:bg-slate-700/50",children:[d.jsx(Ue,{className:"text-slate-300",children:"Username"}),d.jsx(Ue,{className:"text-slate-300",children:"Full Name"}),d.jsx(Ue,{className:"text-slate-300",children:"Email"}),d.jsx(Ue,{className:"text-slate-300",children:"Current Role"}),d.jsx(Ue,{className:"text-slate-300",children:"Change Role"})]})}),d.jsx(Uu,{children:n.map(B=>d.jsxs(tr,{className:"border-slate-700 hover:bg-slate-700/50",children:[d.jsx(Me,{className:"text-white",children:B.username}),d.jsx(Me,{className:"text-white",children:B.fullName}),d.jsx(Me,{className:"text-slate-300",children:B.email}),d.jsx(Me,{children:d.jsx(zi,{className:To(B.role),children:B.role.charAt(0).toUpperCase()+B.role.slice(1)})}),d.jsx(Me,{children:d.jsxs(zc,{value:B.role,onValueChange:Te=>xl(B.id,Te),children:[d.jsx($c,{className:"w-40 bg-slate-900 border-slate-600 text-white",children:d.jsx(Bc,{})}),d.jsxs(Wc,{className:"bg-slate-900 border-slate-600 text-white",children:[d.jsx(nn,{value:"clerk",children:"Clerk"}),d.jsx(nn,{value:"police",children:"Police"}),d.jsx(nn,{value:"admin",children:"Admin"})]})]})})]},B.id))})]})})})]})})]}),d.jsx(Hc,{open:v,onOpenChange:A,children:d.jsxs(qc,{className:"max-w-2xl bg-slate-800 border-slate-700 text-white",children:[d.jsxs(Kc,{children:[d.jsxs(Gc,{className:"text-white flex items-center",children:[d.jsx(Qy,{className:"w-5 h-5 mr-2"}),"Filter Cases"]}),d.jsx(Qc,{className:"text-slate-400",children:'Apply filters to narrow down the case list. Changes apply on "Apply Filters".'})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ne,{className:"text-slate-300 flex items-center",children:[d.jsx(Gy,{className:"w-4 h-4 mr-1"})," From Date"]}),d.jsx(Qe,{type:"date",value:N,onChange:B=>k(B.target.value),className:"bg-slate-900 border-slate-600 text-white"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ne,{className:"text-slate-300 flex items-center",children:[d.jsx(Gy,{className:"w-4 h-4 mr-1"})," To Date"]}),d.jsx(Qe,{type:"date",value:O,onChange:B=>b(B.target.value),className:"bg-slate-900 border-slate-600 text-white"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{className:"text-slate-300",children:"Clerk User Name"}),d.jsxs(zc,{value:ee||"all",onValueChange:B=>oe(B==="all"?"":B),children:[d.jsx($c,{className:"bg-slate-900 border-slate-600 text-white",children:d.jsx(Bc,{placeholder:"All Clerks"})}),d.jsxs(Wc,{className:"bg-slate-900 border-slate-600 text-white",children:[d.jsx(nn,{value:"all",children:"All Clerks"}),lt.map(B=>d.jsx(nn,{value:B,children:B},B))]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{className:"text-slate-300",children:"Pin Code (in Address)"}),d.jsx(Qe,{placeholder:"e.g., 110001",value:j,onChange:B=>H(B.target.value),className:"bg-slate-900 border-slate-600 text-white"})]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{className:"text-slate-300",children:"Aadhar / Case No"}),d.jsx(Qe,{placeholder:"e.g., 123456789012 or CR-2024",value:J,onChange:B=>te(B.target.value),className:"bg-slate-900 border-slate-600 text-white"})]})}),d.jsxs("div",{className:"flex gap-2 pt-4",children:[d.jsx(Lt,{type:"button",onClick:Tr,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Apply Filters"}),d.jsxs(Lt,{type:"button",variant:"outline",onClick:ws,className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[d.jsx(Oi,{className:"w-4 h-4 mr-1"}),"Clear"]})]})]})]})}),d.jsx(Hc,{open:c,onOpenChange:u,children:d.jsxs(qc,{className:"max-w-md bg-slate-800 border-slate-700 text-white",children:[d.jsxs(Kc,{children:[d.jsxs(Gc,{className:"flex items-center text-white",children:[d.jsx(Nh,{className:"w-5 h-5 mr-2"}),"Add New User"]}),d.jsx(Qc,{className:"text-slate-400",children:"Create a new user account with assigned role"})]}),d.jsxs("form",{onSubmit:El,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"newUserFullName",className:"text-slate-200",children:"Full Name *"}),d.jsx(Qe,{id:"newUserFullName",required:!0,value:pe,onChange:B=>Oe(B.target.value),className:"bg-slate-900 border-slate-600 text-white",placeholder:"John Doe"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"newUserEmail",className:"text-slate-200",children:"Email *"}),d.jsx(Qe,{id:"newUserEmail",type:"email",required:!0,value:G,onChange:B=>de(B.target.value),className:"bg-slate-900 border-slate-600 text-white",placeholder:"user@example.com"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"newUserPassword",className:"text-slate-200",children:"Password *"}),d.jsx(Qe,{id:"newUserPassword",type:"password",required:!0,minLength:6,value:ce,onChange:B=>se(B.target.value),className:"bg-slate-900 border-slate-600 text-white",placeholder:"At least 6 characters"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ne,{htmlFor:"newUserRole",className:"text-slate-200",children:"Role *"}),d.jsxs(zc,{value:$e,onValueChange:B=>W(B),children:[d.jsx($c,{className:"bg-slate-900 border-slate-600 text-white",children:d.jsx(Bc,{})}),d.jsxs(Wc,{className:"bg-slate-900 border-slate-600 text-white",children:[d.jsx(nn,{value:"police",children:"Police"}),d.jsx(nn,{value:"clerk",children:"Clerk"}),d.jsx(nn,{value:"admin",children:"Admin"})]})]})]}),Re&&d.jsx("div",{className:"bg-red-900/20 border border-red-600 text-red-400 p-3 rounded-md text-sm",children:Re}),d.jsxs("div",{className:"flex gap-2 pt-4",children:[d.jsxs(Lt,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:he,children:[d.jsx(Nh,{className:"w-4 h-4 mr-2"}),he?"Creating...":"Create User"]}),d.jsxs(Lt,{type:"button",variant:"outline",onClick:()=>{u(!1),Pe(""),de(""),se(""),Oe(""),W("police")},className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[d.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),d.jsx(Hc,{open:o,onOpenChange:a,children:d.jsxs(qc,{className:"max-w-3xl bg-slate-800 border-slate-700 text-white max-h-[90vh] overflow-y-auto",children:[d.jsxs(Kc,{children:[d.jsxs(Gc,{className:"flex items-center text-white",children:[d.jsx(fa,{className:"w-5 h-5 mr-2"}),"Case Details - ",s?.caseNo]}),d.jsx(Qc,{className:"text-slate-400",children:"Read-only case information"})]}),s&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(zi,{className:Tl(s.status),children:s.status})}),d.jsx(Ns,{className:"bg-slate-700"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Name"}),d.jsx("p",{className:"text-white mt-1",children:s.name})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Age"}),d.jsx("p",{className:"text-white mt-1",children:s.age})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Aadhar No"}),d.jsx("p",{className:"text-white mt-1",children:s.aadharNo})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Crime Type"}),d.jsx("p",{className:"text-white mt-1",children:s.crimeType})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx(ne,{className:"text-slate-400",children:"Crime Details"}),d.jsx("p",{className:"text-white mt-1 bg-slate-900/50 p-3 rounded",children:s.crimeDetails})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Officer"}),d.jsx("p",{className:"text-white mt-1",children:s.officerName})]}),d.jsxs("div",{children:[d.jsx(ne,{className:"text-slate-400",children:"Judge"}),d.jsx("p",{className:"text-white mt-1",children:s.judgeName})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx(ne,{className:"text-slate-400",children:"Address"}),d.jsx("p",{className:"text-white mt-1 bg-slate-900/50 p-3 rounded",children:s.address})]})]})]})]})})]})}const OC=y.createContext(void 0);function oU(){const t=y.useContext(OC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function aU({children:t}){const[e,n]=y.useState(null),[r,s]=y.useState(!0);y.useEffect(()=>n2(Qa,async a=>{if(a){const c=Ga(ar,"users",a.uid),u=await fj(c);if(u.exists()){const h=u.data(),p={id:a.uid,email:a.email||"",fullName:h.fullName||"No Name",role:h.role,username:h.username||a.email||""};n(p)}else console.error("User document not found in Firestore!"),n(null),Qa.signOut()}else n(null);s(!1)}),[]);const i={currentUser:e,loading:r};return d.jsx(OC.Provider,{value:i,children:!r&&t})}function lU(){const{currentUser:t}=oU(),e=async()=>{try{await r2(Qa)}catch(s){console.error("Error logging out:",s)}};if(!t)return d.jsx(yj,{});const n=()=>{switch(t.role){case"clerk":return"Court Clerk Dashboard";case"police":return"Police Officer Dashboard";case"admin":return"Administrator Dashboard";default:return"Dashboard"}},r=()=>{switch(t.role){case"clerk":return"bg-blue-600";case"police":return"bg-green-600";case"admin":return"bg-purple-600";default:return"bg-gray-600"}};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:[d.jsx("header",{className:"bg-slate-900/80 backdrop-blur border-b border-slate-700 sticky top-0 z-50",children:d.jsx("div",{className:"container mx-auto px-4 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`p-2 ${r()} rounded-lg`,children:d.jsx(Kf,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-white",children:n()}),d.jsxs("p",{className:"text-slate-400 text-sm",children:["Logged in as: ",t.fullName]})]})]}),d.jsxs(Lt,{onClick:e,variant:"outline",className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[d.jsx(rb,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})}),d.jsxs("main",{className:"container mx-auto px-4 py-8",children:[t.role==="clerk"&&d.jsx(rF,{}),t.role==="police"&&d.jsx(VF,{}),t.role==="admin"&&d.jsx(iU,{})]}),d.jsx("footer",{className:"bg-slate-900/50 border-t border-slate-700 mt-12",children:d.jsx("div",{className:"container mx-auto px-4 py-6",children:d.jsxs("div",{className:"text-center text-slate-400 text-sm",children:[d.jsx("p",{children:"Court Case Management System - Cybersecurity Hackathon Project"}),d.jsx("p",{className:"mt-1",children:"Secure  Encrypted  Role-Based Access Control"})]})})})]})}Zh.createRoot(document.getElementById("root")).render(d.jsx(Jn.StrictMode,{children:d.jsx(aU,{children:d.jsx(lU,{})})}));
